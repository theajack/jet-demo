"use strict";function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function e(t){if(void 0!=t){var n=u(t);if("htmlelement"==n||"array"==n)return t._JT_clone();if("json"==n||"object"==n){var i=new Object;for(var s in t)null==t[s]||void 0==t[s]?i[s]=t[s]:"array"==u(t[s])?i[s]=t[s]._JT_clone():"json"==u(t[s])||"object"==u(t[s])?i[s]=e(t[s]):i[s]=t[s];return i}return t}}function n(t,e,i){if("object"!==(void 0===t?"undefined":_typeof(t))||null===t){var s=i?sessionStorage:localStorage;if(void 0===e){if(void 0===t){var a={};return Object.keys(s).forEach(function(t){a[t]=s.getItem(t)}),a}if(null===t)Object.keys(s).forEach(function(t){s.removeItem(t)});else{var r=s.getItem(t);try{return JSON.parse(r)}catch(t){return r===parseFloat(r).toString()?parseFloat(r):r}}}else{if(null!==e)return"object"===(void 0===e?"undefined":_typeof(e))?s.setItem(t,JSON.stringify(e)):s.setItem(t,e),e;s.removeItem(t)}}else for(var o in t)n(o,t[o],i)}function i(t,e,n,s){if(1==arguments.length){if(document.cookie.length>0){var a=document.cookie.indexOf(t+"=");if(-1!=a){a=a+t.length+1;var r=document.cookie.indexOf(";",a);return-1==r&&(r=document.cookie.length),unescape(document.cookie.substring(a,r))}}return""}if(null!=e){var o=t+"="+escape(e);if(void 0!=n){var _=new Date;_.setDate(_.getDate()+n),o+=";expires="+_.toGMTString()}return void 0!=s&&("boolean"==u(s)?s&&(o+=";path=/"):o+=";path="+s),document.cookie=o,t+"="+e}i(t,"",-1)}function s(t){var e={type:t.type||"get",url:t.url||"",async:t.async||!0,data:t.data||null,dataType:t.dataType||"text",contentType:t.contentType||"application/x-www-form-urlencoded",beforeSend:t.beforeSend||function(){},success:t.success||function(){},error:t.error||function(){},header:t.header||{}};e.beforeSend();var n;window.XMLHttpRequest?n=new XMLHttpRequest:window.ActiveXObject&&(n=ActiveXObject("Microsoft.XMLHTTP"));var i=_(e.data);"get"==e.type.toLowerCase()&&""!==i&&(e.url=e.url+"?"+i),n.open(e.type,e.url,e.async),n.responseType=e.dataType,null!==t.contentType&&n.setRequestHeader("Content-Type",e.contentType);for(var s in e.header)n.setRequestHeader(s,e.header[s]);return"get"==e.type.toLowerCase()?n.send():n.send(i),n.onreadystatechange=function(){4==n.readyState&&(200==n.status?e.success(n.response||n.responseText):e.error(n.response||n.responseText))},n}function r(t,e,n){return Re.ajax({url:t,async:!0,success:function(t){e(t)},error:function(e){void 0!=n&&n(e),p("加载失败:"+t)}})}function o(t){return document.createElement(t)}function _(t){if(void 0==t)return"";var e=u(t);if("json"==e){var n="";for(var i in t)"object"===_typeof(t[i])?n+=i+"="+encodeURIComponent(JSON.stringify(t[i]))+"&":n+=i+"="+encodeURIComponent(t[i])+"&";return n=n.substring(0,n.length-1)}return"array"==e?JSON.stringify(t):(u(t),t)}function l(t){if(void 0==t)return function(){};var e=Re.type(t);return"function"==e?t:"string"==e?new Function(t):function(){}}function h(t){return null==t||void 0==t?[]:1==t.length?t[0]:t}function u(t){if(0!=arguments.length){var e=void 0===t?"undefined":_typeof(t);if("object"==e){if(null===t)return"null";switch(t.constructor){case Object:e="json";break;case Array:e="array";break;case HTMLCollection:e="htmlcollection";break;case NodeList:e="nodelist";break;case RegExp:e="regexp";break;case Error:e="error";break;case Date:e="date";break;default:e=1===t.nodeType&&"string"==typeof t.nodeName?"htmlelement":"object"}}return e}f("This function need a argument")}function c(){var t="";if(""!=location.search?t=location.search.substring(1):location.hash._JT_has("?")&&(t=location.hash.substring(location.hash.indexOf("?")+1)),""==t)return null;for(var e=decodeURI(t).split("&"),n={},i=0;i<e.length;i++){var s=e[i].split("=");n[s[0]]=s[1]}return n}function f(t){throw new Error(t)}function p(t){console.warn("JET warning:\r\n  "+t)}function d(t){console.info("JET info:\r\n  "+t)}function J(t){return void 0===t}function T(t,e){return void 0==t?e:t}function v(){var t={};return t.__proto__=null,t}function m(t,e,n){if(!he("lang"))return!1;var i=null!=t&&"object"==(void 0===t?"undefined":_typeof(t))&&e in t;return 2==arguments.length?i:i&&t[e]===n}function y(t){var e=t.tagName;return"INPUT"==e||"TEXTAREA"==e||"SELECT"==e||t._JT_hasAttr("contenteditable")&&"false"!=t._JT_attr("contenteditable")}function g(t,e){if(void 0===t)return document.body;if("string"==typeof t){var n=t;t=e?e._JT_findAttr(we+"="+n):Re.attr(we+"="+n),t._JT_exist()||(t=Re.id(n))}else"htmlelement"!=Re.type(t)&&(t=t.ele);return t}function j(t){if("string"==Re.type(t)){var e=Re.ct("div")._JT_html(t);return 1==e._JT_child().length?e._JT_child(0):e._JT_child()._JT_toArray()}return t}function x(t,e,n){if(n._JT_has("-=")||n._JT_has("+=")){var i=b(n.substring(n.indexOf("=")+1));n._JT_has("-=")&&(i[0]=-i[0]);var s;return s=b(n._JT_has("%")?t.style[e]:getComputedStyle(t)[e]),i[0]+s[0]+i[1]}return n}function b(t,e){if(""!=t&&void 0!=t||(t="0%"),void 0==e)if(t._JT_has("px"))e="px";else if(t._JT_has("%"))e="%";else{if(!t._JT_has("em"))return[parseFloat(t),"px"];e="em"}return[parseFloat(t.substring(0,t.indexOf(e))),e]}function $(t,e,n){document.addEventListener?t.addEventListener(e.substring(2),l(n),!1):document.attachEvent&&t.attachEvent(e,l(n))}function w(t,e){for(var n=[],i=e||0;i<t.length;i++)n.push(t[i]);return n}function A(){Re.tag("head")._JT_append(Re.ct("style")._JT_txt(".jet-hide{display:none!important}.jet-unpass{border-color:#f20!important;border-style:solid!important;background-color:rgba(255,0,0,.1)!important;color:red!important}"))}function O(t){var e=t.data;if(m(e,"type",Fe)){var n={};E(Re.clone(e.data[Jet.lang.list[0]]),n,"",e.data),t.data=n}else I(e)}function I(t){for(var e in t)S(t,e)}function D(t){for(var e=0;e<t.length;e++)S(t,e)}function S(t,e){var n=Re.type(t[e]);if(m(t[e],"type",Fe)){var i={},s=Re.clone(t[e].data[Jet.lang.list[0]]);"object"===(void 0===s?"undefined":_typeof(s))&&(E(s,i,"",t[e].data),t[e]=i)}else"json"===n?I(t[e]):"array"===n&&D(t[e])}function E(t,e,n,i){if("object"===(void 0===t?"undefined":_typeof(t)))for(var s in t)B(t,e,n,i,s)}function C(t,e,n,i){for(var s=0;s<t.length;s++)B(t,e,n,i,s)}function B(t,e,n,i,s){var a=Re.type(t[s]);n+="string"==typeof s?"."+s:"["+s+"]","json"===a?(e[s]={},e=e[s],t=t[s],E(t,e,n,i)):"array"===a?(e[s]=[],e=e[s],t=t[s],C(t,e,n,i)):"string"===a||"number"===a||"boolean"===a?(e[s]=k(i,n),e=e[s]):f(a+"数据类型错误："+t[s])}function k(t,e){var n={};for(var i in t)n[i]=new Function("d","return d"+e)(t[i]);return JL(n)}function L(t){var e=t.ele.__loadOpt;e&&(this._tools._props=P(this,e,t),this._tools._data.$props=this._tools._props)}function F(t){var e=t._tools._props_tools;e&&(e._props.forEach(function(n){n.isExp?R(t,e,n):(N(t.$props,e._ctx_data,n.name,n.value),t._tools._data.$props[n.name]=e._ctx_source_data[n.value],t._tools._calls.$props[n.name]=e._ctx_call[n.value])}),Object.defineProperty(t,"$props",{set:function(t){f("$prop 不能被赋值")}}))}function R(t,e,n){var i=n.value.match(Ae);null!=i&&i.forEach(function(i){""!==(i=i.substring(2,i.length-2))&&("$"==i?t._tools._calls.$props[n.name]=e._ctx_call:"$."==i.substring(0,2)&&("object"==_typeof(t.$props[n.name])?t._tools._calls.$props[n.name]=new Function("$","return "+i)(e._ctx_call):e._ctx_call[n.name]._func.push(function(e,i){e&&(t.$props[e]=n.func())})))})}function N(t,e,n,i){Object.defineProperty(t,n,{configurable:!0,get:function(){return e[i]},set:function(t){e[i]=t}})}function P(t,e,n){var i=n.ele.attributes,s=e.jet,a=e.data,r={};r._ctx_jet=s,r._ctx_call=e.calls,r._ctx_source_data=e._data,r._ctx_data=e.data,r._props=[];for(var o={},_=0;_<i.length;_++){var l=H(i[_]);if(null!=l)if(l.value in e._data||s[l.value]&&"function"==typeof s[l.value])l.value in e._data?l.prefix==De?o[l.name]=M(a[l.value]):r._props.push({name:l.name,value:l.value}):(o[l.name]=s[l.value].bind(s),o[l.name].__props_child=!0,o[l.name].__isPropsFunc=!0);else{var h={data:a,ele:n.ele,jet:s,root:Jet.$root};if(l.prefix==Se)"{"==l.value[0]&&"}"==l.value[l.value.length-1]?(o[l.name]=new Function("$","opt",l.value).bind(s,a,h),o[l.name].__isPropsFunc=!0):f("子组件使用js表达式作为函数参数时请使用{ }包裹");else if("{"==l.value[0]&&"}"==l.value[l.value.length-1]){l.value=l.value.substring(1,l.value.length-1);var u=l.value;l.value=l.value._JT_replaceAll([["{{",""],["}}",""]]);var c=new Function("$","opt","return "+l.value).bind(s,a,h),p=c();l.prefix==De?o[l.name]=M(p):(o[l.name]=p,r._props.push({name:l.name,value:u,isExp:!0,func:c}))}else o[l.name]=l.value}}return t._tools._props_tools=r,o}function M(t){return"object"==(void 0===t?"undefined":_typeof(t))?JSON.parse(JSON.stringify(t)):t}function H(t){var e=t.name,n=t.value,i="",s="";return e.substring(0,2)==De?(i=e.substring(2),s=De):e[0]==Ie?(s=Ie,i=e.substring(1)):e[0]==Se&&(s=Se,i=e.substring(1)),""==s?null:{prefix:s,name:U(i),value:n}}function U(t){var e=t.split("-");if(1==e.length)return t;t=e[0];for(var n=1;n<e.length;n++)t+=e[n][0].toUpperCase()+e[n].substring(1);return t}function V(t){for(var e=t._JT_parent();void 0===e.__jet;)e=e._JT_parent();return e.__jet}function q(t,e,n,i){var s={jet:n};return 1==i?s.call=t:2==i&&(s.call=e,s.name=t),s}function X(t){var e=t.name,n=t.call,i=t.jet,s=i._tools._calls,a=!1;if(void 0!==e)if(e._JT_has(".")){for(var r=e.split("."),o=1;o<r.length;o++)if(null==(s=G(s,r[o]))){a=!0,t.jet&&(i.$DOM?p("忽略了一个元素"):i.disable());break}a||s._func.push(n)}else"function"!=Re.type(n)&&f("call参数必须为函数"),s=G(s,e),null==s?(a=!0,t.jet&&(i.$DOM?p("忽略了一个元素"):i.disable())):s._func.push(n);else"function"!=Re.type(n)&&f("call参数必须为函数"),s._func.push(n)}function G(t,e){var n=e.match(Oe);if(null==n)return t[e]?t[e]:null;var i=e.substring(0,e.indexOf("[")),s=t[i];return n.forEach(function(t){var e=t.substring(1,t.length-1);if(!s[e])return null;s=s[e]}),s}function z(t){var e,n=Re.type(t);if("undefined"!==n&&"string"===n){var i=t;t=Re.attr(we+"="+i),t._JT_exist()||(t=Re.id(i))}var s=this;e=t?t._JT_findAttr(we):Re.attr(we),e._JT_each(function(t){!0!==t._hasDom&&(s.$dom[t._JT_attr(we)]=new Jet.DOM({ele:t,jet:s}),t._hasDom=!0)})}function K(t,e){he("router")&&(Jet.router.__await?Jet.router.__await():Jet.router.__hasInitJet=!0),"string"==typeof t.ele&&""!=t.ele&&(t.ele=Re.attr(we+"="+t.ele)),z.call(this,t.ele);var n=this;t.beforemount&&t.beforemount.call(this);var i,s,a,r,o,_,l,h;t.ele?(i=t.ele._JT_findAttr(de),s=t.ele._JT_findAttr(Je),a=t.ele._JT_findAttr(ge),r=t.ele._JT_findAttr(Te),o=t.ele._JT_findAttr(ve),_=t.ele._JT_findAttr(me),l=t.ele._JT_findAttr(ye)):(i=Re.attr(de),s=Re.attr(Je),a=Re.attr(ge),r=Re.attr(Te),o=Re.attr(ve),_=Re.attr(me),l=Re.attr(ye));var u=[];i._JT_each(function(i,s){if(!i._hasBind&&!i._hasDisabled){var a=i._JT_attr(de);if(void 0==t.data||""==a){var r=st(n,i,a,{_func:[]});i.__isRoot=!0,n._tools._jets.push(new Jet.Bind(r))}else if(a in t.data){var o,_=Re.type(t.data[a]),r=st(n,i,a,e[a]);switch(_){case"json":o=new Jet.Bind(r);break;case"array":o=new Jet.For(r);break;default:o=y(i)?new Jet.Input(r):new Jet.Text(r)}i.__isRoot=!0,n._tools._jets.push(o)}else i.__isRoot=!0,nt(i,u)}}),u._JT_each(function(t,e){t._hasJumped=void 0}),s._JT_each(function(t){t._hasIf||t._hasDisabled||n._tools._jetTools.push(new Jet.If(st(n,t)))}),a._JT_each(function(t){t._hasShow||t._hasDisabled||n._tools._jetTools.push(new Jet.Show(st(n,t),!0))}),r._JT_each(function(t){t._hasOn||t._hasDisabled||n._tools._jetTools.push(new Jet.On(st(n,t)))}),o._JT_each(function(t){t._hasRun||t._hasDisabled||n._tools._jetTools.push(new Jet.Run(st(n,t)))}),_._JT_each(function(t){t._hasAttr||t._hasDisabled||n._tools._jetTools.push(new Jet.Attr(st(n,t)))}),l._JT_each(function(t){t._hasStyle||t._hasDisabled||n._tools._jetTools.push(new Jet.Style(st(n,t),!0))}),h=t.ele?t.ele._JT_findAttr(Ye):Re.attr(Ye),h._JT_each(function(t){if(!t._hasLoad&&!t._hasDisabled){t._hasLoad=!0;var e=st(n,t);t.__loadOpt=e}}),Jet.$.id("__preload_j")._JT_remove(),Y(this,t.ondatachange),"undefined"!=typeof JUI&&(W(t.ele),JUI.useBind(this),JUI.init(t.ele)),he("router")&&(t.onroute&&Jet.router.onroute(t.onroute,this),t.onrouted&&Jet.router.onrouted(t.onrouted,this)),t.onmounted&&t.onmounted.call(this),t.beforeunmount&&(this._tools._beforeunmount=t.beforeunmount.bind(this)),t.onunmounted&&(this._tools._onunmounted=t.onunmounted.bind(this)),Jet.load.init.call(this,function(t){void 0!==t&&t._JT_each(function(t){it.call(n,t,!0)})}),Q(t.ele)}function Q(t){he("valid")&&Jet.valid.init(t),he("lang")&&Jet.lang.init(t)}function W(t){t._JT_findClass(JUI.DIALOG._name)._JT_each(function(t){t.__hasCheckDialog||(Q(t),t.__hasCheckDialog=!0)})}function Y(t,e){var n=[];e&&Z(t,e,"",n,!0)}function Z(t,e,n,i,s){if(J(e.$each)){"function"==typeof e&&!0!==s&&tt(t,n,"",e,i),J(e.$func)||tt(t,n,"",e.$func,i);for(var a in e)"$func"!==a&&Z(t,e[a],n+"."+a,i)}else{var r=new Function("jet","return jet"+n)(t);r.__oldLength=r.length,tt(t,n,"",function(){r.__oldLength!==r.length&&r.forEach(function(s,a){var r=i.slice(0,i.length);r.push(a),Z(t,e.$each,n+"["+a+"]",r)})},i),J(e.$func)||tt(t,n,"",e.$func,i),r.forEach(function(s,a){var r=i.slice(0,i.length);r.push(a),Z(t,e.$each,n+"["+a+"]",r)})}}function tt(t,e,n,i,s){Jet.Base.prototype.$regist.call(t,e+n,function(e,n){i.call(t,n,e,s)})}function et(t,e,n,i){var s=!0===i?n:V(t),a=void 0!==s.$DOM;a||s.type===de||f("只可在Jet元素或Bind元素作用于域下动态插入DOM元素初始化，当前插入作用域为"+s.type);var r=a?s._tools._data:s._data[s.name],o=void 0===e?st(s,t):st(s,t,e,s._tools._calls[e]);return{isRoot:a,jet:s,data:r,opt:a?o:Ft(s,t,e,s._tools._calls[e])}}function nt(t,e){[de,Je,ge,Te,ve,me,ye].forEach(function(n){t._JT_findAttr(n)._JT_each(function(t){t._hasJumped=!0,e.push(t)})})}function it(t,e){t=t||this._tools._ele,"string"==typeof t&&(t=g(t)),z.call(this,t);var n=this,i=t._JT_findAttr(de),s=t._JT_findAttr(Je),a=t._JT_findAttr(ge),r=t._JT_findAttr(Te),o=t._JT_findAttr(ve),_=t._JT_findAttr(me),l=t._JT_findAttr(ye),h=[];i._JT_each(function(t,i){if(!t._hasBind&&!t._hasDisabled){var s=t._JT_attr(de),a=et(t,s,n,e);if(void 0==a.data||""==s){var r=st(n,t,s,{_func:[]});t.__isRoot=!0,a._tools._jets.push(new Jet.Bind(r))}else if(s in a.data){var o,_=Re.type(a.data[s]);switch(_){case"json":o=new Jet.Bind(a.opt);break;case"array":o=new Jet.For(a.opt);break;default:o=y(t)?new Jet.Input(a.opt):new Jet.Text(a.opt)}a.isRoot&&(t.__isRoot=!0),a.jet._tools._jets.push(o)}else t.__isRoot=!0,nt(t,h)}}),h._JT_each(function(t,e){t._hasJumped=void 0}),s._JT_each(function(t){if(!t._hasIf&&!t._hasDisabled){var i=et(t,void 0,n,e);i.jet._tools._jetTools.push(new Jet.If(i.opt))}}),a._JT_each(function(t){if(!t._hasShow&&!t._hasDisabled){var i=et(t,void 0,n,e);i.jet._tools._jetTools.push(new Jet.Show(i.opt,!0))}}),r._JT_each(function(t){if(!t._hasOn&&!t._hasDisabled){var i=et(t,void 0,n,e);i.jet._tools._jetTools.push(new Jet.On(i.opt))}}),o._JT_each(function(t){if(!t._hasRun&&!t._hasDisabled){var i=et(t,void 0,n,e);i.jet._tools._jetTools.push(new Jet.Run(i.opt))}}),_._JT_each(function(t){if(!t._hasAttr&&!t._hasDisabled){var i=et(t,void 0,n,e);i.jet._tools._jetTools.push(new Jet.Attr(i.opt))}}),l._JT_each(function(t){if(!t._hasStyle&&!t._hasDisabled){var i=et(t,void 0,n,e);i.jet._tools._jetTools.push(new Jet.Style(i.opt,!0))}}),t._JT_findAttr(Ye)._JT_each(function(t){if(!t._hasLoad&&!t._hasDisabled){t._hasLoad=!0;var i=et(t,void 0,n,e);t.__loadOpt=i}}),"undefined"!=typeof JUI&&(W(t),JUI.useBind(this),JUI.init(t)),Q(t),Jet.load.init.call(this,t)}function st(t,e,n,i){return{jet:t,par:t,ele:e,data:t,_data:t._tools._data,name:n,calls:i||t._tools._calls}}function at(){var t=Re.ct("style")._JT_attr({type:"text/css",id:"JglobalStyle"});t._styles=[],Re.tag("head")._JT_append(t)}function rt(){document.head._JT_append(Re.ct("style")._JT_attr({type:"text/css",id:"__preload_j"})._JT_html("[J]{visibility:hidden}"))}function ot(t,e,n,i){n._func||(n._func=[]);for(var s in e)ht(t,s,e,n,i)}function _t(t,e,n,i){lt(t,e,n,0,i)}function lt(t,e,n,i,s){n._func||(n._func=[]);for(var a=i||0;a<e.length;a++)ht(t,a,e,n,s)}function ht(t,e,n,i,s){var a=Re.type(n[e]);if("function"!=a||n[e].__isPropsFunc||J(s)||(n[e]=n[e].call(s,s._tools._data,n),a=Re.type(n[e])),"json"==a){var r={};i[e]||(i[e]={}),ut(t,n,e,r,i[e]),ot(r,n[e],i[e],s)}else if("array"==a){var r=[];i[e]||(i[e]=[]),r._calls=i[e],r._data=n[e],ut(t,n,e,r,i[e],!0),_t(r,n[e],i[e],s)}else i[e]&&i[e]._func||(i[e]={_func:[]}),ct(t,n,e,i[e])}function ut(t,e,n,i,s,a){Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){return i},set:function(r){a?t[n].$replace(r):(e[n]=r,ft(i,r,s)),s._func._JT_each(function(t){t(n,r)})}})}function ct(t,e,n,i){Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){e[n];return m(e[n],"type",Fe)?e[n].data[Jet.lang.type]:e[n]},set:function(t){m(e[n],"type",Fe)?e[n].data[Jet.lang.type]=t:e[n]=t,i._func._JT_each(function(e){e(n,t)})}})}function ft(t,e,n){"json"==Tt(t,e)?pt(t,e,n):dt(t,e,n)}function pt(t,e,n){for(var i in e)Jt(t,e,i,n)}function dt(t,e,n){t.$replace(e)}function Jt(t,e,n,i){if(void 0!==t[n]){var s=Re.type(t[n]);"json"==s?pt(t[n],e[n],i[n]):"array"==s?dt(t[n],e[n],i[n]):t[n]=e[n]}else ht(t,n,e,i)}function Tt(t,e){var n=Re.type(t);return n!==Re.type(e)&&f("不允许前后设置的值类型不一致"),n}function vt(t,e){t.static&&(mt(t,"static",e,t.data,t.static),e.$data=t.static)}function mt(t,e,n,i,s){var a=u(t[e]);if("function"===a)t[e]=t[e].call(n,i,s,t);else if("json"===a)for(var r in t[e])mt(t[e],r,n,i,s);else if("array"===a)for(var o=0;o<t[e].length;o++)mt(t[e],o,n,i,s)}function yt(t,e){return JSON.stringify(t)===JSON.stringify(e)}function gt(t,e){if("object"===(void 0===e?"undefined":_typeof(e)))for(var n=0;n<t.length;n++)if(yt(e,t[n]))return n;return t.indexOf(e)}function jt(t){var e=this._tools._jetTools;this.ele._JT_hasAttr(Te)&&(this.ele._hasOn||e.push(new Jet.On(t))),this.ele._JT_hasAttr(ve)&&(this.ele._hasRun||e.push(new Jet.Run(t)))}function xt(t,e,n,i,s){var a=e._JT_attr(Ye),r=At(a,"html",e);e._JT_removeAttr(Ye+" "+Ze),Jet.load.__loadStore[r]?setTimeout(function(){$t(Jet.load.__loadStore[r],e,t,a,n,i,s)},0):Re.load(r,function(o){Jet.load.__loadStore[r]=o,$t(o,e,t,a,n,i,s)})}function bt(t,e){return void 0!==t[e]&&"function"==typeof t[e]}function $t(t,e,n,i,s,a,r){var o=a.length;e._JT_html(t);var _=e._JT_attr(tn);if(null===_&&n.$DOM&&void 0!==n._tools.name&&(_=n._tools.name),St(e,i),Dt(e,i,_),wt(e),Q(e),he("router")&&Jet.router.init(e),e._JT_hasAttr("jonload")){var l=e._JT_attr("jonload"),h=e.__jet,u={ele:e,par:n,jet:e.__jet};null!==_&&void 0!==Jet[_]&&bt(Jet[_],l)?Jet[_][l].call(Jet[_],u):n.$DOM&&bt(n,l)?n[l].call(n,u):h&&bt(h,l)?h[l].call(h,u):"$root"==n&&bt(Jet.$root,l)?Jet.$root[l].call(h,u):null!==_?new Function(l).call(Jet[_],u):new Function(l).call(n,u)}s==o-1&&void 0!=r&&r(a),"undefined"!=typeof JUI&&JUI.init(e)}function wt(t){var e=["image","media","media"];["img","audio","video"].forEach(function(n,i){t._JT_findTag(n)._JT_each(function(t){var n=t._JT_attr("src");null!=n&&"/"!=n[0]&&t._JT_attr("src",At(n,e[i],t))})})}function At(t,e,n){return n&&"false"===n._JT_attr(Ze)?he("router")?Jet.router.conf.base+It(t):Ot(t,e):he("res")?Jet.res.getSrc(t,e):he("router")?Jet.router.conf[e]+It(t):Ot(t,e)}function Ot(t,e){return"js"!=e&&"css"!=e&&"html"!=e||t.substring(t.lastIndexOf(".")+1)===e?t:t+"."+e}function It(t){return t=t.trim(),"/"!=t[0]&&(t="/"+t),t}function Dt(t,e,n){var i=e;null!==n&&(e=e+"-"+n);var s,a=Re.attr('load-script="'+e+'"'),r=function(){s=t._JT_attr("id"),null==s&&(s=Ce++),t._JT_attr(Be,s)},o=function(t){return null!==n?t.replace("new Jet(",'new Jet("'+n+'","'+s+'",'):t};if(a._JT_exist()){r();var _="";a.__sourceSrc.forEach(function(t){_+=o(t)});var l=Re.ct("script")._JT_attr({"load-script":e,type:"text/javascript"})._JT_html(_);l.__sourceSrc=a.__sourceSrc,a._JT_remove(),Re.body()._JT_append(l)}else{a=Re.ct("script")._JT_attr({"load-script":e,type:"text/javascript"});var h=["//# sourceURL="+i+".js\r\n"],u=t._JT_findTag("script")._JT_toArray(!1);u.length>0&&r();for(var c=-1,f=u.length-1;f>=0;f--)if(u[f]._JT_hasAttr("src")){c=f;break}var p=[];u._JT_each(function(t,e){t._JT_hasAttr("src")?Re.load(At(t._JT_attr("src"),"js",t),function(t){h[e+1]=o(t),p[e+1]=t,e==c&&(a._JT_html(h.join(";")),Re.body()._JT_append(a))}):(h[e+1]=o(t._JT_html()),p[e+1]=t._JT_html()),t._JT_remove()}),-1==c&&(a._JT_html(h.join(";")),a.__sourceSrc=p,Re.body()._JT_append(a))}}function St(t,e){!J(Jet.__css_conf)&&J(Jet.__css_conf.conf)?Jet.__css_conf._reloadCssConf(function(){Ct(t,e)}):(J(Jet.__css_conf)||(Jet.__css_conf.xhr=void 0),Ct(t,e))}function Et(t){return Jet.__css_conf?Jet.__css_conf._replaceCssVar(t):t}function Ct(t,e){var n=Re.id(en),i=Bt(e,t),s=[],a=[],r=t._JT_findTag("style")._JT_toArray(!1),o=r.length,_=0;r._JT_each(function(t,r){var l="false"!==t._JT_attr("scoped");l||!l&&-1===n._styles.indexOf(e)?(l||n._styles.push(e),t._JT_hasAttr("src")?Re.load(At(t._JT_attr("src"),"css",t),function(e){l?a[r]=Et(e):s[r]=Et(e),_++,kt(_,o,n,i,s,a),t._JT_remove()}):(l?a[r]=Et(t._JT_html()):s[r]=Et(t._JT_html()),_++,kt(_,o,n,i,s,a),t._JT_remove())):(_++,t._JT_remove())}),Jet.__css_conf&&Jet.__css_conf._loadCommonCss()}function Bt(t,e){if(e._JT_attr("id")===ke)var n=Re.ct("style")._JT_attr({type:"text/css",RootStyle:""});else var n=Re.ct("style")._JT_attr({class:Le,type:"text/css","scope-src":t});return n}function kt(t,e,n,i,s,a,r){t==e&&(s.length>0&&n._JT_html(n.innerHTML+s.join("")),a.length>0&&(i._JT_html(a.join("")),Re.tag("head").append(i)))}function Lt(t){var e=this,n=(t.data[t.name],this.ele._JT_findAttr(de)),i=this.ele._JT_findAttr(Je),s=this.ele._JT_findAttr(ge),a=this.ele._JT_findAttr(Te),r=this.ele._JT_findAttr(ve),o=this.ele._JT_findAttr(me),_=this.ele._JT_findAttr(ye),l=[];n._JT_each(function(t,n){if(!t._hasBind&&!t._hasDisabled&&!t._hasJumped){var i,s=t._JT_attr(de);if(s==be){var a=Ft(e,t,e.name,e.par._tools._calls[e.name]);a.data=e.data,a._data=e._data,i=y(t)?new Jet.Input(a):new Jet.Text(a)}else if(s._JT_has($e)){var a=Ft(e,t,s,e.par._tools._calls);if(a.index=e.name,y(t))f("input:不允许将index绑定到输入项中");else{if(s._JT_has($e+"(")){var r=s.substring(s.indexOf("(")+1,s.indexOf(")"));""==r&&(r=1),a._parIndex=parseInt(r)}i=new Jet.Text(a)}}else{var a=t._JT_hasAttr(je)?Rt(e.jet,t,s):Ft(e,t,s,e._tools._calls[s]);if("object"===_typeof(a._data)&&s in a._data){var o=Re.type(a._data[s]);switch(o){case"json":i=new Jet.Bind(a);break;case"array":i=new Jet.For(a);break;default:i=y(t)?new Jet.Input(a):new Jet.Text(a)}}else nt(t,l)}e._tools._jets.push(i)}}),l._JT_each(function(t,e){t._hasJumped=void 0}),i._JT_each(function(t){t._hasIf||t._hasDisabled||(t._JT_hasAttr(je)?e._tools._jetTools.push(new Jet.If(Rt(e.jet,t))):e._tools._jetTools.push(new Jet.If(Ft(e,t))))}),s._JT_each(function(t){t._hasShow||t._hasDisabled||(t._JT_hasAttr(je)?e._tools._jetTools.push(new Jet.Show(Rt(e.jet,t),!0)):e._tools._jetTools.push(new Jet.Show(Ft(e,t),!0)))}),a._JT_each(function(t){t._hasOn||t._hasDisabled||(t._JT_hasAttr(je)?e._tools._jetTools.push(new Jet.On(Rt(e.jet,t))):e._tools._jetTools.push(new Jet.On(Ft(e,t))))}),r._JT_each(function(t){t._hasRun||t._hasDisabled||(t._JT_hasAttr(je)?e._tools._jetTools.push(new Jet.Run(Rt(e.jet,t))):e._tools._jetTools.push(new Jet.Run(Ft(e,t))))}),o._JT_each(function(t){t._hasAttr||t._hasDisabled||(t._JT_hasAttr(je)?e._tools._jetTools.push(new Jet.Attr(Rt(e.jet,t))):e._tools._jetTools.push(new Jet.Attr(Ft(e,t))))}),_._JT_each(function(t){t._hasStyle||t._hasDisabled||(t._JT_hasAttr(je)?e._tools._jetTools.push(new Jet.Style(Rt(e.jet,t),!0)):e._tools._jetTools.push(new Jet.Style(Ft(e,t),!0)))}),this.ele._JT_findAttr(Ye)._JT_each(function(t){if(!t._hasLoad&&!t._hasDisabled){t._hasLoad=!0;var n;n=t._JT_hasAttr(je)?Rt(e.jet,t):Ft(e,t),t.__loadOpt=n}}),jt.call(this,t),this.$regist(function(t,n){e.refresh()})}function Ft(t,e,n,i){return{jet:t.jet,par:t,ele:e,data:t.data[t.name],_data:void 0==t._data?null:t._data[t.name],name:n,calls:i||t._tools._calls}}function Rt(t,e,n){return{jet:t,par:t,ele:e,data:t,_data:t._tools._data,name:n,calls:t._tools._calls}}function Nt(t){void 0!==this.__addSelectOption&&this.__addSelectOption(t)}function Pt(){"undefined"!=typeof JUI&&(W(this.ele),JUI.useBind(this.jet),JUI.init(this.ele,!0))}function Mt(t){if(void 0!=this.ele._JT_child(0)&&this.ele._JT_child(0)._JT_hasAttr(de)&&this.ele._JT_child(0)._JT_attr(de)._JT_has("=")){this._switch=!0,this._html={},this._type=null;var e=this,n={};this.ele._JT_child()._JT_each(function(t){var i=t._JT_attr(de);null==e._type&&(e._type=i.substring(i.indexOf(".")+1,i.indexOf("="))),i._JT_has("=")||f("swicth:html格式有误"),i=i.substring(i.indexOf("=")+1),e._html[i]=t._JT_allHtml(),n[i]=Re.ct("div")._JT_append(t)});for(var i=0;i<this.data[this.name].length;i++){var s=this.data[this.name][i][this._type];s in this._html?s in n?(this.ele._JT_append(n[s]._JT_child(0)),delete n[s]):this.ele._JT_append(this._html[s]):f("swicth:指定属性的值不在swicth枚举内")}}else if(this.ele._JT_findAttr(de+'="'+xe+'"')._JT_exist())if(1!=this.ele._JT_child().length||this.ele._JT_child(0)._JT_attr(de)!=xe)f("循环元素绑定格式错误！");else{var a=this.ele._JT_html();this._html=a;for(var i=0;i<this.data[this.name].length-1;i++)this.ele._JT_append(a)}else{var a=this.ele._JT_html(),r="div";this.ele._JT_hasAttr("jfor-inline")&&(r="span",this.ele._JT_removeAttr("jfor-inline")),this._html="<"+r+" "+de+'="'+xe+'">'+a+"</"+r+">";for(var i=0;i<this.data[this.name].length;i++){var o=Re.ct(r)._JT_attr(de,xe);0==i?this.ele.childNodes._JT_each(function(t){o._JT_append(t)}):o._JT_html(a),this.ele._JT_append(o)}}if(0==this.data[this.name].length){var e=this;[de,Je,ge,me,ye,ve,Te,Ye].forEach(function(t){e.ele._JT_findAttr(t)._JT_each(function(t){t._hasDisabled=!0})}),this.ele._JT_empty()}}function Ht(t){var e=this;this.data[this.name]._jet=this,Mt.call(this),this.ele._JT_child()._JT_each(function(t,n){if(!t._hasBind){var i,s=Ut(e,t,n);i="array"==Re.type(s.data[0])?new Jet.For(s):new Jet.Bind(s),e._tools._jets.push(i),Vt(e,t,n)}}),jt.call(this,t),this.$regist(function(t,n){e.refresh()})}function Ut(t,e,n){return{jet:t.jet,par:t,ele:e,data:t.data[t.name],_data:t._data[t.name],name:n,calls:t._tools._calls[n]}}function Vt(t,e,n){var i=e._JT_hasAttr(je)?qt(t.jet,e,n):Ut(t,e,n),s=t._tools._jets[n]._tools._jetTools;e._JT_hasAttr(Je)&&!e._hasIf&&s.push(new Jet.If(i)),e._JT_hasAttr(ge)&&!e._hasShow&&s.push(new Jet.Show(i,!0)),e._JT_hasAttr(Te)&&!e._hasOn&&s.push(new Jet.On(i)),e._JT_hasAttr(ve)&&!e._hasRun&&s.push(new Jet.Run(i)),e._JT_hasAttr(me)&&!e._hasAttr&&s.push(new Jet.Attr(i)),e._JT_hasAttr(ye)&&!e._hasStyle&&s.push(new Jet.Style(i,!0))}function qt(t,e,n){return{jet:jet,par:jet,ele:e,data:jet,_data:jet._tools._data,name:n,calls:jet._tools._calls}}function Xt(t){Gt.call(this,t);var e=this;""!=this.ele._JT_txt().trim()&&(this.func=new Function("$","opt","return "+this.ele._JT_txt().trim())),this.$regist(function(t,n){e.refresh()}),this.refresh(),jt.call(this,t)}function Gt(t){if(he("lang")){var e=Re.type(t._data);("json"===e&&t.name in t._data||"array"===e&&void 0!==t._data[t.name])&&m(t._data[t.name],"type",Fe)&&Jet.lang.jets.push(this)}}function zt(t){Gt.call(this,t);var e=this;"number"!==this.ele._JT_attr("j-type")&&"number"!==this.ele._JT_attr("type")||(e.forceNum=!0),this.ele._JT_hasAttr("contenteditable")?(this.isContent=!0,""!=this.ele._JT_txt().trim()&&(this.func=new Function("$","return "+this.ele._JT_txt()))):"SELECT"!=this.ele.tagName&&""!=this.ele._JT_val().trim()&&(this.func=new Function("$","return "+this.ele._JT_val())),this.ele._attrVal==$e&&f("输入框不能绑定数组的索引"),this.$regist(function(t,n){e.refresh()}),this.isNum="number"==Re.type(this.$getData());var n=this.ele.tagName,i=this.ele._JT_attr("type");null!==i&&(i=i.toLowerCase()),"SELECT"==n||"INPUT"==n&&"text"!=i&&"password"!=i&&"number"!=i&&null!=i?this.ele._JT_on("change",function(){Kt.call(this,e)},!0):(this.inputLock=!1,this.ele.addEventListener("compositionstart",function(){e.inputLock=!0}),this.ele.addEventListener("compositionend",function(){e.inputLock=!1,Kt.call(e.ele,e)}),this.ele._JT_on("input",function(){e.inputLock||Kt.call(this,e)},!0)),this.refresh(),jt.call(this,t)}function Kt(t){var e=t.isContent?this._JT_html():this._JT_val();if(t.forceNum)e=parseFloat(e),"NaN"===e.toString()&&(e="");else if(t.isNum){var n=parseFloat(e);e==n.toString()?(t.isNum=!0,e=n):t.isNum=!1}t.data[t.name]=e}function Qt(t){return t._JT_replaceAll([["\\$.\\$par","_par"],["\\$index\\(","_index("],["\\$index","_index()"],["\\$","d"],["{{",""],["}}",""]])}function Wt(t){return new Function("d","dr","_par","_index","return ("+t+")")}function Yt(t,e){return t(e,this.jet,re.bind(this),oe.bind(this))}function Zt(){if(this._attrVal._JT_has("$.$par")){this._attrVal.match(Ae);this._parData=[this.data];for(var t=this;!t.par.$DOM;)t=t.par,this._parData.push(t.data)}}function te(){var t=this,e=this._attrVal;if(Zt.call(this),this.type==ge)ee(e,this),this.func_true=function(){t.ele.style.display=""},this.func_false=function(){t.ele.style.display="none"},e=e in this._data?"d."+e:Qt(e),this.exp=Wt(e);else{var n=e.substring(0,e.indexOf(":"));ee(n,this),n="object"!==_typeof(this._data)?Qt(n):n in this._data?"d."+n:Qt(n),this.exp=Wt(n),e=e.substring(e.indexOf(":")+1);var i="",s="";e.split(";")._JT_each(function(e){if(e._JT_has("class[")){var n=e.substring(e.indexOf("[")+1,e.length-1);if(n._JT_has("|")){var a=n.split("|")[0].split(",").join(" "),r=n.split("|")[1].split(",").join(" ");i+="opt.ele._JT_removeClass('"+r+"')._JT_addClass('"+a+"');",s+="opt.ele._JT_removeClass('"+a+"')._JT_addClass('"+r+"');"}else n=n.split(",").join(" "),i+="opt.ele._JT_addClass('"+n+"');",s+="opt.ele._JT_removeClass('"+n+"');"}else if(e._JT_has("attr[")){var o=e.substring(e.indexOf("[")+1,e.length-1);if(o._JT_has("|")){var _=o.split("|")[0].split(","),l=[];_._JT_each(function(t){l.push(t.split("=")[0])});var h=o.split("|")[1].split(","),u=[];h._JT_each(function(t){u.push(t.split("=")[0])}),_._JT_each(function(t){var e=t.split("=");1==e.length&&(e[1]=""),i+="opt.ele._JT_attr('"+e[0]+"','"+e[1]+"');",-1==u.indexOf(e[0])&&(s+="opt.ele._JT_removeAttr('"+e[0]+"');")}),h._JT_each(function(t){var e=t.split("=");1==e.length&&(e[1]=""),s+="opt.ele._JT_attr('"+e[0]+"','"+e[1]+"');",-1==l.indexOf(e[0])&&(i+="opt.ele._JT_removeAttr('"+e[0]+"');")})}else o.split(",")._JT_each(function(t){var e=t.split("=");1==e.length&&(e[1]=""),i+="opt.ele._JT_attr('"+e[0]+"','"+e[1]+"');",s+="opt.ele._JT_removeAttr('"+e[0]+"');"})}else if(e._JT_has("text[")){var c=e.substring(e.indexOf("[")+1,e.length-1);c._JT_has("|")?(i+="opt.ele._JT_txt('"+c.split("|")[0]+"');",s+="opt.ele._JT_txt('"+c.split("|")[1]+"');"):(i+="opt.ele._JT_txt('"+c+"');",s+="opt.ele._JT_txt('');")}else if(e._JT_has("html[")){var f=e.substring(e.indexOf("[")+1,e.length-1);f._JT_has("|")?(i+="opt.ele._JT_html('"+f.split("|")[0]+"');",s+="opt.ele._JT_html('"+f.split("|")[1]+"');"):(i+="opt.ele._JT_html('"+f+"');",s+="opt.ele._JT_html('');")}else if(e._JT_has("css[")){var o=e.substring(e.indexOf("[")+1,e.length-1);o._JT_has("|")?(i+="opt.ele._JT_removeAttr('style');",o.split("|")[0].split(",")._JT_each(function(t){var e=t.split("=");1==e.length&&(e[1]=""),i+="opt.ele._JT_css('"+e[0]+"','"+e[1]+"');"}),s+="opt.ele._JT_removeAttr('style');",o.split("|")[1].split(",")._JT_each(function(t){var e=t.split("=");1==e.length&&(e[1]=""),s+="opt.ele._JT_css('"+e[0]+"','"+e[1]+"');"})):(i+="opt.ele._JT_removeAttr('style');",o.split(",")._JT_each(function(t){var e=t.split("=");1==e.length&&(e[1]=""),i+="opt.ele._JT_css('"+e[0]+"','"+e[1]+"');"}),s+="opt.ele._JT_removeAttr('style');")}else e._JT_has("|")?(e=e.split("|"),e[0]in t.jet?i+="this."+e[0]+".call(this,opt);":i+=e[0],e[1]in t.jet?s+="this."+e[1]+".call(this,opt);":s+=e[1]):e in t.jet?i+="this."+e+".call(this,opt);":i+=e}),this.func_true=new Function("opt",i),this.func_false=new Function("opt",s)}this.refresh()}function ee(t,e){var n=t.match(Ae),i=!1;if(null==n)t in e._data||t._JT_has("$."),e.$regist(t,function(t,n){e.refresh()});else{var s=[];n.forEach(function(t){if(-1==s.indexOf(t))if(s.push(t),"{{$}}"==t)e.$regist(function(t,n){e.refresh()});else{var n=e,a=!1;if(t._JT_has("$r."))n=e.jet;else if(t._JT_has(".$par(")){var r=t.substring(t.indexOf(".$par(")+6,t.indexOf(")"));r=""===r?1:parseInt(r),n=ne(n,r),t="{{$"+t.substring(t.indexOf(")")+1)}else t._JT_has($e)&&(e._hasIndex=!0,i=!0,a=!0);a||("{{$}}"==t?e.$regist(function(t,n){e.refresh()}):n.$regist(t.substring(2,t.length-2),function(t,n){e.refresh()}))}})}return i}function ne(t,e){if(e>t._parData.length-1)return t.jet;for(var n=t._parData[e],i=t.par;i.$getData()!==n&&!i.$DOM;)i=i.par;return i}function ie(){var t=this;this._attrVal.split(";;")._JT_each(function(e){e._JT_has(":")||(e="click:"+e);var n,i=e.substring(0,e.indexOf(":")),s=e.substring(e.indexOf(":")+1),a="",r=null,o=[],_=!1,l=[];if(s._JT_has("$valid"))if(he("valid")||f("未启用验证模块，不能使用$valid表达式"),s._JT_has("=>")){if(_=!0,n=Jet.valid.findValidPar(t.ele),a=s.substring(s.indexOf("=>")+2).trim(),a._JT_has("|")){var h=a.split("|");a=h[0],r=h[1]}}else f('valid:"'+s+'" 格式有误，操作符为 =>');else a=s;var u=a.substring(0,a.indexOf(",")),c=t.jet.$props;if(a in t.jet||u in t.jet||c&&(a in c||u in c)?a.split(",").forEach(function(e){"function"!=typeof t.jet[e]&&c&&"function"!=typeof c[e]?f(e+" 不是一个方法"):t.jet[e]?l.push(t.jet[e]):l.push(c[e])}):l=[new Function("opt",a)],_&&null!=r){var p=r.substring(0,r.indexOf(","));r in t.jet||p in t.jet||c&&(r in c||p in c)?r.split(",").forEach(function(e){"function"!=typeof t.jet[e]?f(e+" 不是一个方法"):t.jet[e]?o.push(t.jet[e]):o.push(c[e])}):o=[new Function("opt",r)]}t.ele._JT_on(i,function(e){var i={ele:this,data:t.$getData(),event:e,jet:t};_?n._JT_validate(function(){l.forEach(function(e){se(e,t,i)})},function(){o.forEach(function(e){se(e,t,i)})}):l.forEach(function(e){se(e,t,i)})})})}function se(t,e,n){t.__props_child?(n.child=e.jet,t.call(e.jet,n),delete n.child):t.call(e.jet,n)}function ae(t){this.runs=this._attrVal.split(","),this.runs[0]in this.jet&&"function"==typeof this.jet[this.runs[0]]||(this.runs=[this._attrVal]),this.run()}function re(t){return(void 0==t||t<=0)&&(t=1),t>=this._parData.length?this._parData[this._parData.length-1]:this._parData[t-1]}function oe(t){for(var e=this.par;t>0;)e=e.par,"array"!=u(e._data)&&(e=e.par),t--;return e.ele._JT_index()}function _e(t){var e=this._attrVal;Zt.call(this),this.attrs={};var n=this;e._JT_has(";")?e.split(";").forEach(function(t){le.call(n,t)}):le.call(n,e),this.refresh()}function le(t){if(t._JT_has(":")){var e=t.indexOf(":"),n=t.substring(e+1);if(n._JT_has("{{")){var i=ee(n,this);n=Qt(n);var s=Wt(n);i&&(s._hasIndex=!0),this.attrs[t.substring(0,e)]=s}else this.attrs[t.substring(0,e)]=new Function("return '"+n+"'")}else f(this.isStyle?"JStyle":"JAttr:必须指定属性的值")}function he(t){return-1!==Jet.$use.list.indexOf(t)||-1!==Jet.__base__._useList.indexOf(t)}function ue(t,e){on[e]=t,_n[e]=new Date,rn[e].forEach(function(t,n){ce(t,e)})}function ce(t,e){var n=t;Jet.$use.list.push(t),-1!==nn.indexOf(t)&&(n="assets/js/jet-lib/"+t+".js");var i=Re.ct("script")._JT_attr({src:n});i.onload=function(){Jet.$use._regist(t,e)},Re.body()._JT_append(i)}var fe,pe=new Date,de="J",Je="Jif",Te="Jon",ve="Jrun",me="Jattr",ye="Jstyle",ge="Jshow",je="Jroot",xe="$each",be="$value",$e="$index",we="jdom",Ae=new RegExp("({{)((.|\\n)*?)(}})","g"),Oe=new RegExp("(\\[)((.|\\n)*?)(\\])","g"),Ie=":",De="::",Se="@",Ee=0,Ce=0,Be="comp__id",ke="JET_ROOT",Le="JscopeStyle",Fe="Jlang",Re={cls:function(t){return h(document.getElementsByClassName(t))},id:function(t){return h(document.getElementById(t))},tag:function(t){return h(document.getElementsByTagName(t))},attr:function(t){return h(document.querySelectorAll("["+t+"]"))},name:function(t){return h(document.getElementsByName(t))},select:function(t){return h(document.querySelectorAll(t))},body:function(){return document.body},type:u,ct:o,ajax:s,cookie:i,storage:n,load:r,clone:e,html5:function(){return!!window.applicationCache},urlParam:c,delay:function(t,e){return e=e||500,setTimeout(function(){t.call(this)},e)},interval:function(e,n,i){return i=i||500,setInterval(function(){e().call(this)&&(clearInterval(t),n().call(this))},i)},clearDelay:function(t){return setTimeout(t)},clearInterval:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return clearInterval(t)})};n.session=function(t,e){return n(t,e,!0)};var Ne=HTMLElement.prototype,Pe=HTMLCollection.prototype,Me=NodeList.prototype,He=Array.prototype,Ue=String.prototype;Ne._JT_css=function(t,e){if(void 0==e){if("json"==Re.type(t)){for(var n in t)t[n]._JT_has("!important")?this.style.setProperty(n,x(this,n,t[n].substring(0,t[n].indexOf("!important"))),"important"):this.style.setProperty(n,x(this,n,t[n]));return this}return getComputedStyle(this)[t]}return"number"==typeof e&&(e+="px"),e._JT_has("!important")?this.style.setProperty(t,x(this,t,e.substring(0,e.indexOf("!important"))),"important"):this.style.setProperty(t,x(this,t,e)),this},Ne._JT_attr=function(t,e){if(void 0==e){if("json"==Re.type(t)){for(var n in t)""!==n.trim()&&this.setAttribute(n,t[n]);return this}return this.getAttribute(t)}return""!==t.trim()&&this.setAttribute(t,e),this},Pe._JT_attr=Me._JT_attr=function(t,e){if(void 0==e&&"json"!=Re.type(t)){var n=[];return this._JT_each(function(e){n._JT_append(e._JT_attr(t))}),n}return this._JT_each(function(n){n._JT_attr(t,e)}),this},Ne._JT_hasAttr=function(t){return this.hasAttribute(t)},Ne._JT_removeAttr=function(t){var e=t.split(" ");if(e.length>1){var n=this;e._JT_each(function(t){n.removeAttribute(t)})}else this.removeAttribute(t);return this},Pe._JT_removeAttr=Me._JT_removeAttr=function(t){return this._JT_each(function(e){e._JT_removeAttr(t)}),this},Ne._JT_findTag=function(t){return h(this.getElementsByTagName(t))},Ne._JT_findAttr=function(t){return h(this.querySelectorAll("["+t+"]"))},Ne._JT_findClass=function(t){return h(this.getElementsByClassName(t))},Ne._JT_select=function(t){return h(this.querySelectorAll(t))},Ne._JT_addClass=function(t){if(t._JT_has(" ")){var e=this;t.split(" ")._JT_each(function(t){e._JT_addClass(t)})}else""!==t.trim()&&(Re.html5()?this.classList.add(t):this._JT_hasClass(t)||(this.className+=" "+t));return this},Pe._JT_addClass=Me._JT_addClass=function(t){return this._JT_each(function(e){e._JT_addClass(t)}),this},Ne._JT_removeClass=function(t){if(void 0==t)this.className="";else if(""!==t.trim())if(t._JT_has(" ")){var e=t.split(" "),n=this;e._JT_each(function(t){n._JT_removeClass(t)})}else if(Re.html5())this.classList.remove(t);else if(this._JT_hasClass(t)){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");this.className=this.className.replace(i," ").trim()}return this},Pe._JT_removeClass=Me._JT_removeClass=function(t){return this._JT_each(function(e){e._JT_removeClass(t)}),this},Ne._JT_val=function(t){return void 0==t&&0==arguments.length?this.value:("INPUT"!=this.tagName&&"TEXTAREA"!=this.tagName&&"SELECT"!=this.tagName||(this.value=T(t,"")),this)},Pe._JT_val=Me._JT_val=function(t){if(void 0==t){var e=[];return this._JT_each(function(t){e._JT_append(t._JT_val())}),e}return this._JT_each(function(e){e._JT_val(t)}),this},Ne._JT_txt=function(t){return void 0==t&&0==arguments.length?this.innerText:(this.innerText=T(t,""),this)},Pe._JT_txt=Me._JT_txt=function(t){if(void 0==t&&0==arguments.length){var e=[];return this._JT_each(function(t){e._JT_append(t._JT_txt())}),e}return this._JT_each(function(e){e._JT_txt(t)}),this},Ne._JT_html=function(t){return void 0==t?this.innerHTML:(this.innerHTML=t,this)},Pe._JT_html=Me._JT_html=function(t){if(void 0==t){var e=[];return this._JT_each(function(t){e._JT_append(t._JT_html())}),e}return this._JT_each(function(e){e._JT_html(t)}),this},Ne._JT_allHtml=function(t){return void 0==t?this.outerHTML:(this.outerHTML=t,this)},Pe._JT_allHtml=Me._JT_allHtml=function(t){var e=[];return this._JT_each(function(n){e._JT_append(n._JT_allHtml(t))}),e},Ne._JT_hasClass=function(t){return""===t.trim()||(Re.html5()?this.classList.contains(t):new RegExp("(\\s|^)"+t+"(\\s|$)").test(this.className))},Ne._JT_next=function(t){return void 0!=t?this._JT_parent()._JT_child(this._JT_index()+t):this._JT_parent()._JT_child(this._JT_index()+1)},Ne._JT_prev=function(t){return void 0!=t?this._JT_parent()._JT_child(this._JT_index()-t):this._JT_parent()._JT_child(this._JT_index()-1)},Ne._JT_child=function(t){return void 0==t?this.children:this.children[t]},Ne._JT_clone=function(){return this.cloneNode()._JT_html(this._JT_html())},Ne._JT_parent=function(t){if(void 0==t)return this.parentElement;for(var e=this,n=0;n<t;n++)e=e.parentElement;return e},Ne._JT_prepend=function(t){var e=Re.type(t);if("array"==e||"htmlcollection"==e||"nodelist"==e){var n=this;t._JT_each(function(t){n.insertBefore(j(t),n.children[0])})}else this.insertBefore(j(t),this.children[0]);return this},Pe._JT_prepend=Me._JT_prepend=function(t){return this._JT_each(function(e){e._JT_prepend(t)}),this},Ne._JT_append=function(t,e){if(void 0==e){var n=Re.type(t);if("array"==n||"htmlcollection"==n||"nodelist"==n)for(var i=0;i<t.length;i++)this._JT_append(t[i]);else"string"==n?this._JT_append(j(t)):this.appendChild(j(t))}else this.insertBefore(j(t),this.children[e]);return this},Pe._JT_append=Me._JT_append=function(t,e){return this._JT_each(function(n){n._JT_append(t,e)}),this},Ne._JT_toArray=function(){return[this]},Pe._JT_toArray=Me._JT_toArray=function(t){if(0!=t){for(var e=[],n=0;n<this.length;n++)e.push(this[n]);return e}return this},Ne._JT_index=function(){for(var t=this._JT_parent()._JT_child(),e=0;e<t.length;e++)if(t[e]==this)return e;return-1},Ne._JT_on=function(t,e,n){if("string"==Re.type(t))return this._JT_event("on"+t,e,n);for(var i in t)t["on"+i]=t[i],delete t[i];return this._JT_event(t,e)},Pe._JT_on=Me._JT_on=function(t,e,n){return this._JT_each(function(i){i._JT_on(Re.clone(t),e,n)}),this},Ne._JT_clk=function(t,e){return this._JT_event("onclick",t,e)},Pe._JT_clk=Me._JT_clk=function(t,e){return this._JT_each(function(n){n._JT_clk(t,e)}),this},Ne._JT_event=function(t,e,n){if("string"==Re.type(t))!0===n?$(this,t,e):this[t]=l(e);else for(var i in t)void 0!=t[i]&&(!0===e?$(this,i,t[i]):this[i]=l(t[i]));return this},Pe._JT_event=Me._JT_event=function(t,e,n){return this._JT_each(function(i){i._JT_event(t,e,n)}),this},Ne._JT_empty=function(){return this._JT_html("")},Pe._JT_empty=Me._JT_empty=function(){return this._JT_each(function(t){t._JT_empty()}),this},Ne._JT_remove=function(){null!==this.parentNode&&this.parentNode.removeChild(this)},Pe._JT_remove=Me._JT_remove=function(t){if(void 0==t)for(var e=0;e<this.length;)this[e]._JT_remove();else if("number"==Re.type(t)){for(var e=0;e<this.length;e++)if(e==t)return this[e]._JT_remove(),this}else for(var e=0;e<this.length;e++)if(this[e]==t)return this[e]._JT_remove(),this},Ne._JT_each=function(t,e){return t(this,0,e),this},Pe._JT_each=Me._JT_each=function(t,e){for(var n=this._JT_toArray(),i=0;i<n.length;i++)t(n[i],i,e);return this},He._JT_each=function(t,e){for(var n=0;n<this.length;n++)t(this[n],n,e);return this},He._JT_clone=function(){var t=new Array;return this.forEach(function(n){t.push(e(n))}),t},He._JT_empty=function(t){return this.length=0,this},Ne._JT_last=function(){return this._JT_child()._JT_last()},Ne._JT_first=function(){return this._JT_child()._JT_first()},Pe._JT_last=Me._JT_last=He._JT_last=function(t){return this[this.length-1]},Pe._JT_first=Me._JT_first=He._JT_first=function(t){return this[0]},Ne._JT_exist=function(t,e){return void 0!=t&&l(t)(this),!0},Pe._JT_exist=Me._JT_exist=He._JT_exist=function(t,e){return this.length>0?(1==this.length?l(t)(this[0]):l(t)(this),!0):(l(e)(),!1)},Ne._JT_content=function(t){if("INPUT"==this.tagName||"TEXTAREA"==this.tagName||"SELECT"==this.tagName){if(void 0==t&&0==arguments.length)return this.value;try{this.value=T(t,"")}catch(t){}}else{if(void 0==t&&0==arguments.length)return this.innerText;this.innerText=T(t,"")}return this},He._JT_remove=function(t,e){var n=this.indexOf(t);return 0==e?this[a]=this[this.length--]:this._JT_removeByIndex(n),this},He._JT_removeByIndex=function(t,e){return this.splice(t,e||1),this},He._JT_insert=function(t,e){return this.splice(e,0,t),this},He._JT_insertArray=function(t,e){var n=t.slice(0);return n.splice(0,0,e,0),He.splice.apply(this,n),this},He._JT_append=function(){return He.push.apply(this,arguments),this},He._JT_prepend=function(t){return 1==arguments.length?this._JT_insert(t,0):this._JT_insertArray(w(arguments),0)},Ue._JT_has=function(t){return"string"==Re.type(t)?void 0==this.includes?-1!=this.indexOf(t):this.includes(t):null!=this.match(t)},Ue._JT_replaceAll=function(t,e){if("array"==Re.type(t)){var n=this;return t.forEach(function(t){n=n._JT_replaceAll(t[0],t[1])}),n}if("array"==Re.type(e)){if("string"==Re.type(t)){var n=this.split(t),i=n[0];return n._JT_each(function(t,n){n>0&&(i+=e[n-1]+t)}),i}var s="",a=this,r=this.match(t);return null!=r?(r._JT_each(function(t,n){a.split(t);s+=a.substring(0,a.indexOf(t))+e[n],a=a.substring(a.indexOf(t)+t.length)}),s+=a):this}return"string"==Re.type(t)?this.replace(new RegExp(t,"g"),e):this.replace(t,e)},function(){A(),at(),rt()}(),window.Jet=function(t,e,n){if(he("render-time")&&Jet.RenderTime.start(),"object"===(void 0===n?"undefined":_typeof(n))?(n.ele||(n.ele=Re.attr(Be+'="'+e+'"'),n.ele._JT_removeAttr(Be)),n.par||(n.par=t)):n=t,void 0===n&&(n={}),vt(n,this),O(n),n.ele=n.ele?g(n.ele):document.documentElement,J(n.ele))return void d("忽略了一个组件，可能是由于操作过快，组件对应的dom已经被移除");n.ele.__jet=this,Jet.$unnamedJets._root||"HTML"!=n.ele.tagName||(Jet.$unnamedJets._root=this,Jet.$root=this),n.ele._JT_hasAttr("name")&&(n.name=n.ele._JT_attr("name")),n.name?(Jet[n.name]&&void 0==Jet[n.name].$DOM&&f("Jet name 属性等于"+n.name+"已存在，请重新命名"),Jet[n.name]=this):(n.name="_"+Ee++,Jet.$unnamedJets[n.name]=this),"$routerComp"===e&&(Jet.$unnamedJets.$routerComp=this),n.par&&(this.$par=Jet[n.par]||Jet.$unnamedJets[n.par],this.$par&&(this.$par.$child||(this.$par.$child=v()),"$routerComp"==e?this.$par.$child.$routerComp=this:this.$par.$child[n.name]=this)),this._tools={_jets:[],_jetTools:[],_calls:{},_data:n.data||{},_ele:n.ele,name:n.name},this.$dom={};var i=this;if(L.call(this,n),ot(this,n.data,this._tools._calls,this),F(this),n.func)for(var s in n.func)this[s]?f("data 不能与 func 有重名属性"):this[s]=n.func[s];var i=this;if(n.beforeinit)n.beforeinit.call(this);else if(n.beforeinitawait)return void n.beforeinitawait.call(this,function(){K.call(i,n,i._tools._calls),he("render-time")&&Jet.RenderTime.end(i)});K.call(i,n,i._tools._calls),he("render-time")&&Jet.RenderTime.end(this,e)},Jet.prototype=v(),Jet.prototype.$getData=function(){return this},Jet.prototype.$makeChange=function(t){new Function("call","return call."+t+"._func")(this._tools._calls).forEach(function(t){t()})},Jet.prototype.$DOM=function(t){return new Jet.DOM({ele:t,jet:this})},Jet.prototype.$cookie=i,Jet.prototype.$storage=n,Jet.prototype.$ajax=function(t){return 0!=t.base&&void 0!==Jet.prototype.$ajax.base&&(t.url=Jet.prototype.$ajax.base+t.url),Jet.prototype.$ajax.xhr=s(t),Jet.prototype.$ajax.xhr},Jet.prototype.$ajax.get=function(t,e,n,i){return Jet.prototype.$ajax({data:e,url:t,success:n,error:i})},Jet.prototype.$ajax.post=function(t,e,n,i){return Jet.prototype.$ajax({type:"post",data:e,url:t,success:n,error:i})},Jet.prototype.$ajax.abort=function(){Jet.prototype.$ajax.xhr&&(Jet.prototype.$ajax.xhr.abort(),Jet.prototype.$ajax.xhr=null)},Jet.prototype.$jui=function(t){return g(t,this._tools._ele).$jui},Jet.prototype.$init=function(t){it.call(this,t)},Jet.prototype.$regist=function(t,e){X(q(t,e,this,arguments.length))},Jet.prototype.$=Jet.$=Re,Jet.$unnamedJets={},Jet.DOM=function(t){this.jet=t.jet,this.ele=t.ele,this.name=t.ele._JT_attr(we);var e=this;Object.defineProperties(this,{html:{get:function(){return e.ele.innerHTML},set:function(t){e.ele.innerHTML=t}},text:{get:function(){return e.ele.innerText},set:function(t){e.ele.innerText=t}},value:{get:function(){return e.ele.value},set:function(t){e.ele.value=t}},class:{get:function(){return e.ele._JT_attr("class")},set:function(t){if("+"!=t[0]&&"-"!=t[0])e.ele._JT_attr("class",t);else{t.split(";").forEach(function(t){"+"!=t[0]&&"-"!=t[0]&&f("添加或删除类 第一个字符必须是+或者-"),"+"==t[0]?e.ele._JT_addClass(t.substring(1)):e.ele._JT_removeClass(t.substring(1))})}}},outerHtml:{get:function(){return e.ele.outerHTML},set:function(t){console.error("outerHtml 不允许赋值")}},attr:{get:function(){for(var t={},n=0;n<e.ele.attributes.length;n++)t[e.ele.attributes[n].name]=e.ele.attributes[n].textContent;return t},set:function(t){t.split(";").forEach(function(t){if("-"==t[0])e.ele._JT_removeAttr(t.substring(1));else{var n=t.split("=");0==n.length&&(n[1]=""),"+"==n[0]?e.ele._JT_attr(n[0].substring(1),n[1]):e.ele._JT_attr(n[0],n[1])}})}},css:{get:function(){return e.ele.style},set:function(t){t.split(";").forEach(function(t){var n=t.split("=");e.ele._JT_css(n[0],n[1])})}}})},Jet.Base=function(t,e){switch(this.jet=t.jet,this.par=t.par,this.ele=t.ele,this._data=t._data,this.data=t.data,this.type=e,this.name=t.name,this.index=t.index,"Jfor"!=e&&"Jinput"!=e&&"Jtext"!=e||(e=de),this._tools={_jets:[],_jetTools:[],_calls:t.calls},this._attrVal=this.ele._JT_attr(e),this.ele._JT_removeAttr(e),this.type){case Je:this.ele._hasIf=!0;break;case Te:this.ele._hasOn=!0;break;case ve:this.ele._hasRun=!0;break;case me:this.ele._hasAttr=!0;break;case ye:this.ele._hasStyle=!0;break;case ge:this.ele._hasShow=!0;break;default:this.ele._hasBind=!0}this.ele._JT_hasAttr(je)&&(this.par=this.jet,this.data=this.jet,this.name?this._tools._calls=this.jet._tools._calls[this.name]:this._tools._calls=this.jet._tools._calls),this.type!=de&&"Jfor"!=this.type&&"Jtext"!=this.type&&"Jinput"!=this.type||(this.ele.__jet=this)},Jet.Base.prototype=v(),Jet.Base.prototype.$parData=function(t){var e=this.par;(void 0==t||t<=0)&&(t=1);for(var n=0;n<t-1;n++){if(e.$DOM)return e;e=e.par}return e.data},Jet.Base.prototype.$makeChange=function(t){var e;e=void 0==t?this._tools._calls._func:new Function("$","return "+t+"._func")(this._tools._calls),e.forEach(function(t){t()})},Jet.Base.prototype.disable=function(){switch(p("忽略了一个"+this.type+"元素:",this),this.disable=!0,this.ele._JT_attr(this.type,this._attrVal),this.type){case Je:this.ele._hasIf=!1;break;case Te:this.ele._hasOn=!1;break;case ve:this.ele._hasRun=!1;break;case me:this.ele._hasAttr=!1;break;case ye:this.ele._hasStyle=!1;break;case ge:this.ele._hasShow=!1;break;default:this.ele._hasBind=!1}this.type==de?this.par._tools._jets._JT_remove(this):this.par._tools._jetTools._JT_remove(this),this.ele.__jet=void 0},Jet.Base.prototype.$regist=function(t,e){X(q(t,e,this,arguments.length))},Jet.Base.prototype.setDataIndex=function(t){this.name=t};var Ve=function(){};Ve.prototype=Jet.Base.prototype;var qe=He.push,Xe=He.pop,Ge=He.splice,ze=He.shift,Ke=He.unshift,Qe=He.reverse,We=He.sort;He.push=function(){if(void 0===this._data)return qe.apply(this,arguments);1===arguments.length?this.$push(arguments[0]):arguments.length>1&&this.$pushArray(w(arguments))},He.pop=function(){if(void 0===this._data)return Xe.apply(this);var t=this._JT_last();return this.$removeByIndex(this.length-1),t},He.splice=function(){if(void 0===this._data)return Ge.apply(this,arguments);1===arguments.length?this.$removeByIndex(arguments[0],this.length-1):2===arguments.length?this.$removeByIndex(arguments[0],arguments[1]):arguments.length>2&&(this.$removeByIndex(arguments[0],arguments[1]),this.$insertArray(w(arguments,2),arguments[0]))},He.shift=function(){if(void 0===this._data)return ze.apply(this);var t=this[0];return this.$removeByIndex(0),t},He.unshift=function(){if(void 0===this._data)return Ke.apply(this,arguments);1===arguments.length?this.$prep(arguments[0]):arguments.length>1&&this.$prepArray(w(arguments))},He.reverse=function(){if(void 0===this._data)return Qe.apply(this);var t=Qe.apply(this._data)._JT_clone();return this.$replace(t),t},He.sort=function(t){if(void 0===this._data)return We.call(this,t);var e=We.call(this._data,t)._JT_clone();return this.$replace(e),e},He.$push=function(t){var e,n,i,s=this._jet,a=void 0===s;a?(e=this,n=this._data,i=this._calls):(e=s.data[s.name],n=s._data[s.name],i=s._tools._calls),n.push(t),ht(e,e.length,n,i),a||s.refresh.push.call(s)},He.$pushArray=function(t){this.$insertArray(t,this.length)},He.$prep=function(t){var e,n,i,s=this._jet,a=void 0===s;a?(e=this,n=this._data,i=this._calls):(e=s.data[s.name],n=s._data[s.name],i=s._tools._calls),n._JT_prepend(t),i._JT_prepend({}),_t(e,n,i),a||s.refresh.prep.call(s)},He.$prepArray=function(t){this.$insertArray(t,0)},He.$insert=function(t,e){var n,i,s,a=this._jet,r=void 0===a;r?(n=this,i=this._data,s=this._calls):(n=a.data[a.name],i=a._data[a.name],s=a._tools._calls),i._JT_insert(t,e),s._JT_insert({},e),lt(n,i,s,e),r||a.refresh.insert.call(a,e)},He.$insertArray=function(t,e){var n,i,s,a=this._jet,r=void 0===a;r?(n=this,i=this._data,s=this._calls):(n=a.data[a.name],i=a._data[a.name],s=a._tools._calls),i._JT_insertArray(t,e);for(var o=[],_=0;_<t.length;_++)o.push({});s._JT_insertArray(o,e),lt(n,i,s,e),r||a.refresh.insertArray.call(a,t,e)},He.$remove=function(){for(var t=0;t<arguments.length;t++)this.$removeByIndex(gt(this,arguments[t]))},He.$removeByIndex=function(t,e){if(-1!=t){void 0==e&&(e=1);var n,i,s,a=this._jet,r=void 0===a;r?(n=this,i=this._data,s=this._calls):(n=a.data[a.name],i=a._data[a.name],s=a._tools._calls),i.length<t+e&&(i.length<t+1?f("$remove 方法索引超过数组长度"):(e=i.length-t,p("$remove 方法删除的个数超过数组长度，只删除"+e+"个元素"))),i.splice(t,e),s.splice(t,e),lt(n,i,s,t),n.length-=e,r||a.refresh.remove.call(a,t,e)}},He.$clear=function(){this.$removeByIndex(0,this.length)},He.$replace=function(t){this.$clear(),this.$pushArray(t)};var Ye="Jload",Ze="Jpath",tn="Jpar";Jet.load={__loadStore:{},init:function(t,e){var n,i=this;if(void 0==t||"function"==typeof t?(e=t,n=i.$DOM?i._tools._ele._JT_findAttr(Ye)._JT_toArray(!1):Re.attr(Ye)._JT_toArray(!1)):n=t._JT_findAttr(Ye)._JT_toArray(!1),0==n.length)return void(e&&e());n._JT_each(function(t,s){xt(i,t,s,n,e)})}};var en="JglobalStyle";Jet.Bind=function(t){Jet.Base.call(this,t,de),Lt.call(this,t)},Jet.Bind.prototype=new Ve,Jet.Bind.prototype.refresh=function(t){this._tools._jets._JT_each(function(e){e&&e.refresh(t)}),this._tools._jetTools._JT_each(function(e){e&&e.refresh(t)})},Jet.Bind.prototype.$getData=function(){return this.data[this.name]},Jet.Bind.prototype.refreshIndex=function(t,e){this._tools._jets._JT_each(function(t){"Jtext"===t.type?t.refreshIndex(e):"Jinput"===t.type&&t.setIndex(e)}),this._tools._jetTools._JT_each(function(t){t._hasIndex&&t.refreshIndex(e)})},Jet.For=function(t){Jet.Base.call(this,t,"Jfor"),Ht.call(this,t)},Jet.For.prototype=new Ve,Jet.For.prototype.refresh=function(t){},Jet.For.prototype.refreshIndex=function(t){for(var e=t||0;e<this._tools._jets.length;e++)this._tools._jets[e].refreshIndex(null,e);this.$makeChange()},Jet.For.prototype.$getData=function(){return this.data[this.name]},Jet.For.prototype.refresh.push=function(){if(this._switch){var t=this._data[this.name]._JT_last()[this._type];t in this._html?this.ele._JT_append(this._html[t]):f("swicth:指定属性的值不在swicth枚举内")}else this.ele._JT_append(this._html);var e=this.ele._JT_child()._JT_last(),n=this.data[this.name].length-1,i=Ut(this,e,n);"array"==Re.type(i.data[0])?this._tools._jets.push(new Jet.For(i)):this._tools._jets.push(new Jet.Bind(i)),Vt(this,e,n),Nt.call(this,e),Pt.call(this),this.$makeChange()},Jet.For.prototype.refresh.prep=function(){if(this._switch){var t=this._data[this.name]._JT_first()[this._type];t in this._html?this.ele._JT_prepend(this._html[t]):f("swicth:指定属性的值不在swicth枚举内")}else this.ele._JT_prepend(this._html);var e=this.ele._JT_child(0),n=Ut(this,e,0);"array"==Re.type(n.data[0])?this._tools._jets._JT_prepend(new Jet.For(n)):this._tools._jets._JT_prepend(new Jet.Bind(n)),this.refreshIndex(1),Vt(this,e,0),Nt.call(this,e),Pt.call(this)},Jet.For.prototype.refresh.insert=function(t){if(this._switch){var e=this._data[this.name][t][this._type];if(!(e in this._html))return void f("swicth:指定属性的值不在swicth枚举内");this.ele._JT_append(this._html[e],t)}else this.ele._JT_append(this._html,t);var n=this.ele._JT_child(t),i=Ut(this,n,t);"array"==Re.type(i.data[0])?this._tools._jets._JT_insert(new Jet.For(i),t):this._tools._jets._JT_insert(new Jet.Bind(i),t),this.refreshIndex(t),Vt(this,n,t),Nt.call(this,n),Pt.call(this)},Jet.For.prototype.refresh.insertArray=function(t,e){var n=this,i=Re.type(t[0]);t._JT_each(function(t,s){var a=e+s;if(n._switch){var r=n._data[n.name][a][n._type];r in n._html?n.ele._JT_append(n._html[r],a):f("swicth:指定属性的值不在swicth枚举内")}else n.ele._JT_append(n._html,a);var o=n.ele._JT_child(a),_=Ut(n,o,a);"array"==i?n._tools._jets._JT_insert(new Jet.For(_),a):n._tools._jets._JT_insert(new Jet.Bind(_),a),Vt(n,o,a),Nt.call(n,o)}),this.refreshIndex(e+t.length),Pt.call(this)},Jet.For.prototype.refresh.remove=function(t,e){for(var n=0;n<e;n++){var i=this.ele._JT_child(t);Nt.call(this,i,!0),i._JT_remove()}this._tools._jets.splice(t,e),this.refreshIndex(t)},Jet.Text=function(t){Jet.Base.call(this,t,"Jtext"),this.isHtml=t.ele._JT_hasAttr("jhtml"),this._parIndex=t._parIndex,t.par=this,Xt.call(this,t)},Jet.Text.prototype=new Ve,Jet.Text.prototype.refresh=function(t){if(!t||t==this.name){var e=this.$getData();if(!J(e)){var n=this.func?this.func.call(this.jet,e,{data:e,ele:this.ele,jet:this,root:this.jet}):e;this.isHtml?this.ele._JT_html(n):this.ele._JT_txt(n)}}},Jet.Text.prototype.refreshIndex=function(t){this._attrVal._JT_has($e)&&(this.index=void 0!==t?t:this.par._data.indexOf(this._data),this.refresh())},Jet.Text.prototype.$getData=function(){return this._parIndex?oe.call(this,this._parIndex):void 0!=this.index?this.index:this.data[this.name]},Jet.Text.prototype.setIndex=function(t){this.index=t,this.refresh(),this._tools._jetTools._JT_each(function(e){e.name==$e&&e.refresh(t)})},Jet.Text.prototype.setDataIndex=function(t){this.name=t},Jet.Input=function(t){Jet.Base.call(this,t,"Jinput"),t.par=this,zt.call(this,t)},Jet.Input.prototype=new Ve,Jet.Input.prototype.refresh=function(t){if(!t||t==this.name){var e=this.$getData();if(!J(e)){var n=this.func?this.func.call(this.jet,e):e;this.isContent?n!==(this.isNum?parseFloat(this.ele.innerHTML):this.ele.innerHTML)&&this.ele._JT_html(n):n!==(this.isNum?parseFloat(this.ele.value):this.ele.value)&&this.ele._JT_val(n)}}},Jet.Input.prototype.$getData=function(){return this.data[this.name]},Jet.Input.prototype.setIndex=function(t){"array"===Re.type(this.data)&&"number"==typeof this.name&&void 0!==t&&(this.name=t)},Jet.If=function(t,e){this.exp=null,this.func_true=null,this.func_false=null,Jet.Base.call(this,t,e?ge:Je),te.call(this);var n=this.ele.__jet;void 0===n||"Jtext"!=n.type&&"Jinput"!=n.type||(this.needParData=!0)},Jet.If.prototype=new Ve,Jet.If.prototype.$getData=function(){return this.name==$e?(this.needParData,this.index):this.name==be||void 0==this.name?this.needParData?this.par.$DOM?this.par:this.par.data[this.par.name]:this.data:this.data[this.name]},Jet.If.prototype.refresh=function(t){void 0!=this.index&&void 0!=t&&this.index!=t&&this.index;var e=this.$getData();if(!J(e)){var n={ele:this.ele,data:e,jet:this,root:this.jet};!0===Yt.call(this,this.exp,e)?this.func_true.call(this.jet,n):this.func_false.call(this.jet,n)}},Jet.If.prototype.refreshIndex=function(t){this._hasIndex&&this.refresh()},Jet.On=function(t){Jet.Base.call(this,t,Te),ie.call(this);var e=this.ele.__jet;void 0===e||"Jtext"!=e.type&&"Jinput"!=e.type?"object"!==_typeof(this.data)&&(this.needParData=!0):this.needParData=!0},Jet.On.prototype=new Ve,Jet.On.prototype.$getData=function(){return void 0!=this.index?this.index:void 0==this.data?null:void 0==this.name||this.name==be?this.needParData?this.par.$DOM?this.par:this.par.data[this.par.name]:this.data:this.data[this.name]},Jet.On.prototype.refresh=function(t){void 0!=this.index&&void 0!=t&&this.index!=t&&(this.index=t)},Jet.Run=function(t){Jet.Base.call(this,t,ve),ae.call(this,t)},Jet.Run.prototype=new Ve,Jet.Run.prototype.$getData=function(){return void 0!=this.index?this.index:void 0==this.data?null:void 0==this.name?this.data:this.data[this.name]},Jet.Run.prototype.refresh=function(t){void 0!=this.index&&void 0!=t&&this.index!=t&&this.index,this.run()},Jet.Run.prototype.run=function(){var t=this,e={ele:t.ele,data:t.$getData(),jet:t};this.runs._JT_each(function(n){n in t.jet&&"function"==typeof t.jet[n]?t.jet[n].call(t.jet,e):new Function("opt",n).call(t.jet,e)})},Jet.Attr=function(t,e){Jet.Base.call(this,t,e?ye:me),this.isStyle=e,this.setFunc=this.isStyle?this.ele._JT_css:this.ele._JT_attr,_e.call(this,t),"undefined"==typeof __jet||"Jtext"!=__jet.type&&"Jinput"!=__jet.type||(this.needParData=!0)},Jet.Attr.prototype=new Ve,Jet.Attr.prototype.$getData=function(){return void 0!=this.index?this.index:void 0==this.data?null:void 0==this.name||this.name==be?(this.needParData&&(this.data=this.par.data[this.par.name]),this.data):this.data[this.name]},Jet.Attr.prototype.refresh=function(t){var e=this.$getData();if(!J(e))for(var n in this.attrs)t&&1!=this.attrs[n]._hasIndex||this.setFunc.call(this.ele,n,Yt.call(this,this.attrs[n],e))},Jet.Attr.prototype.refreshIndex=function(t){this._hasIndex&&this.refresh(!0)},Jet.Style=Jet.Attr,Jet.Show=Jet.If;var nn=["render-time","router","css-config","res","valid","lang","module","tool","jui"],sn=-1,an=[],rn=[],on=[],_n=[];Jet.$use=function(){sn++;for(var t=arguments,e=null,n=[],i=[],s=0;s<t.length;s++)if("string"==typeof t[s])if(-1!==Jet.$use.list.indexOf(t[s]))d("已经加载过该依赖："+t[s]+".本次加载跳过");else{var a=nn.indexOf(t[s]);-1!==a?n[a]=t[s]:i.push(t[s])}else"function"==typeof t[s]?e=t[s]:f("$use 方法参数错误："+t[s]);"jui"==n[8]&&J(n[7])&&(n[7]="tool",d("jui 依赖 tool,已自动添加依赖"));for(var s=n.length-1;s>=0;s--)J(n[s])&&n.splice(s,1);i.length>0&&He.push.apply(n,i),rn[sn]=n,ue(e,sn)},Jet.$useAll=function(){var t=He.splice.call(arguments,0);He.unshift.apply(t,nn),Jet.$use.apply(null,t)},Jet.$use._regist=function(t,e){if(an[e]?an[e].push(t):an[e]=[t],an[e].length==rn[e].length){var n=new Date-_n[e];on[e]&&(on[e](n),on[e]=void 0),d("第"+(e+1)+"轮依赖加载完成！["+n+"ms]")}},Jet.$use.list=[],Jet.$use.all=nn,Jet.__base__=(fe={_useList:[],_JT:Re,_isUd:J,_throw:f,_info:d,_initDate:pe,_dealSrc:It,_jload:Ye,_jpath:Ze,__ROOT:ke,__comp_id:Be,_scopeStyle:Le,__jet_root:"_root",__router_comp:"$routerComp",_loadStyleCall:Ct,_loadCompRes:wt,_initSingleLoad:xt},_defineProperty(fe,"__router_comp","$routerComp"),_defineProperty(fe,"_lang",Fe),_defineProperty(fe,"_getJdomEle",g),_defineProperty(fe,"_numReg",Oe),_defineProperty(fe,"_createEmpty",v),_defineProperty(fe,"_checkFunction",l),_defineProperty(fe,"_getSrc",At),_defineProperty(fe,"_canUse",he),_defineProperty(fe,"_initValidAndLang",Q),fe)}();