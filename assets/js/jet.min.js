//Jet by theajack
//https://www.theajack.com/jet
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function _clone(t){if(void 0!=t){var e=_type(t);if("htmlelement"==e||"array"==e)return t._JT_clone();if("json"==e||"object"==e){var n=new Object;for(var r in t)null==t[r]||void 0==t[r]?n[r]=t[r]:"array"==_type(t[r])?n[r]=t[r]._JT_clone():"json"==_type(t[r])||"object"==_type(t[r])?n[r]=_clone(t[r]):n[r]=t[r];return n}return t}}function _storage(t,e){if("object"!==(void 0===t?"undefined":_typeof(t))||null===t){var n=localStorage;if(void 0===e){if(void 0===t){var r={};return Object.keys(n).forEach(function(t){r[t]=n.getItem(t)}),r}if(null===t)Object.keys(n).forEach(function(t){n.removeItem(t)});else{var i=n.getItem(t);try{return JSON.parse(i)}catch(t){return i===parseFloat(i).toString()?parseFloat(i):i}}}else{if(null!==e)return"object"===(void 0===e?"undefined":_typeof(e))?n.setItem(t,JSON.stringify(e)):n.setItem(t,e),e;n.removeItem(t)}}else for(var a in t)_storage(a,t[a])}function _cookie(t,e,n,r){if(1==arguments.length){if(document.cookie.length>0){var i=document.cookie.indexOf(t+"=");if(-1!=i){i=i+t.length+1;var a=document.cookie.indexOf(";",i);return-1==a&&(a=document.cookie.length),unescape(document.cookie.substring(i,a))}}return""}if(null!=e){var o=t+"="+escape(e);if(void 0!=n){var _=new Date;_.setDate(_.getDate()+n),o+=";expires="+_.toGMTString()}return void 0!=r&&("boolean"==_type(r)?r&&(o+=";path=/"):o+=";path="+r),document.cookie=o,t+"="+e}_cookie(t,"",-1)}function _ajax(t){var e={type:t.type||"get",url:t.url||"",async:t.async||!0,data:t.data||null,dataType:t.dataType||"text",contentType:t.contentType||"application/x-www-form-urlencoded",beforeSend:t.beforeSend||function(){},success:t.success||function(){},error:t.error||function(){},header:t.header||{}};e.beforeSend();var n;window.XMLHttpRequest?n=new XMLHttpRequest:window.ActiveXObject&&(n=ActiveXObject("Microsoft.XMLHTTP"));var r=_convertData(e.data);"get"==e.type.toLowerCase()&&""!==r&&(e.url=e.url+"?"+r),n.open(e.type,e.url,e.async),n.responseType=e.dataType,null!==t.contentType&&n.setRequestHeader("Content-Type",e.contentType);for(var i in e.header)n.setRequestHeader(i,e.header[i]);return"get"==e.type.toLowerCase()?n.send():n.send(r),n.onreadystatechange=function(){4==n.readyState&&(200==n.status?e.success(n.response||n.responseText):e.error(n.response||n.responseText))},n}function _load(t,e,n){return _JT.ajax({url:t,async:!0,success:function(t){e(t)},error:function(e){void 0!=n&&n(e),_warn("加载失败:"+t)}})}function _create(t){return document.createElement(t)}function _convertData(t){if(void 0==t)return"";var e=$J.type(t);if("json"==e){var n="";for(var r in t)"object"===_typeof(t[r])?n+=r+"="+encodeURIComponent(JSON.stringify(t[r]))+"&":n+=r+"="+encodeURIComponent(t[r])+"&";return n=n.substring(0,n.length-1)}return"array"==e?JSON.stringify(t):($J.type(t),t)}function _checkFunction(t){if(void 0==t)return function(){};var e=_JT.type(t);return"function"==e?t:"string"==e?new Function(t):function(){}}function _formatParams(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}function _checkSelect(t){return null==t||void 0==t?[]:1==t.length?t[0]:t}function _checkCssValue(t,e,n){if(n._JT_has("-=")||n._JT_has("+=")){var r=_getCssNumberValue(n.substring(n.indexOf("=")+1));n._JT_has("-=")&&(r[0]=-r[0]);var i;return i=_getCssNumberValue(n._JT_has("%")?t.style[e]:getComputedStyle(t)[e]),r[0]+i[0]+r[1]}return n}function _getCssNumberValue(t,e){if(""!=t&&void 0!=t||(t="0%"),void 0==e)if(t._JT_has("px"))e="px";else if(t._JT_has("%"))e="%";else{if(!t._JT_has("em"))return[parseFloat(t),"px"];e="em"}return[parseFloat(t.substring(0,t.indexOf(e))),e]}function _checkArg(t,e){return void 0==t?e:t}function _checkHtmle(t){if("string"==_JT.type(t)){var e=_JT.ct("div")._JT_html(t);return 1==e._JT_child().length?e._JT_child(0):e._JT_child()._JT_toArray()}return t}function _attachEvent(t,e,n){document.addEventListener?t.addEventListener(e.substring(2),_checkFunction(n),!1):document.attachEvent&&t.attachEvent(e,_checkFunction(n))}function _argsToArray(t,e){for(var n=[],r=e||0;r<t.length;r++)n.push(t[r]);return n}function _type(t){if(0!=arguments.length){var e=void 0===t?"undefined":_typeof(t);if("object"==e){if(null===t)return"null";switch(t.constructor){case Object:e="json";break;case Array:e="array";break;case HTMLCollection:e="htmlcollection";break;case NodeList:e="nodelist";break;case Error:e="error";break;case Date:e="date";break;default:e=1===t.nodeType&&"string"==typeof t.nodeName?"htmlelement":"object"}}return e}_throw("This function need a argument")}function _getUrlParam(){var t="";if(""!=location.search?t=location.search.substring(1):location.hash._JT_has("?")&&(t=location.hash.substring(location.hash.indexOf("?")+1)),""==t)return null;for(var e=decodeURI(t).split("&"),n={},r=0;r<e.length;r++){var i=e[r].split("=");n[i[0]]=i[1]}return n}function _define(t,e,n){n._func||(n._func=[]);for(var r in e)_defineCom(t,r,e,n)}function _defineArray(t,e,n){_defineArrayFormIndex(t,e,n)}function _defineArrayFormIndex(t,e,n,r){n._func||(n._func=[]);for(var i=r||0;i<e.length;i++)_defineCom(t,i,e,n)}function _defineCom(t,e,n,r){var i=_JT.type(n[e]);if("json"==i){var a={};r[e]||(r[e]={}),_defineBase(t,n,e,a,r[e]),_define(a,n[e],r[e])}else if("array"==i){var a=[];r[e]||(r[e]=[]),a._calls=r[e],a._data=n[e],_defineBase(t,n,e,a,r[e],!0),_defineArray(a,n[e],r[e])}else r[e]&&r[e]._func||(r[e]={_func:[]}),defineFinal(t,n,e,r[e])}function _defineBase(t,e,n,r,i,a){Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){return r},set:function(o){a?t[n].$replace(o):(e[n]=o,_copyValue(r,o,i)),i._func._JT_each(function(t){t(n,o)})}})}function defineFinal(t,e,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){e[n];return _checkIn(e[n],"type",_lang)?e[n].data[Jet.lang.type]:e[n]},set:function(t){_checkIn(e[n],"type",_lang)?e[n].data[Jet.lang.type]=t:e[n]=t,r._func._JT_each(function(e){e(n,t)})}})}function _checkIn(t,e,n){var r=null!=t&&"object"==(void 0===t?"undefined":_typeof(t))&&e in t;return 2==arguments.length?r:r&&t[e]===n}function _copyValue(t,e,n){"json"==_checkType(t,e)?_copyValueJson(t,e,n):_copyValueArr(t,e,n)}function _copyValueJson(t,e,n){for(var r in e)_copyCom(t,e,r,n)}function _copyValueArr(t,e,n){t.$replace(e)}function _copyCom(t,e,n,r){if(void 0!==t[n]){var i=_JT.type(t[n]);"json"==i?_copyValueJson(t[n],e[n],r[n]):"array"==i?_copyValueArr(t[n],e[n],r[n]):t[n]=e[n]}else _defineCom(t,n,e,r)}function _checkType(t,e){var n=_JT.type(t);return n!==_JT.type(e)&&_throw("不允许前后设置的值类型不一致"),n}function _throw(t){throw new Error(t)}function _warn(t){console.warn("JET warning:\r\n  "+t)}function _isUd(t){return void 0===t}function _checkDataForData(t){var e=t.data;if(_checkIn(e,"type",_lang)){var n={};_addDataWrapper(_JT.clone(e.data[Jet.lang.list[0]]),n,"",e.data),t.data=n}else _searchData(e)}function _searchData(t){for(var e in t)_searchDataBase(t,e)}function _searchDataArray(t){for(var e=0;e<t.length;e++)_searchDataBase(t,e)}function _searchDataBase(t,e){var n=_JT.type(t[e]);if(_checkIn(t[e],"type",_lang)){var r={},i=_JT.clone(t[e].data[Jet.lang.list[0]]);"object"===(void 0===i?"undefined":_typeof(i))&&(_addDataWrapper(i,r,"",t[e].data),t[e]=r)}else"json"===n?_searchData(t[e]):"array"===n&&_searchDataArray(t[e])}function _addDataWrapper(t,e,n,r){if("object"===(void 0===t?"undefined":_typeof(t)))for(var i in t)_addDataBase(t,e,n,r,i)}function _addDataWrapperArray(t,e,n,r){for(var i=0;i<t.length;i++)_addDataBase(t,e,n,r,i)}function _addDataBase(t,e,n,r,i){var a=_JT.type(t[i]);n+="string"==typeof i?"."+i:"["+i+"]","json"===a?(e[i]={},e=e[i],t=t[i],_addDataWrapper(t,e,n,r)):"array"===a?(e[i]=[],e=e[i],t=t[i],_addDataWrapperArray(t,e,n,r)):"string"===a||"number"===a||"boolean"===a?(e[i]=_concatLangObj(r,n),e=e[i]):_throw(a+"数据类型错误："+t[i])}function _concatLangObj(t,e){var n={};for(var r in t)n[r]=new Function("d","return d"+e)(t[r]);return JL(n)}function _createEmpty(){var t={};return t.__proto__=null,t}function _initLoadEle(t){var e=t.ele.__loadOpt;e&&(this._tools._props=_formatProps(this,e,t),this._tools._data.$props=this._tools._props)}function _addParPropsToJet(t){var e=t._tools._props_tools;e&&(e._props.forEach(function(n){n.isExp?_initExpPropsCall(t,e,n):(_defineProps(t.$props,e._ctx_data,n.name,n.value),t._tools._data.$props[n.name]=e._ctx_source_data[n.value],t._tools._calls.$props[n.name]=e._ctx_call[n.value])}),Object.defineProperty(t,"$props",{set:function(t){_throw("$prop 不能被赋值")}}))}function _initExpPropsCall(t,e,n){var r=n.value.match(_reg);null!=r&&r.forEach(function(r){""!==(r=r.substring(2,r.length-2))&&("$"==r?t._tools._calls.$props[n.name]=e._ctx_call:"$."==r.substring(0,2)&&("object"==_typeof(t.$props[n.name])?t._tools._calls.$props[n.name]=new Function("$","return "+r)(e._ctx_call):(t._tools._calls.$props[n.name]._func.push(function(t,n){e._ctx_source_data[t]=n,e._ctx_call[t]._func.forEach(function(t){t()})}),e._ctx_call[n.name]._func.push(function(e,n){e&&(t.$props[e]=n)}))))})}function _defineProps(t,e,n,r){Object.defineProperty(t,n,{configurable:!0,get:function(){return e[r]},set:function(t){e[r]=t}})}function _formatProps(t,e,n){var r=n.ele.attributes,i=e.jet,a=e.data,o={};o._ctx_jet=i,o._ctx_call=e.calls,o._ctx_source_data=e._data,o._ctx_data=e.data,o._props=[];for(var _={},s=0;s<r.length;s++){var l=_getPrefixAndName(r[s]);if(null!=l)if(l.value in e._data||i[l.value]&&"function"==typeof i[l.value])l.value in e._data?l.prefix==_dataClonePrefix?_[l.name]=_simpleCloneObject(a[l.value]):o._props.push({name:l.name,value:l.value}):(_[l.name]=i[l.value].bind(i),_[l.name].__props_child=!0);else{var h={data:a,ele:n.ele,jet:i,root:Jet.$root};if(l.prefix==_funcPrefix)"{"==l.value[0]&&"}"==l.value[l.value.length-1]?_[l.name]=new Function("$","opt",l.value).bind(i,a,h):_throw("子组件使用js表达式作为函数参数时请使用{ }包裹");else if("{"==l.value[0]&&"}"==l.value[l.value.length-1]){l.value=l.value.substring(1,l.value.length-1);var c=l.value;l.value=l.value._JT_replaceAll([["{{",""],["}}",""]]);var u=new Function("$","opt","return "+l.value).call(i,a,h);l.prefix==_dataClonePrefix?_[l.name]=_simpleCloneObject(u):(_[l.name]=u,o._props.push({name:l.name,value:c,isExp:!0}))}else _[l.name]=l.value}}return t._tools._props_tools=o,_}function _simpleCloneObject(t){return"object"==(void 0===t?"undefined":_typeof(t))?JSON.parse(JSON.stringify(t)):t}function _getPrefixAndName(t){var e=t.name,n=t.value,r="",i="";return e.substring(0,2)==_dataClonePrefix?(r=e.substring(2),i=_dataClonePrefix):e[0]==_dataPrefix?(i=_dataPrefix,r=e.substring(1)):e[0]==_funcPrefix&&(i=_funcPrefix,r=e.substring(1)),""==i?null:{prefix:i,name:_formatLine2Upper(r),value:n}}function _formatLine2Upper(t){var e=t.split("-");if(1==e.length)return t;t=e[0];for(var n=1;n<e.length;n++)t+=e[n][0].toUpperCase()+e[n].substring(1);return t}function _findParJet(t){for(var e=t._JT_parent();void 0===e.__jet;)e=e._JT_parent();return e.__jet}function _formatRegustArg(t,e,n,r){var i={jet:n};return 1==r?i.call=t:2==r&&(i.call=e,i.name=t),i}function _registDataCall(t){var e=t.name,n=t.call,r=t.jet,i=r._tools._calls,a=!1;if(void 0!==e)if(e._JT_has(".")){for(var o=e.split("."),_=1;_<o.length;_++)if(null==(i=_getCallbackOfArr(i,o[_]))){a=!0,t.jet&&(r.$DOM?_warn("忽略了一个元素"):r.disable());break}a||i._func.push(n)}else"function"!=_JT.type(n)&&_throw("call参数必须为函数"),i=_getCallbackOfArr(i,e),null==i?(a=!0,t.jet&&(r.$DOM?_warn("忽略了一个元素"):r.disable())):i._func.push(n);else"function"!=_JT.type(n)&&_throw("call参数必须为函数"),i._func.push(n)}function _getCallbackOfArr(t,e){var n=e.match(_numReg);if(null==n)return t[e]?t[e]:null;var r=e.substring(0,e.indexOf("[")),i=t[r];return n.forEach(function(t){var e=t.substring(1,t.length-1);if(!i[e])return null;i=i[e]}),i}function _initJetDom(t){var e,n=_JT.type(t);if("undefined"!==n&&"string"===n){var r=t;t=_JT.attr(_dom+"="+r),t._JT_exist()||(t=_JT.id(r))}var i=this;e=t?t._JT_findAttr(_dom):_JT.attr(_dom),e._JT_each(function(t){!0!==t._hasDom&&(i.$dom[t._JT_attr(_dom)]=new Jet.DOM({ele:t,jet:i}),t._hasDom=!0)})}function _initJet(t,e){"string"==typeof t.ele&&""!=t.ele&&(t.ele=_JT.attr(_dom+"="+t.ele)),_initJetDom.call(this,t.ele);var n,r,i,a,o,_,s,l,h=this;t.ele?(n=t.ele._JT_findAttr(_bind),r=t.ele._JT_findAttr(_if),i=t.ele._JT_findAttr(_show),a=t.ele._JT_findAttr(_on),o=t.ele._JT_findAttr(_run),_=t.ele._JT_findAttr(_attr),s=t.ele._JT_findAttr(_style)):(n=_JT.attr(_bind),r=_JT.attr(_if),i=_JT.attr(_show),a=_JT.attr(_on),o=_JT.attr(_run),_=_JT.attr(_attr),s=_JT.attr(_style));var c=[];n._JT_each(function(n,r){if(!n._hasBind&&!n._hasDisabled){var i=n._JT_attr(_bind);if(void 0==t.data||""==i){var a=_jetOpt(h,n,i,{_func:[]});n.__isRoot=!0,h._tools._jets.push(new Jet.Bind(a))}else if(i in t.data){var o,_=_JT.type(t.data[i]),a=_jetOpt(h,n,i,e[i]);switch(_){case"json":o=new Jet.Bind(a);break;case"array":o=new Jet.For(a);break;default:o=_isInput(n)?new Jet.Input(a):new Jet.Text(a)}n.__isRoot=!0,h._tools._jets.push(o)}else n.__isRoot=!0,addToJumpList(n,c)}}),c._JT_each(function(t,e){t._hasJumped=void 0}),r._JT_each(function(t){t._hasIf||t._hasDisabled||h._tools._jetTools.push(new Jet.If(_jetOpt(h,t)))}),i._JT_each(function(t){t._hasShow||t._hasDisabled||h._tools._jetTools.push(new Jet.Show(_jetOpt(h,t),!0))}),a._JT_each(function(t){t._hasOn||t._hasDisabled||h._tools._jetTools.push(new Jet.On(_jetOpt(h,t)))}),o._JT_each(function(t){t._hasRun||t._hasDisabled||h._tools._jetTools.push(new Jet.Run(_jetOpt(h,t)))}),_._JT_each(function(t){t._hasAttr||t._hasDisabled||h._tools._jetTools.push(new Jet.Attr(_jetOpt(h,t)))}),s._JT_each(function(t){t._hasStyle||t._hasDisabled||h._tools._jetTools.push(new Jet.Style(_jetOpt(h,t),!0))}),l=t.ele?t.ele._JT_findAttr(_jload):_JT.attr(_jload),l._JT_each(function(t){if(!t._hasLoad&&!t._hasDisabled){t._hasLoad=!0;var e=_jetOpt(h,t);t.__loadOpt=e}}),t.beforemount&&t.beforemount.call(this),Jet.$.id("__preload_j")._JT_remove(),_initOnDataChange(this,t.ondatachange),"undefined"!=typeof JUI&&(_checkHasDialog(t.ele),JUI.useBind(this),JUI.init(t.ele)),t.onready&&_domSatte.ready(t.onready,this),t.onload&&_domSatte.load(t.onload,this),t.onroute&&Jet.router.onroute(t.onroute,this),t.onrouted&&Jet.router.onrouted(t.onrouted,this),t.onmounted&&t.onmounted.call(this),Jet.load.init.call(this,function(t){void 0!==t&&t._JT_each(function(t){_initJetEle.call(h,t,!0)})})}function _checkHasDialog(t){t._JT_findClass(JUI.DIALOG._name)._JT_each(function(t){t.__hasCheckDialog||(Jet.valid.init(t),Jet.lang.init(t),t.__hasCheckDialog=!0)})}function _initOnDataChange(t,e){var n=[];e&&_initDcBase(t,e,"",n,!0)}function _initDcBase(t,e,n,r,i){if(_isUd(e.$each)){"function"==typeof e&&!0!==i&&_addRegistDc(t,n,"",e,r),_isUd(e.$func)||_addRegistDc(t,n,"",e.$func,r);for(var a in e)"$func"!==a&&_initDcBase(t,e[a],n+"."+a,r)}else{var o=new Function("jet","return jet"+n)(t);o.__oldLength=o.length,_addRegistDc(t,n,"",function(){o.__oldLength!==o.length&&o.forEach(function(i,a){var o=r.slice(0,r.length);o.push(a),_initDcBase(t,e.$each,n+"["+a+"]",o)})},r),_isUd(e.$func)||_addRegistDc(t,n,"",e.$func,r),o.forEach(function(i,a){var o=r.slice(0,r.length);o.push(a),_initDcBase(t,e.$each,n+"["+a+"]",o)})}}function _addRegistDc(t,e,n,r,i){Jet.Base.prototype.$regist.call(t,e+n,function(e,n){r.call(t,n,e,i)})}function _getInitData(t,e,n,r){var i=!0===r?n:_findParJet(t),a=void 0!==i.$DOM;a||i.type===_bind||_throw("只可在Jet元素或Bind元素作用于域下动态插入DOM元素初始化，当前插入作用域为"+i.type);var o=a?i._tools._data:i._data[i.name],_=void 0===e?_jetOpt(i,t):_jetOpt(i,t,e,i._tools._calls[e]);return{isRoot:a,jet:i,data:o,opt:a?_:_bindOpt(i,t,e,i._tools._calls[e])}}function addToJumpList(t,e){[_bind,_if,_show,_on,_run,_attr,_style].forEach(function(n){t._JT_findAttr(n)._JT_each(function(t){t._hasJumped=!0,e.push(t)})})}function _initJetEle(t,e){t=t||this._tools._ele,"string"==typeof t&&(t=_getJdomEle(t)),_initJetDom.call(this,t);var n=this,r=t._JT_findAttr(_bind),i=t._JT_findAttr(_if),a=t._JT_findAttr(_show),o=t._JT_findAttr(_on),_=t._JT_findAttr(_run),s=t._JT_findAttr(_attr),l=t._JT_findAttr(_style),h=[];r._JT_each(function(t,r){if(!t._hasBind&&!t._hasDisabled){var i=t._JT_attr(_bind),a=_getInitData(t,i,n,e);if(void 0==a.data||""==i){var o=_jetOpt(n,t,i,{_func:[]});t.__isRoot=!0,a._tools._jets.push(new Jet.Bind(o))}else if(i in a.data){var _,s=_JT.type(a.data[i]);switch(s){case"json":_=new Jet.Bind(a.opt);break;case"array":_=new Jet.For(a.opt);break;default:_=_isInput(t)?new Jet.Input(a.opt):new Jet.Text(a.opt)}a.isRoot&&(t.__isRoot=!0),a.jet._tools._jets.push(_)}else t.__isRoot=!0,addToJumpList(t,h)}}),h._JT_each(function(t,e){t._hasJumped=void 0}),i._JT_each(function(t){if(!t._hasIf&&!t._hasDisabled){var r=_getInitData(t,void 0,n,e);r.jet._tools._jetTools.push(new Jet.If(r.opt))}}),a._JT_each(function(t){if(!t._hasShow&&!t._hasDisabled){var r=_getInitData(t,void 0,n,e);r.jet._tools._jetTools.push(new Jet.Show(r.opt,!0))}}),o._JT_each(function(t){if(!t._hasOn&&!t._hasDisabled){var r=_getInitData(t,void 0,n,e);r.jet._tools._jetTools.push(new Jet.On(r.opt))}}),_._JT_each(function(t){if(!t._hasRun&&!t._hasDisabled){var r=_getInitData(t,void 0,n,e);r.jet._tools._jetTools.push(new Jet.Run(r.opt))}}),s._JT_each(function(t){if(!t._hasAttr&&!t._hasDisabled){var r=_getInitData(t,void 0,n,e);r.jet._tools._jetTools.push(new Jet.Attr(r.opt))}}),l._JT_each(function(t){if(!t._hasStyle&&!t._hasDisabled){var r=_getInitData(t,void 0,n,e);r.jet._tools._jetTools.push(new Jet.Style(r.opt,!0))}}),t._JT_findAttr(_jload)._JT_each(function(t){if(!t._hasLoad&&!t._hasDisabled){t._hasLoad=!0;var r=_getInitData(t,void 0,n,e);t.__loadOpt=r}}),"undefined"!=typeof JUI&&(_checkHasDialog(t),JUI.useBind(this),JUI.init(t)),Jet.valid.init(t),Jet.lang.init(t),Jet.load.init.call(this,t)}function _jetOpt(t,e,n,r){return{jet:t,par:t,ele:e,data:t,_data:t._tools._data,name:n,calls:r||t._tools._calls}}function _isInput(t){var e=t.tagName;return"INPUT"==e||"TEXTAREA"==e||"SELECT"==e||t._JT_hasAttr("contenteditable")&&"false"!=t._JT_attr("contenteditable")}function _jsonEven(t,e){return JSON.stringify(t)===JSON.stringify(e)}function _indexOf(t,e){if("object"===(void 0===e?"undefined":_typeof(e)))for(var n=0;n<t.length;n++)if(_jsonEven(e,t[n]))return n;return t.indexOf(e)}function _checkJetTools(t){var e=this._tools._jetTools;this.ele._JT_hasAttr(_on)&&(this.ele._hasOn||e.push(new Jet.On(t))),this.ele._JT_hasAttr(_run)&&(this.ele._hasRun||e.push(new Jet.Run(t)))}function _initRouterConf(t){if("history"in t&&(Jet.router.history=t.history),"base"in t){if(Jet.router.base=t.history?t.base:t.base+"/#","trueBase"in t&&t.trueBase){Jet.router.trueBase=!0;for(var e in Jet.router.conf)Jet.router.conf[e]=t.base+Jet.router.conf[e]}}else Jet.router.base=t.history?"":"/#";t.router["/404"]||(t.router["/404"]="/404");for(var e in t.router)""==t.router[e]&&(t.router[e]=e),_checkRouterName(e,t.router[e])}function _checkRouterName(t,e){if("string"!=typeof e){var n="";if("params"in e){n="?";for(var r in e.params)n+=r+"="+e.params[r]+"&";n=n.substring(0,n.length-1)}_addIntoRouter(t,e.name,n);var i=e.children;for(var r in i)_checkRouterName(t+r,i[r])}else _addIntoRouter(t,e)}function _addIntoRouter(t,e,n){e._JT_has(".html")||(e._JT_has("?")?e=e.replace("?",".html?"):e+=".html"),void 0!=n&&(e+=n),Jet.router.router[Jet.router.base+t]=e}function _formatUrl(t){var e="";if(-1!=t.indexOf("#")){var n=t.indexOf("?"),r=t.indexOf("#");-1!=n?n>r?(Jet.router.hash=t.substring(r,n),e=t.substring(n+1),t=t.substring(0,r),n=r):(Jet.router.hash=t.substring(r),e=t.substring(n+1,r),t=t.substring(0,n)):(Jet.router.hash=t.substring(r),n=r,t=t.substring(0,r))}else t._JT_has("?")&&(e=t.substring(t.indexOf("?")+1),t=t.substring(0,t.indexOf("?"))),Jet.router.hash="";return"/"==t[t.length-1]&&t.length>1&&(t=t.substring(0,t.length-1)),{url:t,search:e}}function _callRouterLife(t,e){Jet.router[t].forEach(function(t){t._jet?t.call(t._jet,e,Jet.router):t.call(Jet.router,e)})}function _checkUrl(t){return"/"==t[t.length-1]&&"/"!=t&&(t=t.substring(0,t.length-1)),t=t==Jet.router.base?Jet.router.base+Jet.router.index:"/"!=t[0]?Jet.router.path+"/"+t:Jet.router.base+t}function _loadScript(t){_JT.id(_routeScript)._JT_exist()&&_JT.id(_routeScript)._JT_remove();var e,n=_JT.ct("script")._JT_attr({id:_routeScript,type:"text/javascript"}),r=["//# sourceURL=__dynamic.js\r\n"],i=t._JT_findTag("script")._JT_toArray(!1);i.length>0&&(e=__router_comp,t._JT_attr(__comp_id,e));for(var a=-1,o=i.length-1;o>=0;o--)if(i[o]._JT_hasAttr("src")){a=o;break}var _=function(t){return null!==t.match(_jetReg)?t.replace(_jetReg,'new Jet("'+__jet_root+'","'+e+'",{})'):t.replace("new Jet(",'new Jet("'+__jet_root+'","'+e+'",')};i._JT_each(function(t,e){t._JT_hasAttr("src")?_JT.load(Jet.res.getSrc(t._JT_attr("src"),"js"),function(t){r[e+1]=_(t),e==a&&(n._JT_html(r.join("")),_JT.body()._JT_append(n))}):r[e+1]=_(t._JT_html()),t._JT_remove()}),-1==a&&(n._JT_html(r.join(";")),_JT.body()._JT_append(n))}function _loadStyle(t){"undefined"==typeof jet_css_conf?_reloadCssConf(function(){_loadStyleCall(t,Jet.router.path)}):(window.__css_conf_xhr=void 0,_loadStyleCall(t,Jet.router.path))}function _isUd(t){return void 0===t}function _addScopeCss(t){return _JT.ct("style")._JT_attr({class:_scopeStyle,type:"text/css","scope-src":t})}function _loadStyleCall(t,e){var n=_JT.id(_globalStyle),r=_addScopeCss(e),i=[],a=[],o=t._JT_findTag("style")._JT_toArray(!1),_=o.length,s=0;o._JT_each(function(t,o){var l="false"!==t._JT_attr("scoped");l||!l&&-1===n._styles.indexOf(e)?(l||n._styles.push(e),t._JT_hasAttr("src")?_JT.load(Jet.res.getSrc(t._JT_attr("src"),"css"),function(e){l?a[o]=_replaceCssVar(e):i[o]=_replaceCssVar(e),s++,_checkLoadStyles(s,_,n,r,i,a),t._JT_remove()}):(l?a[o]=_replaceCssVar(t._JT_html()):i[o]=_replaceCssVar(t._JT_html()),s++,_checkLoadStyles(s,_,n,r,i,a),t._JT_remove())):(s++,t._JT_remove())}),_loadCommonCss()}function _checkLoadStyles(t,e,n,r,i,a,o){t==e&&(i.length>0&&n._JT_html(n.innerHTML+i.join("")),a.length>0&&(r._JT_html(a.join("")),_JT.tag("head").append(r)))}function _loadCommonCss(){var t=[],e=Jet.router.path.substring(Jet.router.base.length),n=0,r=[];jet_css_conf.common.forEach(function(t){if(-1!=t.router.indexOf(e)){var i=t.css.trim();if(".css"==i.substring(i.length-4)){var a=i.split(",");r.push(a),n+=a.length}else r.push(t.css),n++}}),r.forEach(function(e){"string"==typeof e?(n--,t.push(e),_loadCommonCssCall(t,n)):e.forEach(function(e){_JT.load(Jet.res.getSrc(e,"css"),function(e){n--,t.push(e),_loadCommonCssCall(t,n)})})})}function _loadCommonCssCall(t,e){0==e&&(t.length>0?_JT.id(_commonStyle)._JT_exist()?t.join("")!=_JT.id(_commonStyle).innerHTML&&_JT.id(_commonStyle)._JT_html(t.join("")):document.head.appendChild(_JT.ct("style")._JT_attr("id",_commonStyle)._JT_html(t.join(""))):_JT.id(_commonStyle)._JT_exist(function(t){t._JT_empty()}))}function _reloadCssConf(call){window.__css_conf_xhr&&window.__css_conf_xhr.abort(),window.__css_conf_xhr=_JT.load(Jet.router.conf.css+"/css.conf",function(res){eval("window.jet_css_conf="+res),window.__css_conf_xhr=void 0,_JT.load(Jet.router.conf.css+"/common.css",function(t){window.__preload_css(t,function(t){var e=document.createElement("style");e.innerHTML=t.replace(/[\r\n]/g,""),document.head.insertBefore(e,_JT.id("commonCss")),document.head.removeChild(_JT.id("commonCss")),window.__preload_css=void 0,call()})})})}function _replaceCssVar(t){var m=t.match(new RegExp("(\\(\\()((.|\\n)*?)(\\)\\))","g"));if(null!==m){var vars=[];m.forEach(function(item){var _i=item.indexOf("[");if(-1!=_i){var arr=eval(item.match(_numReg)[0]),_v=item.substring(2,_i).trim(),_var=jet_css_conf.variable[_v],_varMatch=_var.match(_reg);null!==_varMatch&&(arr.forEach(function(t,e){_var=_var.replace(new RegExp("(({{"+(e+1)+"\\|)((.|\\n)*?)(}}))|(\\{\\{"+(e+1)+"\\}\\})","g"),t)}),_var=_var.replace(new RegExp("{{[0-9]*\\|","g"),"").replace(new RegExp("}}","g"),"")),vars.push(item),t=t.replace(item,_var)}else{var pure=item.replace(/\s/g,"");-1==vars.indexOf(item)&&(vars.push(item),t=t.replace(new RegExp("\\(\\("+item.substring(2,item.length-2)+"\\)\\)","g"),jet_css_conf.variable[pure.substring(2,pure.length-2)]))}})}return t.replace(/[\r\n]/g,"")}function _dealLoadResult(t,e,n,r,i,a,o){var _=a.length;e._JT_html(t);var s=e._JT_attr(_par);if(null===s&&n.$DOM&&void 0!==n._tools.name&&(s=n._tools.name),_loadCompStyle(e,r),_loadCompScript(e,r,s),_loadCompRes(e),Jet.valid.init(e),Jet.lang.init(e),Jet.router.init(e),e._JT_hasAttr("jonload")){var l=e._JT_attr("jonload");null!==s&&void 0!==Jet[s]&&void 0!==Jet[s][l]&&"function"==typeof Jet[s][l]?Jet[s][l].call(Jet[s]):n.$DOM&&n.$par&&void 0!==n.$par[l]&&"function"==typeof n.$par[l]?n.$par[l].call(n.$par):n.$DOM&&void 0!==n[l]&&"function"==typeof n[l]?n[l].call(n):null!==s?new Function(l).call(Jet[s]):new Function(l).call(n)}i==_-1&&void 0!=o&&o(a),"undefined"!=typeof JUI&&JUI.init(e),Jet.load.init.call(n,e)}function _dealResFile(t,e){var n=Jet.res.defFileName[e],r=t;return void 0==n&&_throw("不支持的资源类型："+e),"image"==e||"media"==e?-1==t.indexOf(".")&&(r=t+n):t.substring(t.lastIndexOf("."))!==n&&(r=t+n),Jet.router.conf[e]+_dealSrc(r)}function _loadCompRes(t){var e=["image","media","media"];["img","audio","video"].forEach(function(n,r){t._JT_findTag(n)._JT_each(function(t){var n=t._JT_attr("src");null!=n&&"/"!=n[0]&&t._JT_attr("src",Jet.res.getSrc(n,e[r]))})})}function _loadCompScript(t,e,n){null!==n&&(e=e+"-"+n);var r,i=_JT.attr('load-script="'+e+'"'),a=function(){r=t._JT_attr("id"),null==r&&(r=__ele_id++),t._JT_attr(__comp_id,r)},o=function(t){return null!==n?t.replace("new Jet(",'new Jet("'+n+'","'+r+'",'):t};if(i._JT_exist()){a();var _="";i.__sourceSrc.forEach(function(t){_+=o(t)});var s=_JT.ct("script")._JT_attr({"load-script":e,type:"text/javascript"})._JT_html(_);s.__sourceSrc=i.__sourceSrc,i._JT_remove(),_JT.body()._JT_append(s)}else{i=_JT.ct("script")._JT_attr({"load-script":e,type:"text/javascript"});var l=["//# sourceURL="+e+".js\r\n"],h=t._JT_findTag("script")._JT_toArray(!1);h.length>0&&a();for(var c=-1,u=h.length-1;u>=0;u--)if(h[u]._JT_hasAttr("src")){c=u;break}var d=[];h._JT_each(function(t,e){t._JT_hasAttr("src")?_JT.load(Jet.res.getSrc(t._JT_attr("src"),"js"),function(t){l[e+1]=o(t),d[e+1]=t,e==c&&(i._JT_html(l.join(";")),_JT.body()._JT_append(i))}):(l[e+1]=o(t._JT_html()),d[e+1]=t._JT_html()),t._JT_remove()}),-1==c&&(i._JT_html(l.join(";")),i.__sourceSrc=d,_JT.body()._JT_append(i))}}function _loadCompStyle(t,e){"undefined"==typeof jet_css_conf?_reloadCssConf(function(){_loadStyleCall(t,e)}):(window.__css_conf_xhr=void 0,_loadStyleCall(t,e))}function _dealSrc(t){return t=t.trim(),"/"!=t[0]&&(t="/"+t),t}function _getJdomEle(t,e){if(void 0===t)return document.body;if("string"==typeof t){var n=t;t=e?e._JT_findAttr(_dom+"="+n):_JT.attr(_dom+"="+n),t._JT_exist()||(t=_JT.id(n))}else"htmlelement"!=_JT.type(t)&&(t=t.ele);return t}function _clearValid(t){_resetValid(t),t._JT_removeAttr("jvalid jet-value")}function _resetValid(t){t._JT_hasClass("jet-unpass")&&t._JT_removeClass("jet-unpass")._JT_val(t._JT_validValue)}function _checkIsPw(t){!0===t._JT_ispw&&t._JT_attr("type","password")}function _validInput(t,e,n){if(t=_getJdomEle(t),null===t.offsetParent)return"true";var r=t._JT_attr(_valid),i="";if(null!=r){if(-1!=r.indexOf("lengthOfAny")){var a=r.substring(12,r.length-1).split(",");void 0===a[1]&&(a[1]=a[0]);var o=t._JT_content();i=o.length>=parseInt(a[0])&&o.length<=parseInt(a[1])?"true":_getValidText("lengthOfAny",a)}else i=_checkValue(r,t._JT_content());"true"==i?(Jet.valid.__default&&(t._JT_removeClass("jet-unpass"),t._JT_validValue=void 0,_checkIsPw(t)),void 0!=_onOnePass&&_onOnePass(t)):(void 0!=_onOneFail&&_onOneFail(t,i),Jet.valid.__default&&(!0===n&&(t._JT_validValue=t._JT_content()),t._JT_content(i)._JT_addClass("jet-unpass"),"password"==t._JT_attr("type")&&(t._JT_ispw=!0,t._JT_attr("type","text"))),!1!==e&&(Jet.valid.useJUI?JUI.msg.error(i):Jet.valid.useAlert&&alert(i)))}return i}function _validInputOfForm(t){return t._JT_hasClass("jet-unpass")?(void 0!=_onOneFail&&_onOneFail(t,t._JT_val()),t._JT_val()):_validInput(t,!1)}function _addValidValue(t){t._JT_hasClass("jet-unpass")&&(t._JT_content(t._JT_validValue),_checkIsPw(t))}function _validateForm(t){"string"==typeof t&&(t={ele:t});var e=t.ele;"string"==typeof e&&(e=_JT.attr(_form+"="+e),e._JT_exist()||(e=_getJdomEle(t.ele)));var n=[],r=!0;void 0==t.fail&&(r=!1);var i=!0;if(e._JT_findAttr(_valid)._JT_each(function(t){var e=_validInputOfForm(t);"true"!=e&&(i=!1,r&&(n[n.length]={obj:t,error:e}))}),i)void 0!=t.pass&&_checkFunction(t.pass)(e);else{r&&_checkFunction(t.fail)(n,e);var a="CHINESE"==Jet.valid.__lang?"输入有误，请按提示改正。":"Values is not expected";Jet.valid.useAlert?alert(a):Jet.valid.useJUI&&JUI.msg.error(a)}}function _getValueText(t){var e=0;if(-1!=t.indexOf("range")?e=6:-1!=t.indexOf("letterStart")?e=12:-1!=t.indexOf("length")?e=7:t._JT_has("number")&&"number"!=t&&(e=7),0!=e){var n=t.substring(e,t.length-1).split(",");return void 0===n[1]&&(n[1]=n[0]),_getValidText(t.substring(0,e-1),n)}return _getValidText(t)}function _getValidText(t,e){if("CHINESE"==Jet.valid.__lang){if(void 0==e)return t._JT_has("express")?Jet.valid.validText.CN.express:Jet.valid.validText.CN[t];var n="";return t._JT_has("number")&&(n=" 且长度为"),e[0]==e[1]?Jet.valid.validText.CN[t]+n+e[0]:Jet.valid.validText.CN[t]+n+"["+e[0]+","+e[1]+"]"}if(void 0==e)return t._JT_has("express")?Jet.valid.validText.EN.express:Jet.valid.validText.EN[t];var n="";return t._JT_has("number")&&(n=" and length between"),e[0]==e[1]?Jet.valid.validText.EN[t]+n+e[0]:Jet.valid.validText.EN[t]+n+"["+e[0]+","+e[1]+"]"}function _getRegExp(t){var e=-1,n=-1;if(-1!=t.indexOf("length")){var r=t.substring(7,t.length-1).split(",");t="length",e=r[0],void 0==r[1]&&(r[1]=r[0]),n=r[1]}else if(-1!=t.indexOf("letterStart")){var r=t.substring(12,t.length-1).split(",");t="letterStart",e=r[0],void 0==r[1]&&(r[1]=r[0]),n=r[1]}else if(t._JT_has("number")&&"number"!=t){var r=t.substring(7,t.length-1).split(",");t="number",e=r[0],void 0==r[1]&&(r[1]=r[0]),n=r[1]}else t._JT_has("express")&&(e=t.substring(8,t.length-1),t="express");if(t in Jet.valid.regExp)return Jet.valid.regExp[t];switch(t){case"number":return e>=0?new RegExp("^-?(\\d{"+e+","+n+"})$"):/^-?(\d+)$/;case"letterStart":return new RegExp("^([a-zA-Z]([a-zA-Z\\d]){"+(parseInt(e)-1)+","+(parseInt(n)-1)+"})$");case"length":return new RegExp("^(([a-zA-Z\\d]){"+e+","+n+"})$");case"express":return new RegExp(e);default:return"null"}}function _checkValue(t,e){if(-1!=t.indexOf("notnull")){if(0==e.length)return _getValueText("notnull")}else if(-1!=t.indexOf("null")){var n=t.split(" "),r="null"==n[0]?n[1]:n[0];if(-1!=r.indexOf("range")){var i=_testRange(t,e);if("true"!=i&&""!=e)return i}if(!_getRegExp(r).test(e)&&""!=e)return _getValueText(r)}else if(-1!=t.indexOf("range")){var i=_testRange(t,e);if("true"!=i)return i}else if(!_getRegExp(t).test(e))return _getValueText(t);return"true"}function _testRange(t,e){var n=t.substring(6,t.length-1).split(",");return t="number",_getRegExp(t).test(e)?parseInt(e)<parseInt(n[0])||parseInt(e)>parseInt(n[1])?_getValidText("range",n):"true":_getValidText("number")}function _refreshLang(){Jet.lang.used&&(_JT.attr(_lang)._JT_each(function(t){t._JT_html(t._jet_langs[Jet.lang.type]),Jet.valid.init(t)}),Jet.lang.jets._JT_each(function(t){t.refresh()}))}function _checkLangJet(t){var e=_JT.type(t._data);("json"===e&&t.name in t._data||"array"===e&&void 0!==t._data[t.name])&&_checkIn(t._data[t.name],"type",_lang)&&Jet.lang.jets.push(this)}function _initBind(t){var e=this,n=(t.data[t.name],this.ele._JT_findAttr(_bind)),r=this.ele._JT_findAttr(_if),i=this.ele._JT_findAttr(_show),a=this.ele._JT_findAttr(_on),o=this.ele._JT_findAttr(_run),_=this.ele._JT_findAttr(_attr),s=this.ele._JT_findAttr(_style),l=[];n._JT_each(function(t,n){if(!t._hasBind&&!t._hasDisabled&&!t._hasJumped){var r,i=t._JT_attr(_bind);if(i==_value){var a=_bindOpt(e,t,e.name,e.par._tools._calls[e.name]);a.data=e.data,a._data=e._data,r=_isInput(t)?new Jet.Input(a):new Jet.Text(a)}else if(i._JT_has(_index)){var a=_bindOpt(e,t,i,e.par._tools._calls);if(a.index=e.name,_isInput(t))_throw("input:不允许将index绑定到输入项中");else{if(i._JT_has(_index+"(")){var o=i.substring(i.indexOf("(")+1,i.indexOf(")"));""==o&&(o=1),a._parIndex=parseInt(o)}r=new Jet.Text(a)}}else{var a=t._JT_hasAttr(_root)?_bindRootOpt(e.jet,t,i):_bindOpt(e,t,i,e._tools._calls[i]);if("object"===_typeof(a._data)&&i in a._data){var _=_JT.type(a._data[i]);switch(_){case"json":r=new Jet.Bind(a);break;case"array":r=new Jet.For(a);break;default:r=_isInput(t)?new Jet.Input(a):new Jet.Text(a)}}else addToJumpList(t,l)}e._tools._jets.push(r)}}),l._JT_each(function(t,e){t._hasJumped=void 0}),r._JT_each(function(t){t._hasIf||t._hasDisabled||(t._JT_hasAttr(_root)?e._tools._jetTools.push(new Jet.If(_bindRootOpt(e.jet,t))):e._tools._jetTools.push(new Jet.If(_bindOpt(e,t))))}),i._JT_each(function(t){t._hasShow||t._hasDisabled||(t._JT_hasAttr(_root)?e._tools._jetTools.push(new Jet.Show(_bindRootOpt(e.jet,t),!0)):e._tools._jetTools.push(new Jet.Show(_bindOpt(e,t),!0)))}),a._JT_each(function(t){t._hasOn||t._hasDisabled||(t._JT_hasAttr(_root)?e._tools._jetTools.push(new Jet.On(_bindRootOpt(e.jet,t))):e._tools._jetTools.push(new Jet.On(_bindOpt(e,t))))}),o._JT_each(function(t){t._hasRun||t._hasDisabled||(t._JT_hasAttr(_root)?e._tools._jetTools.push(new Jet.Run(_bindRootOpt(e.jet,t))):e._tools._jetTools.push(new Jet.Run(_bindOpt(e,t))))}),_._JT_each(function(t){t._hasAttr||t._hasDisabled||(t._JT_hasAttr(_root)?e._tools._jetTools.push(new Jet.Attr(_bindRootOpt(e.jet,t))):e._tools._jetTools.push(new Jet.Attr(_bindOpt(e,t))))}),s._JT_each(function(t){t._hasStyle||t._hasDisabled||(t._JT_hasAttr(_root)?e._tools._jetTools.push(new Jet.Style(_bindRootOpt(e.jet,t),!0)):e._tools._jetTools.push(new Jet.Style(_bindOpt(e,t),!0)))}),this.ele._JT_findAttr(_jload)._JT_each(function(t){if(!t._hasLoad&&!t._hasDisabled){t._hasLoad=!0;var n;n=t._JT_hasAttr(_root)?_bindRootOpt(e.jet,t):_bindOpt(e,t),t.__loadOpt=n}}),_checkJetTools.call(this,t),this.$regist(function(t,n){e.refresh()})}function _bindOpt(t,e,n,r){return{jet:t.jet,par:t,ele:e,data:t.data[t.name],_data:void 0==t._data?null:t._data[t.name],name:n,calls:r||t._tools._calls}}function _bindRootOpt(t,e,n){return{jet:t,par:t,ele:e,data:t,_data:t._tools._data,name:n,calls:t._tools._calls}}function _checkForSelectOption(t){void 0!==this.__addSelectOption&&this.__addSelectOption(t)}function _checkForJUI(){"undefined"!=typeof JUI&&(_checkHasDialog(this.ele),JUI.useBind(this.jet),JUI.init(this.ele,!0))}function _initForRule(t){if(void 0!=this.ele._JT_child(0)&&this.ele._JT_child(0)._JT_hasAttr(_bind)&&this.ele._JT_child(0)._JT_attr(_bind)._JT_has("=")){this._switch=!0,this._html={},this._type=null;var e=this,n={};this.ele._JT_child()._JT_each(function(t){var r=t._JT_attr(_bind);null==e._type&&(e._type=r.substring(r.indexOf(".")+1,r.indexOf("="))),r._JT_has("=")||_throw("swicth:html格式有误"),r=r.substring(r.indexOf("=")+1),e._html[r]=t._JT_allHtml(),n[r]=_JT.ct("div")._JT_append(t)});for(var r=0;r<this.data[this.name].length;r++){var i=this.data[this.name][r][this._type];i in this._html?i in n?(this.ele._JT_append(n[i]._JT_child(0)),delete n[i]):this.ele._JT_append(this._html[i]):_throw("swicth:指定属性的值不在swicth枚举内")}}else if(this.ele._JT_findAttr(_bind+'="'+_each+'"')._JT_exist())if(1!=this.ele._JT_child().length||this.ele._JT_child(0)._JT_attr(_bind)!=_each)_throw("循环元素绑定格式错误！");else{var a=this.ele._JT_html();this._html=a;for(var r=0;r<this.data[this.name].length-1;r++)this.ele._JT_append(a)}else{var a=this.ele._JT_html(),o="div";this.ele._JT_hasAttr("jfor-inline")&&(o="span",this.ele._JT_removeAttr("jfor-inline")),this._html="<"+o+" "+_bind+'="'+_each+'">'+a+"</"+o+">";for(var r=0;r<this.data[this.name].length;r++){var _=_JT.ct(o)._JT_attr(_bind,_each);0==r?this.ele.childNodes._JT_each(function(t){_._JT_append(t)}):_._JT_html(a),this.ele._JT_append(_)}}if(0==this.data[this.name].length){var e=this;[_bind,_if,_show,_attr,_style,_run,_on,_jload].forEach(function(t){e.ele._JT_findAttr(t)._JT_each(function(t){t._hasDisabled=!0})}),this.ele._JT_empty()}}function _initFor(t){var e=this;this.data[this.name]._jet=this,_initForRule.call(this),this.ele._JT_child()._JT_each(function(t,n){if(!t._hasBind){var r,i=_forOpt(e,t,n);r="array"==_JT.type(i.data[0])?new Jet.For(i):new Jet.Bind(i),e._tools._jets.push(r),_initOneForBindTool(e,t,n)}}),_checkJetTools.call(this,t),this.$regist(function(t,n){e.refresh()})}function _forOpt(t,e,n){return{jet:t.jet,par:t,ele:e,data:t.data[t.name],_data:t._data[t.name],name:n,calls:t._tools._calls[n]}}function _initOneForBindTool(t,e,n){var r=e._JT_hasAttr(_root)?_forRootOpt(t.jet,e,n):_forOpt(t,e,n),i=t._tools._jets[n]._tools._jetTools;e._JT_hasAttr(_if)&&!e._hasIf&&i.push(new Jet.If(r)),e._JT_hasAttr(_show)&&!e._hasShow&&i.push(new Jet.Show(r,!0)),e._JT_hasAttr(_on)&&!e._hasOn&&i.push(new Jet.On(r)),e._JT_hasAttr(_run)&&!e._hasRun&&i.push(new Jet.Run(r)),e._JT_hasAttr(_attr)&&!e._hasAttr&&i.push(new Jet.Attr(r)),e._JT_hasAttr(_style)&&!e._hasStyle&&i.push(new Jet.Style(r,!0))}function _forRootOpt(t,e,n){return{jet:jet,par:jet,ele:e,data:jet,_data:jet._tools._data,name:n,calls:jet._tools._calls}}function _initText(t){_checkLangJet.call(this,t);var e=this;""!=this.ele._JT_txt().trim()&&(this.func=new Function("$","opt","return "+this.ele._JT_txt().trim())),this.$regist(function(t,n){e.refresh()}),this.refresh(),_checkJetTools.call(this,t)}function _initInput(t){_checkLangJet.call(this,t);var e=this;"number"!==this.ele._JT_attr("j-type")&&"number"!==this.ele._JT_attr("type")||(e.forceNum=!0),this.ele._JT_hasAttr("contenteditable")?(this.isContent=!0,""!=this.ele._JT_txt().trim()&&(this.func=new Function("$","return "+this.ele._JT_txt()))):"SELECT"!=this.ele.tagName&&""!=this.ele._JT_val().trim()&&(this.func=new Function("$","return "+this.ele._JT_val())),this.ele._attrVal==_index&&_throw("输入框不能绑定数组的索引"),this.$regist(function(t,n){e.refresh()}),this.isNum="number"==_JT.type(this.$get());var n=this.ele.tagName,r=this.ele._JT_attr("type");null!==r&&(r=r.toLowerCase()),"SELECT"==n||"INPUT"==n&&"text"!=r&&"password"!=r&&"number"!=r&&null!=r?this.ele._JT_on("change",function(){_dealOnInputOn.call(this,e)},!0):(this.inputLock=!1,this.ele.addEventListener("compositionstart",function(){e.inputLock=!0}),this.ele.addEventListener("compositionend",function(){e.inputLock=!1,_dealOnInputOn.call(e.ele,e)}),this.ele._JT_on("input",function(){e.inputLock||_dealOnInputOn.call(this,e)},!0)),this.refresh(),_checkJetTools.call(this,t)}function _dealOnInputOn(t){var e=t.isContent?this._JT_html():this._JT_val();if(t.forceNum)e=parseFloat(e),"NaN"===e.toString()&&(e="");else if(t.isNum){var n=parseFloat(e);e==n.toString()?(t.isNum=!0,e=n):t.isNum=!1}t.data[t.name]=e}function _formatBindStr(t){return t._JT_replaceAll([["\\$.\\$par","_par"],["\\$index\\(","_index("],["\\$index","_index()"],["\\$","d"],["{{",""],["}}",""]])}function _makeFuncForJetTools(t){return new Function("d","dr","_par","_index","return ("+t+")")}function _callFuncForJetTools(t,e){return t(e,this.jet,__par.bind(this),__index.bind(this))}function _initParData(){if(this._attrVal._JT_has("$.$par")){this._attrVal.match(_reg);this._parData=[this.data];for(var t=this;!t.par.$DOM;)t=t.par,this._parData.push(t.data)}}function _initIf(){var t=this,e=this._attrVal;if(_initParData.call(this),this.type==_show)_registForWrapperVar(e,this),this.func_true=function(){t.ele.style.display=""},this.func_false=function(){t.ele.style.display="none"},e=e in this._data?"d."+e:_formatBindStr(e),this.exp=_makeFuncForJetTools(e);else{var n=e.substring(0,e.indexOf(":"));_registForWrapperVar(n,this),n="object"!==_typeof(this._data)?_formatBindStr(n):n in this._data?"d."+n:_formatBindStr(n),this.exp=_makeFuncForJetTools(n),e=e.substring(e.indexOf(":")+1);var r="",i="";e.split(";")._JT_each(function(e){if(e._JT_has("class[")){var n=e.substring(e.indexOf("[")+1,e.length-1);if(n._JT_has("|")){var a=n.split("|")[0].split(",").join(" "),o=n.split("|")[1].split(",").join(" ");r+="opt.ele._JT_removeClass('"+o+"')._JT_addClass('"+a+"');",i+="opt.ele._JT_removeClass('"+a+"')._JT_addClass('"+o+"');"}else n=n.split(",").join(" "),r+="opt.ele._JT_addClass('"+n+"');",i+="opt.ele._JT_removeClass('"+n+"');"}else if(e._JT_has("attr[")){var _=e.substring(e.indexOf("[")+1,e.length-1);if(_._JT_has("|")){var s=_.split("|")[0].split(","),l=[];s._JT_each(function(t){l.push(t.split("=")[0])});var h=_.split("|")[1].split(","),c=[];h._JT_each(function(t){c.push(t.split("=")[0])}),s._JT_each(function(t){var e=t.split("=");1==e.length&&(e[1]=""),r+="opt.ele._JT_attr('"+e[0]+"','"+e[1]+"');",-1==c.indexOf(e[0])&&(i+="opt.ele._JT_removeAttr('"+e[0]+"');")}),h._JT_each(function(t){var e=t.split("=");1==e.length&&(e[1]=""),i+="opt.ele._JT_attr('"+e[0]+"','"+e[1]+"');",-1==l.indexOf(e[0])&&(r+="opt.ele._JT_removeAttr('"+e[0]+"');")})}else _.split(",")._JT_each(function(t){var e=t.split("=");1==e.length&&(e[1]=""),r+="opt.ele._JT_attr('"+e[0]+"','"+e[1]+"');",i+="opt.ele._JT_removeAttr('"+e[0]+"');"})}else if(e._JT_has("text[")){var u=e.substring(e.indexOf("[")+1,e.length-1);u._JT_has("|")?(r+="opt.ele._JT_txt('"+u.split("|")[0]+"');",i+="opt.ele._JT_txt('"+u.split("|")[1]+"');"):(r+="opt.ele._JT_txt('"+u+"');",i+="opt.ele._JT_txt('');")}else if(e._JT_has("html[")){var d=e.substring(e.indexOf("[")+1,e.length-1);d._JT_has("|")?(r+="opt.ele._JT_html('"+d.split("|")[0]+"');",i+="opt.ele._JT_html('"+d.split("|")[1]+"');"):(r+="opt.ele._JT_html('"+d+"');",i+="opt.ele._JT_html('');")}else if(e._JT_has("css[")){var _=e.substring(e.indexOf("[")+1,e.length-1);_._JT_has("|")?(r+="opt.ele._JT_removeAttr('style');",_.split("|")[0].split(",")._JT_each(function(t){var e=t.split("=");1==e.length&&(e[1]=""),r+="opt.ele._JT_css('"+e[0]+"','"+e[1]+"');"}),i+="opt.ele._JT_removeAttr('style');",_.split("|")[1].split(",")._JT_each(function(t){var e=t.split("=");1==e.length&&(e[1]=""),i+="opt.ele._JT_css('"+e[0]+"','"+e[1]+"');"})):(r+="opt.ele._JT_removeAttr('style');",_.split(",")._JT_each(function(t){var e=t.split("=");1==e.length&&(e[1]=""),r+="opt.ele._JT_css('"+e[0]+"','"+e[1]+"');"}),i+="opt.ele._JT_removeAttr('style');")}else e._JT_has("|")?(e=e.split("|"),e[0]in t.jet?r+="this."+e[0]+".call(this,opt);":r+=e[0],e[1]in t.jet?i+="this."+e[1]+".call(this,opt);":i+=e[1]):e in t.jet?r+="this."+e+".call(this,opt);":r+=e}),this.func_true=new Function("opt",r),this.func_false=new Function("opt",i)}this.refresh()}function _registForWrapperVar(t,e){var n=t.match(_reg),r=!1;if(null==n)t in e._data||t._JT_has("$."),e.$regist(t,function(t,n){e.refresh()});else{var i=[];n.forEach(function(t){if(-1==i.indexOf(t))if(i.push(t),"{{$}}"==t)e.$regist(function(t,n){e.refresh()});else{var n=e,a=!1;if(t._JT_has("$r."))n=e.jet;else if(t._JT_has(".$par(")){var o=t.substring(t.indexOf(".$par(")+6,t.indexOf(")"));o=""===o?1:parseInt(o),n=_findRegistPar(n,o),t="{{$"+t.substring(t.indexOf(")")+1)}else t._JT_has(_index)&&(e._hasIndex=!0,r=!0,a=!0);a||("{{$}}"==t?e.$regist(function(t,n){e.refresh()}):n.$regist(t.substring(2,t.length-2),function(t,n){e.refresh()}))}})}return r}function _findRegistPar(t,e){if(e>t._parData.length-1)return t.jet;for(var n=t._parData[e],r=t.par;r.$get()!==n&&!r.$DOM;)r=r.par;return r}function _initOn(){var t=this;this._attrVal.split(";;")._JT_each(function(e){e._JT_has(":")||(e="click:"+e);var n,r=e.substring(0,e.indexOf(":")),i=e.substring(e.indexOf(":")+1),a="",o=null,_=[],s=!1,l=[];if(i._JT_has("$valid"))if(i._JT_has("=>")){if(s=!0,n=Jet.valid.findValidPar(t.ele),a=i.substring(i.indexOf("=>")+2).trim(),a._JT_has("|")){var h=a.split("|");a=h[0],o=h[1]}}else _throw('valid:"'+i+'" 格式有误，操作符为 =>');else a=i;var c=a.substring(0,a.indexOf(",")),u=t.jet.$props;if(a in t.jet||c in t.jet||u&&(a in u||c in u)?a.split(",").forEach(function(e){"function"!=typeof t.jet[e]&&u&&"function"!=typeof u[e]?_throw(e+" 不是一个方法"):t.jet[e]?l.push(t.jet[e]):l.push(u[e])}):l=[new Function("opt",a)],s&&null!=o){var d=o.substring(0,o.indexOf(","));o in t.jet||d in t.jet||u&&(o in u||d in u)?o.split(",").forEach(function(e){"function"!=typeof t.jet[e]?_throw(e+" 不是一个方法"):t.jet[e]?_.push(t.jet[e]):_.push(u[e])}):_=[new Function("opt",o)]}t.ele._JT_on(r,function(e){var r={ele:this,data:t.$get(),event:e,jet:t};s?n._JT_validate(function(){l.forEach(function(e){_callCheckChild(e,t,r)})},function(){_.forEach(function(e){_callCheckChild(e,t,r)})}):l.forEach(function(e){_callCheckChild(e,t,r)})})})}function _callCheckChild(t,e,n){t.__props_child?(n.child=e.jet,t.call(e.jet,n),delete n.child):t.call(e.jet,n)}function _initRun(t){this.runs=this._attrVal.split(","),this.runs[0]in this.jet&&"function"==typeof this.jet[this.runs[0]]||(this.runs=[this._attrVal]),this.run()}function __par(t){return(void 0==t||t<=0)&&(t=1),t>=this._parData.length?this._parData[this._parData.length-1]:this._parData[t-1]}function __index(t){for(var e=this.par;t>0;)e=e.par,"array"!=_type(e._data)&&(e=e.par),t--;return e.ele._JT_index()}function _initAttr(t){var e=this._attrVal;_initParData.call(this),this.attrs={};var n=this;e._JT_has(";")?e.split(";").forEach(function(t){_initOneAttr.call(n,t)}):_initOneAttr.call(n,e),this.refresh()}function _initOneAttr(t){if(t._JT_has(":")){var e=t.indexOf(":"),n=t.substring(e+1);if(n._JT_has("{{")){var r=_registForWrapperVar(n,this);n=_formatBindStr(n);var i=_makeFuncForJetTools(n);r&&(i._hasIndex=!0),this.attrs[t.substring(0,e)]=i}else this.attrs[t.substring(0,e)]=new Function("return '"+n+"'")}else _throw(this.isStyle?"JStyle":"JAttr:必须指定属性的值")}function _loadOneModule(t,e,n,r){_JT.load(Jet.res.getSrc(t,"js"),function(i){i="//# sourceURL="+t+"\r\n"+i,_check_is_new=!1!==n,r?(i=i.replace(".$export(",".$export(__call,"),new Function("__call",i)(function(t){r(t,e)})):new Function(i)(),"function"==typeof _modules[t]&&_modules[t](_currentModule),_modules[t]=_currentModule})}function _checkIsNewMod(t){return!!t._JT_has("new(")&&t.substring(4,t.indexOf(")"))+t.substring(t.indexOf(")")+1)}function _importBase(t,e,n){t[e]="string"==typeof n?Jet.$get(n):n}function _getKeyAndMod(t){var e=t.split(" as ");return 2===e.length?{key:e[1],mod:e[0]}:{key:t,mod:t}}var _JT={cls:function(t){return _checkSelect(document.getElementsByClassName(t))},id:function(t){return _checkSelect(document.getElementById(t))},tag:function(t){return _checkSelect(document.getElementsByTagName(t))},attr:function(t){return _checkSelect(document.querySelectorAll("["+t+"]"))},name:function(t){return _checkSelect(document.getElementsByName(t))},select:function(t){return _checkSelect(document.querySelectorAll(t))},body:function(){return document.body},type:_type,ct:_create,ajax:_ajax,cookie:_cookie,storage:_storage,load:_load,clone:_clone,html5:function(){return!!window.applicationCache},urlParam:_getUrlParam,delay:function(t,e){return e=e||500,setTimeout(function(){t.call(this)},e)},interval:function(e,n,r){return r=r||500,setInterval(function(){e().call(this)&&(clearInterval(t),n().call(this))},r)},clearDelay:function(t){return setTimeout(t)},clearInterval:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return clearInterval(t)})},EleProto=HTMLElement.prototype,CollProto=HTMLCollection.prototype,NodeProto=NodeList.prototype,ArrProto=Array.prototype,StrProto=String.prototype;EleProto._JT_css=function(t,e){if(void 0==e){if("json"==_JT.type(t)){for(var n in t)t[n]._JT_has("!important")?this.style.setProperty(n,_checkCssValue(this,n,t[n].substring(0,t[n].indexOf("!important"))),"important"):this.style.setProperty(n,_checkCssValue(this,n,t[n]));return this}return getComputedStyle(this)[t]}return e._JT_has("!important")?this.style.setProperty(t,_checkCssValue(this,t,e.substring(0,e.indexOf("!important"))),"important"):this.style.setProperty(t,_checkCssValue(this,t,e)),this},EleProto._JT_attr=function(t,e){if(void 0==e){if("json"==_JT.type(t)){for(var n in t)""!==n.trim()&&this.setAttribute(n,t[n]);return this}return this.getAttribute(t)}return""!==t.trim()&&this.setAttribute(t,e),this},CollProto._JT_attr=NodeProto._JT_attr=function(t,e){if(void 0==e&&"json"!=_JT.type(t)){var n=[];return this._JT_each(function(e){n._JT_append(e._JT_attr(t))}),n}return this._JT_each(function(n){n._JT_attr(t,e)}),this},EleProto._JT_hasAttr=function(t){return this.hasAttribute(t)},EleProto._JT_removeAttr=function(t){var e=t.split(" ");if(e.length>1){var n=this;e._JT_each(function(t){n.removeAttribute(t)})}else this.removeAttribute(t);return this},CollProto._JT_removeAttr=NodeProto._JT_removeAttr=function(t){return this._JT_each(function(e){e._JT_removeAttr(t)}),this},EleProto._JT_findTag=function(t){return _checkSelect(this.getElementsByTagName(t))},EleProto._JT_findAttr=function(t){return _checkSelect(this.querySelectorAll("["+t+"]"))},EleProto._JT_findClass=function(t){return _checkSelect(this.getElementsByClassName(t))},EleProto._JT_select=function(t){return _checkSelect(this.querySelectorAll(t))},EleProto._JT_addClass=function(t){if(t._JT_has(" ")){var e=this;t.split(" ")._JT_each(function(t){e._JT_addClass(t)})}else""!==t.trim()&&(_JT.html5()?this.classList.add(t):this._JT_hasClass(t)||(this.className+=" "+t));return this},CollProto._JT_addClass=NodeProto._JT_addClass=function(t){return this._JT_each(function(e){e._JT_addClass(t)}),this},EleProto._JT_removeClass=function(t){if(void 0==t)this.className="";else if(""!==t.trim())if(t._JT_has(" ")){var e=t.split(" "),n=this;e._JT_each(function(t){n._JT_removeClass(t)})}else if(_JT.html5())this.classList.remove(t);else if(this._JT_hasClass(t)){var r=new RegExp("(\\s|^)"+t+"(\\s|$)");this.className=this.className.replace(r," ").trim()}return this},CollProto._JT_removeClass=NodeProto._JT_removeClass=function(t){return this._JT_each(function(e){e._JT_removeClass(t)}),this},EleProto._JT_val=function(t){return void 0==t&&0==arguments.length?this.value:("INPUT"!=this.tagName&&"TEXTAREA"!=this.tagName&&"SELECT"!=this.tagName||(this.value=_checkArg(t,"")),this)},CollProto._JT_val=NodeProto._JT_val=function(t){if(void 0==t){var e=[];return this._JT_each(function(t){e._JT_append(t._JT_val())}),e}return this._JT_each(function(e){e._JT_val(t)}),this},EleProto._JT_txt=function(t){return void 0==t&&0==arguments.length?this.innerText:(this.innerText=_checkArg(t,""),this)},CollProto._JT_txt=NodeProto._JT_txt=function(t){if(void 0==t&&0==arguments.length){var e=[];return this._JT_each(function(t){e._JT_append(t._JT_txt())}),e}return this._JT_each(function(e){e._JT_txt(t)}),this},EleProto._JT_html=function(t){return void 0==t?this.innerHTML:(this.innerHTML=t,this)},CollProto._JT_html=NodeProto._JT_html=function(t){if(void 0==t){var e=[];return this._JT_each(function(t){e._JT_append(t._JT_html())}),e}return this._JT_each(function(e){e._JT_html(t)}),this},EleProto._JT_allHtml=function(t){return void 0==t?this.outerHTML:(this.outerHTML=t,this)},CollProto._JT_allHtml=NodeProto._JT_allHtml=function(t){var e=[];return this._JT_each(function(n){e._JT_append(n._JT_allHtml(t))}),e},EleProto._JT_hasClass=function(t){return""===t.trim()||(_JT.html5()?this.classList.contains(t):new RegExp("(\\s|^)"+t+"(\\s|$)").test(this.className))},EleProto._JT_next=function(t){return void 0!=t?this._JT_parent()._JT_child(this._JT_index()+t):this._JT_parent()._JT_child(this._JT_index()+1)},EleProto._JT_prev=function(t){return void 0!=t?this._JT_parent()._JT_child(this._JT_index()-t):this._JT_parent()._JT_child(this._JT_index()-1)},EleProto._JT_child=function(t){return void 0==t?this.children:this.children[t]},EleProto._JT_clone=function(){return this.cloneNode()._JT_html(this._JT_html())},EleProto._JT_parent=function(t){if(void 0==t)return this.parentElement;for(var e=this,n=0;n<t;n++)e=e.parentElement;return e},EleProto._JT_prepend=function(t){var e=_JT.type(t);if("array"==e||"htmlcollection"==e||"nodelist"==e){var n=this;t._JT_each(function(t){n.insertBefore(_checkHtmle(t),n.children[0])})}else this.insertBefore(_checkHtmle(t),this.children[0]);return this},CollProto._JT_prepend=NodeProto._JT_prepend=function(t){return this._JT_each(function(e){e._JT_prepend(t)}),this},EleProto._JT_append=function(t,e){if(void 0==e){var n=_JT.type(t);if("array"==n||"htmlcollection"==n||"nodelist"==n)for(var r=0;r<t.length;r++)this._JT_append(t[r]);else"string"==n?this._JT_append(_checkHtmle(t)):this.appendChild(_checkHtmle(t))}else this.insertBefore(_checkHtmle(t),this.children[e]);return this},CollProto._JT_append=NodeProto._JT_append=function(t,e){return this._JT_each(function(n){n._JT_append(t,e)}),this},EleProto._JT_toArray=function(){return[this]},CollProto._JT_toArray=NodeProto._JT_toArray=function(t){if(0!=t){for(var e=[],n=0;n<this.length;n++)e.push(this[n]);return e}return this},EleProto._JT_index=function(){for(var t=this._JT_parent()._JT_child(),e=0;e<t.length;e++)if(t[e]==this)return e;return-1},EleProto._JT_on=function(t,e,n){if("string"==_JT.type(t))return this._JT_event("on"+t,e,n);for(var r in t)t["on"+r]=t[r],delete t[r];return this._JT_event(t,e)},CollProto._JT_on=NodeProto._JT_on=function(t,e,n){return this._JT_each(function(r){r._JT_on(_JT.clone(t),e,n)}),this},EleProto._JT_clk=function(t,e){return this._JT_event("onclick",t,e)},CollProto._JT_clk=NodeProto._JT_clk=function(t,e){return this._JT_each(function(n){n._JT_clk(t,e)}),this},EleProto._JT_event=function(t,e,n){if("string"==_JT.type(t))!0===n?_attachEvent(this,t,e):this[t]=_checkFunction(e);else for(var r in t)void 0!=t[r]&&(!0===e?_attachEvent(this,r,t[r]):this[r]=_checkFunction(t[r]));return this},CollProto._JT_event=NodeProto._JT_event=function(t,e,n){return this._JT_each(function(r){r._JT_event(t,e,n)}),this},EleProto._JT_empty=function(){return this._JT_html("")},CollProto._JT_empty=NodeProto._JT_empty=function(){return this._JT_each(function(t){t._JT_empty()}),this},EleProto._JT_remove=function(){null!==this.parentNode&&this.parentNode.removeChild(this)},CollProto._JT_remove=NodeProto._JT_remove=function(t){if(void 0==t)for(var e=0;e<this.length;)this[e]._JT_remove();else if("number"==_JT.type(t)){for(var e=0;e<this.length;e++)if(e==t)return this[e]._JT_remove(),this}else for(var e=0;e<this.length;e++)if(this[e]==t)return this[e]._JT_remove(),this},EleProto._JT_each=function(t,e){return t(this,0,e),this},CollProto._JT_each=NodeProto._JT_each=function(t,e){for(var n=this._JT_toArray(),r=0;r<n.length;r++)t(n[r],r,e);return this},ArrProto._JT_each=function(t,e){for(var n=0;n<this.length;n++)t(this[n],n,e);return this},ArrProto._JT_clone=function(){var t=new Array;return this.forEach(function(e){t.push(_clone(e))}),t},ArrProto._JT_empty=function(t){return this.length=0,this},EleProto._JT_last=function(){return this._JT_child()._JT_last()},EleProto._JT_first=function(){return this._JT_child()._JT_first()},CollProto._JT_last=NodeProto._JT_last=ArrProto._JT_last=function(t){return this[this.length-1]},CollProto._JT_first=NodeProto._JT_first=ArrProto._JT_first=function(t){return this[0]},ArrProto._JT_remove=function(t,e){var n=this.indexOf(t);return 0==e?this[a]=this[this.length--]:this._JT_removeByIndex(n),this},ArrProto._JT_removeByIndex=function(t,e){return this.splice(t,e||1),this},ArrProto._JT_insert=function(t,e){return this.splice(e,0,t),this},ArrProto._JT_insertArray=function(t,e){var n=t.slice(0);return n.splice(0,0,e,0),ArrProto.splice.apply(this,n),this},ArrProto._JT_append=function(){return ArrProto.push.apply(this,arguments),this},ArrProto._JT_prepend=function(t){return 1==arguments.length?this._JT_insert(t,0):this._JT_insertArray(_argsToArray(arguments),0)},StrProto._JT_has=function(t){return"string"==_JT.type(t)?void 0==this.includes?-1!=this.indexOf(t):this.includes(t):null!=this.match(t)},StrProto._JT_replaceAll=function(t,e){if("array"==_JT.type(t)){var n=this;return t.forEach(function(t){n=n._JT_replaceAll(t[0],t[1])}),n}if("array"==_JT.type(e)){if("string"==_JT.type(t)){var n=this.split(t),r=n[0];return n._JT_each(function(t,n){n>0&&(r+=e[n-1]+t)}),r}var i="",a=this,o=this.match(t);return null!=o?(o._JT_each(function(t,n){a.split(t);i+=a.substring(0,a.indexOf(t))+e[n],a=a.substring(a.indexOf(t)+t.length)}),i+=a):this}return"string"==_JT.type(t)?this.replace(new RegExp(t,"g"),e):this.replace(t,e)},EleProto._JT_exist=function(t,e){return void 0!=t&&_checkFunction(t)(this),!0},CollProto._JT_exist=NodeProto._JT_exist=ArrProto._JT_exist=function(t,e){return this.length>0?(1==this.length?_checkFunction(t)(this[0]):_checkFunction(t)(this),!0):(_checkFunction(e)(),!1)},EleProto._JT_content=function(t){if("INPUT"==this.tagName||"TEXTAREA"==this.tagName||"SELECT"==this.tagName){if(void 0==t&&0==arguments.length)return this.value;try{this.value=_checkArg(t,"")}catch(t){}}else{if(void 0==t&&0==arguments.length)return this.innerText;this.innerText=_checkArg(t,"")}return this},_JT.tag("head")._JT_append(_JT.ct("style")._JT_txt(".jet-hide{display:none!important}.jet-unpass{border-color:#f20!important;border-style:solid!important;background-color:rgba(255,0,0,.1)!important;color:red!important}"));var _bind="J",_for="Jfor",_input="Jinput",_text="Jtext",_if="Jif",_on="Jon",_run="Jrun",_attr="Jattr",_style="Jstyle",_show="Jshow",_root="Jroot",_each="$each",_value="$value",_index="$index",_dom="jdom",_html="jhtml",_reg=new RegExp("({{)((.|\\n)*?)(}})","g"),_numReg=new RegExp("(\\[)((.|\\n)*?)(\\])","g"),_props="props",_dataPrefix=":",_dataClonePrefix="::",_funcPrefix="@",__jet_id=0,__ele_id=0,__comp_id="comp__id",__jet_root="_root",__router_comp="$routerComp",__comp_name="name";window.Jet=function(t,e,n){"object"===(void 0===n?"undefined":_typeof(n))?(n.ele||(n.ele=_JT.attr(__comp_id+'="'+e+'"'),n.ele._JT_removeAttr(__comp_id)),n.par||(n.par=t)):n=t,void 0===n&&(n={}),_checkDataForData(n),n.ele=n.ele?_getJdomEle(n.ele):document.documentElement,n.ele.__jet=this,Jet.$unnamedJets[__jet_root]||"HTML"!=n.ele.tagName||(Jet.$unnamedJets[__jet_root]=this,Jet.$root=this),n.ele._JT_hasAttr(__comp_name)&&(n.name=n.ele._JT_attr(__comp_name)),n.name?(Jet[n.name]&&void 0==Jet[n.name].$DOM&&_throw("Jet name 属性等于"+n.name+"已存在，请重新命名"),Jet[n.name]=this):e==__router_comp?(n.name=__router_comp,Jet.$unnamedJets.routerComp=this):(n.name="_"+__jet_id++,Jet.$unnamedJets[n.name]=this),n.par&&(this.$par=Jet[n.par]||Jet.$unnamedJets[n.par],this.$par&&(this.$par.$child||(this.$par.$child=_createEmpty()),e==__router_comp?this.$par.$child[__router_comp]=this:this.$par.$child[n.name]=this)),this._tools={_jets:[],_jetTools:[],_calls:{},_data:n.data||{},_ele:n.ele,name:n.name},this.$dom={};var r=this;if(_initLoadEle.call(this,n),_define(this,n.data,this._tools._calls),_addParPropsToJet(this),n.func)for(var i in n.func)this[i]?_throw("data 不能与 func 有重名属性"):this[i]=n.func[i];var r=this;if(n.beforeinit)n.beforeinit.call(this);else if(n.beforeinitawait)return void n.beforeinitawait.call(this,function(){_initJet.call(r,n,r._tools._calls)});_initJet.call(r,n,r._tools._calls)},Jet.prototype=_createEmpty(),Jet.prototype.$get=function(){return this},Jet.prototype.$makeChange=function(t){new Function("call","return call."+t+"._func")(this._tools._calls).forEach(function(t){t()})},Jet.prototype.$DOM=function(t){return new Jet.DOM({ele:t,jet:this})},Jet.prototype.$cookie=_cookie,Jet.prototype.$storage=_storage,Jet.prototype.$ajax=function(t){return 0!=t.base&&void 0!==Jet.prototype.$ajax.base&&(t.url=Jet.prototype.$ajax.base+t.url),Jet.prototype.$ajax.xhr=_ajax(t),Jet.prototype.$ajax.xhr},Jet.prototype.$ajax.get=function(t,e,n,r){return Jet.prototype.$ajax({data:e,url:t,success:n,error:r})},Jet.prototype.$ajax.post=function(t,e,n,r){return Jet.prototype.$ajax({type:"post",data:e,url:t,success:n,error:r})},Jet.prototype.$ajax.abort=function(){Jet.prototype.$ajax.xhr&&(Jet.prototype.$ajax.xhr.abort(),Jet.prototype.$ajax.xhr=null)},Jet.prototype.$jui=function(t){return _getJdomEle(t,this._tools._ele).$jui},Jet.prototype.$init=function(t){_initJetEle.call(this,t)},Jet.prototype.$route=function(t,e){Jet.router.route(t,e)},Jet.prototype.$route.back=function(t){Jet.router.back()},Jet.prototype.$route.forward=function(t){Jet.router.forward()},Jet.prototype.$=_JT,Jet.prototype.$regist=function(t,e){_registDataCall(_formatRegustArg(t,e,this,arguments.length))},Jet.$=_JT,Jet.$unnamedJets={},Jet.DOM=function(t){this.jet=t.jet,this.ele=t.ele,this.name=t.ele._JT_attr(_dom);var e=this;Object.defineProperties(this,{html:{get:function(){return e.ele.innerHTML},set:function(t){e.ele.innerHTML=t}},text:{get:function(){return e.ele.innerText},set:function(t){e.ele.innerText=t}},value:{get:function(){return e.ele.value},set:function(t){e.ele.value=t}},class:{get:function(){return e.ele._JT_attr("class")},set:function(t){if("+"!=t[0]&&"-"!=t[0])e.ele._JT_attr("class",t);else{t.split(";").forEach(function(t){"+"!=t[0]&&"-"!=t[0]&&_throw("添加或删除类 第一个字符必须是+或者-"),"+"==t[0]?e.ele._JT_addClass(t.substring(1)):e.ele._JT_removeClass(t.substring(1))})}}},outerHtml:{get:function(){return e.ele.outerHTML},set:function(t){console.error("outerHtml 不允许赋值")}},attr:{get:function(){for(var t={},n=0;n<e.ele.attributes.length;n++)t[e.ele.attributes[n].name]=e.ele.attributes[n].textContent;return t},set:function(t){t.split(";").forEach(function(t){if("-"==t[0])e.ele._JT_removeAttr(t.substring(1));else{var n=t.split("=");0==n.length&&(n[1]=""),"+"==n[0]?e.ele._JT_attr(n[0].substring(1),n[1]):e.ele._JT_attr(n[0],n[1])}})}},css:{get:function(){return e.ele.style},set:function(t){t.split(";").forEach(function(t){var n=t.split("=");e.ele._JT_css(n[0],n[1])})}}})};var _domSatte={ready:function(){function t(t){if(!n&&("onreadystatechange"!==t.type||"complete"===document.readyState)){for(var i=0;i<e.length;i++)e[i].call(r);n=!0,e=null}}var e=[],n=!1,r=null;return document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),document.addEventListener("readystatechange",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",t),window.attachEvent("onload",t)),function(t,i){r=i,n?t.call(r):e.push(t)}}(),load:function(t,e){document.addEventListener?document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments,!1),t.call(e)},!1):document.attachEvent&&document.attachEvent("onreadystatechange",function(){"complete"==document.readyState&&(document.detachEvent("onreadystatechange",arguments),t.call(e))})}};Jet.Base=function(t,e){switch(this.jet=t.jet,this.par=t.par,this.ele=t.ele,this._data=t._data,this.data=t.data,this.type=e,this.name=t.name,this.index=t.index,e!=_for&&e!=_input&&e!=_text||(e=_bind),this._tools={_jets:[],_jetTools:[],_calls:t.calls},this._attrVal=this.ele._JT_attr(e),this.ele._JT_removeAttr(e),this.type){case _if:this.ele._hasIf=!0;break;case _on:this.ele._hasOn=!0;break;case _run:this.ele._hasRun=!0;break;case _attr:this.ele._hasAttr=!0;break;case _style:this.ele._hasStyle=!0;break;case _show:this.ele._hasShow=!0;break;default:this.ele._hasBind=!0}this.ele._JT_hasAttr(_root)&&(this.par=this.jet,this.data=this.jet,this.name?this._tools._calls=this.jet._tools._calls[this.name]:this._tools._calls=this.jet._tools._calls),this.type!=_bind&&this.type!=_for&&this.type!=_text&&this.type!=_input||(this.ele.__jet=this)},Jet.Base.prototype=_createEmpty(),Jet.Base.prototype.$parData=function(t){var e=this.par;(void 0==t||t<=0)&&(t=1);for(var n=0;n<t-1;n++){if(e.$DOM)return e;e=e.par}return e.data},Jet.Base.prototype.$makeChange=function(t){var e;e=void 0==t?this._tools._calls._func:new Function("$","return "+t+"._func")(this._tools._calls),e.forEach(function(t){t()})},Jet.Base.prototype.disable=function(){switch(_warn("忽略了一个"+this.type+"元素:",this),this.disable=!0,this.ele._JT_attr(this.type,this._attrVal),this.type){case _if:this.ele._hasIf=!1;break;case _on:this.ele._hasOn=!1;break;case _run:this.ele._hasRun=!1;break;case _attr:this.ele._hasAttr=!1;break;case _style:this.ele._hasStyle=!1;break;case _show:this.ele._hasShow=!1;break;default:this.ele._hasBind=!1}this.type==_bind?this.par._tools._jets._JT_remove(this):this.par._tools._jetTools._JT_remove(this),this.ele.__jet=void 0},Jet.Base.prototype.$regist=function(t,e){_registDataCall(_formatRegustArg(t,e,this,arguments.length))},Jet.Base.prototype.setDataIndex=function(t){this.name=t};var Super=function(){};Super.prototype=Jet.Base.prototype;var __push=ArrProto.push;ArrProto.push=function(){if(void 0===this._data)return __push.apply(this,arguments);1===arguments.length?this.$push(arguments[0]):arguments.length>1&&this.$pushArray(_argsToArray(arguments))};var __pop=ArrProto.pop;ArrProto.pop=function(){if(void 0===this._data)return __pop.apply(this);var t=this._JT_last();return this.$removeByIndex(this.length-1),t};var __splice=ArrProto.splice;ArrProto.splice=function(){if(void 0===this._data)return __splice.apply(this,arguments);1===arguments.length?this.$removeByIndex(arguments[0],this.length-1):2===arguments.length?this.$removeByIndex(arguments[0],arguments[1]):arguments.length>2&&(this.$removeByIndex(arguments[0],arguments[1]),this.$insertArray(_argsToArray(arguments,2),arguments[0]))};var __shift=ArrProto.shift;ArrProto.shift=function(){if(void 0===this._data)return __shift.apply(this);var t=this[0];return this.$removeByIndex(0),t};var __unshift=ArrProto.unshift;ArrProto.unshift=function(){if(void 0===this._data)return __unshift.apply(this,arguments);1===arguments.length?this.$prep(arguments[0]):arguments.length>1&&this.$prepArray(_argsToArray(arguments))};var __reverse=ArrProto.reverse;ArrProto.reverse=function(){if(void 0===this._data)return __reverse.apply(this);var t=__reverse.apply(this._data)._JT_clone();return this.$replace(t),t};var __sort=ArrProto.sort;ArrProto.sort=function(t){if(void 0===this._data)return __sort.call(this,t);var e=__sort.call(this._data,t)._JT_clone();return this.$replace(e),e},ArrProto.$push=function(t){var e,n,r,i=this._jet,a=void 0===i;a?(e=this,n=this._data,r=this._calls):(e=i.data[i.name],n=i._data[i.name],r=i._tools._calls),n.push(t),_defineCom(e,e.length,n,r),a||i.refresh.push.call(i)},ArrProto.$pushArray=function(t){this.$insertArray(t,this.length)},ArrProto.$prep=function(t){var e,n,r,i=this._jet,a=void 0===i;a?(e=this,n=this._data,r=this._calls):(e=i.data[i.name],n=i._data[i.name],r=i._tools._calls),n._JT_prepend(t),r._JT_prepend({}),_defineArray(e,n,r),a||i.refresh.prep.call(i)},ArrProto.$prepArray=function(t){this.$insertArray(t,0)},ArrProto.$insert=function(t,e){var n,r,i,a=this._jet,o=void 0===a;o?(n=this,r=this._data,i=this._calls):(n=a.data[a.name],r=a._data[a.name],i=a._tools._calls),r._JT_insert(t,e),i._JT_insert({},e),_defineArrayFormIndex(n,r,i,e),o||a.refresh.insert.call(a,e)},ArrProto.$insertArray=function(t,e){var n,r,i,a=this._jet,o=void 0===a;o?(n=this,r=this._data,i=this._calls):(n=a.data[a.name],r=a._data[a.name],i=a._tools._calls),r._JT_insertArray(t,e);for(var _=[],s=0;s<t.length;s++)_.push({});i._JT_insertArray(_,e),_defineArrayFormIndex(n,r,i,e),o||a.refresh.insertArray.call(a,t,e)},ArrProto.$remove=function(){for(var t=0;t<arguments.length;t++)this.$removeByIndex(_indexOf(this,arguments[t]))},ArrProto.$removeByIndex=function(t,e){if(-1!=t){void 0==e&&(e=1);var n,r,i,a=this._jet,o=void 0===a;o?(n=this,r=this._data,i=this._calls):(n=a.data[a.name],r=a._data[a.name],i=a._tools._calls),r.length<t+e&&(r.length<t+1?_throw("$remove 方法索引超过数组长度"):(e=r.length-t,_warn("$remove 方法删除的个数超过数组长度，只删除"+e+"个元素"))),r.splice(t,e),i.splice(t,e),_defineArrayFormIndex(n,r,i,t),n.length-=e,o||a.refresh.remove.call(a,t,e)}},ArrProto.$clear=function(){this.$removeByIndex(0,this.length)},ArrProto.$replace=function(t){this.$clear(),this.$pushArray(t)},Jet.$=_JT;var _route="Jrouter",_route_a="jrouter-active",_routeScript="JrouteScript",_globalStyle="JglobalStyle",_scopeStyle="JscopeStyle",_commonStyle="JcommonStyle";Jet.router={base:"",trueBase:!1,history:!1,path:"/",lastTrueHash:"",params:null,router:{},use:function(t){_initRouterConf(t),Jet.router.index="index"in t?t.index:"/index";var e=Jet.router.index;location.pathname._JT_has("index.html")||(Jet.router.history?location.pathname.length-Jet.router.base.length>1&&(e=location.pathname.substring(Jet.router.base.length)+location.search+location.hash):location.hash.length>2&&(e=location.pathname+location.hash,e=e.substring(Jet.router.base.length)+location.search)),Jet.router.out=_JT.attr("Jout"),Jet.router.init(),t.oninit&&"function"==typeof t.oninit&&t.oninit(),Jet.router.__isFresh=!0,Jet.router.route(e)},conf:{html:"/src/html",js:"/src/js",css:"/src/css",image:"/src/image",media:"/src/media"},init:function(t){var e;e=void 0==t?_JT.attr(_route):t._JT_findAttr(_route),e._JT_each(function(t){t._JT_clk(function(){Jet.router.route(this._JT_attr(_route))})})},__xhr:null,__onroute:[],onroute:function(t,e){"function"==typeof t?(t._jet=e,Jet.router.__onroute.push(t)):_throw("onroute:参数必须是函数")},__onrouted:[],onrouted:function(t,e){"function"==typeof t?(t._jet=e,Jet.router.__onrouted.push(t)):_throw("onroute:参数必须是函数")},back:function(){window.history.back()},forward:function(){window.history.forward()},clearScoped:function(){_JT.cls(_scopeStyle)._JT_remove()},activeRouter:function(t){t=t||_JT.attr(_route+'="'+Jet.router.url+'"'),t._JT_exist()&&(_JT.attr(_route_a)._JT_removeAttr(_route_a),t._JT_attr(_route_a,""),Jet.router.active=t)},route:function(t,e,n){if(t._JT_has("http://")||t._JT_has("https://"))!0===e?Jet.$.open(t):Jet.$.jump(t);else{var r=Jet.router.__isFresh;r&&(Jet.router.__isFresh=!1),_callRouterLife("__onroute",r),null!==Jet.router.__xhr&&(Jet.router.__xhr.abort(),console.warn("忽略了一个路由："+Jet.router.path),Jet.router.__xhr=null);var i=_formatUrl(t),a=i.search;t=i.url;var o=_JT.attr(_route+'="'+t+'"');Jet.router.activeRouter(o),t=_checkUrl(t);var _=!1;t in Jet.router.router||(t=Jet.router.base+"/404",_=!0);var s=Jet.router.router[t];if(void 0!=s){if(s._JT_has("?")){if(""==a)a=s.substring(s.indexOf("?")+1);else{var l=s.substring(s.indexOf("?")+1).split("&"),h=a.split("&");l.forEach(function(t){-1==h.indexOf(t)&&(a+="&"+t)})}s=s.substring(0,s.indexOf("?")),_=!0}""!=a&&(a="?"+a),Jet.router.path=t,Jet.router.url=t.substring(Jet.router.base.length);var c={},u=t,d=t+a+Jet.router.hash;"function"==typeof e&&(n=e,e=void 0),void 0==e&&history.pushState(c,u,d),_&&history.replaceState(c,u,d),Jet.router.params=_JT.urlParam(),Jet.router.lastTrueHash=location.hash,"undefined"!=typeof JUI&&JUI.dialog.removeAll(),Jet.router.clearScoped(),Jet.router.__xhr=_JT.load(Jet.res.getSrc(s,"html"),function(t){Jet.router.__xhr=null;var e=Jet.router.out._JT_html(t);"undefined"!=typeof JUI&&(JUI._jui_mounted=[]),_loadStyle(e),_loadScript(e),_loadCompRes(e),Jet.valid.init(e),Jet.lang.init(e),Jet.router.init(e),"undefined"!=typeof JUI&&JUI.init(e),Jet.load.init(e),n&&n(),_callRouterLife("__onrouted",r)})}}}},window.onhashchange=function(){Jet.router.lastTrueHash!=location.hash&&window.onpopstate()},window.onpopstate=function(t){Jet.router.history?Jet.router.route(location.pathname.substring(Jet.router.base.length)+location.search+location.hash,!1):Jet.router.route(location.hash.substring(1),!1)};var _jetReg=new RegExp("new Jet\\([ |\r\n]*\\)","i"),_jload="Jload",_par="Jpar";Jet.load={__loadStore:{},init:function(t,e){var n,r=this;if(void 0==t||"function"==typeof t?(n=_JT.attr(_jload)._JT_toArray(!1),e=t):n=t._JT_findAttr(_jload)._JT_toArray(!1),0==n.length)return void(e&&e());n._JT_each(function(t,i){var a=t._JT_attr(_jload);t._JT_removeAttr(_jload);var o=Jet.res.getSrc(a,"html");Jet.load.__loadStore[o]?setTimeout(function(){_dealLoadResult(Jet.load.__loadStore[o],t,r,a,i,n,e)},0):_JT.load(o,function(_){Jet.load.__loadStore[o]=_,_dealLoadResult(_,t,r,a,i,n,e)})})}},Jet.res={defFileName:{image:".jpg",media:".mp3",css:".css",js:".js",html:".html"},image:{},html:{},js:{},media:{},css:{},define:function(t){for(var e in t)for(var n in t[e])Jet.res[e][n]=_dealResFile(t[e][n],e)},getSrc:function(t,e){if("@"==t[0]){if("html"==e&&t._JT_has(".html")){var n=t.split(".html");return Jet.res[e][n[0].substring(1)]+n[1]}return Jet.res[e][t.substring(1)]}return _dealResFile(t,e)}};var _form="Jform",_valid="Jvalid";Jet.valid={init:function(t){var e;t=_getJdomEle(t),e=void 0==t?_JT.attr(_valid):t._JT_hasAttr(_valid)?t:t._JT_findAttr(_valid),e._JT_each(function(t){t.__valided||(t._JT_on({blur:"Jet.valid.validInput(this,true,true)",input:function(){Jet.valid.useOnInput&&Jet.valid.validInput(this,!0,!0)},focus:"Jet.valid.addValidValue(this)"},!0).__valided=!0,Jet.valid.__placeholder&&t._JT_attr("placeholder",_getValueText(t._JT_attr(_valid))))})},findValidPar:function(t){for(var e=t._JT_parent();!e._JT_hasAttr(_form)&&null!=e._JT_parent();)e=e._JT_parent();return e},regExp:{null:/^\S{0}$/,date:/^(([12]\d{3}-((0[1-9])|(1[0-2]))-((0[1-9])|([1-2]\d)|3(0|1))))$/,email:/^((\w*@\w*\.[A-Za-z.]+(\.)?[A-Za-z]+))$/,decimal:/^-?[1-9]\d*.\d*|0.\d*[1-9]\d*$/,idcard:/^(\d{17}(X|\d))$/,url:/^((https|http|ftp|rtsp|mms)?:\/\/)[^\s]+$/,phone:/^([1]\d{10})$/},validText:{CN:{nul:"*可以为空",notnull:"*必填",date:"*格式为XXXX-XX-XX",email:"*格式为XXX@XX.XX",number:"*须为纯数字",idcard:"*17位数字加一位数字或X",length:"*输入长度为",url:"*请输入正确的网址",decimal:"*请正确的小数",lengthOfAny:"*输入长度为",phone:"*须为11位纯数字",letterStart:"*字母开头且长度为",range:"*数字不在范围内",express:"*自定义错误"},EN:{nul:"*null is allowed",notnull:"*Required",date:"*format:XXXX-XX-XX",email:"*format:XXX@XX.XX",number:"*expect a number",idcard:"*17 numbers plus a number or X",length:"*length between",url:"*Expect an url name",decimal:"*Expect a float number",lengthOfAny:"*length between",phone:"*must be 11 digits",letterStart:"*letter start and length",range:"*not in range",express:"*wrong express"}},__lang:"CHINESE",__default:!0,__placeholder:!1,__useJUI:!1,__useOnInput:!1,useAlert:!1,validate:_validateForm,addValidText:function(t,e){if("json"==_JT.type(t)&&void 0==e)for(var n in t)Jet.valid.addValidText(n,t[n]);else"CHINESE"==Jet.valid.__lang?Jet.valid.validText.CN[t]=e:Jet.valid.validText.EN[t]=e},addRegExp:function(t,e,n){"string"==typeof e&&(e=new RegExp(e)),Jet.valid.regExp[t]=e,void 0!==n&&Jet.valid.addValidText(t,n)},validInput:_validInput,addValidValue:_addValidValue,clearValid:function(t){t=_getJdomEle(t),t._JT_hasAttr(_valid)?_clearValid(t):t._JT_findAttr(_valid)._JT_each(function(t){_clearValid(t)})},resetValid:function(t){t=_getJdomEle(t),t._JT_hasAttr(_valid)?_resetValid(t):t._JT_findAttr(_valid)._JT_each(function(t){_resetValid(t)})},addValid:function(t,e){t=_getJdomEle(t),t._JT_attr(_valid,e),Jet.valid.init(t)},onOnePass:function(t){_onOnePass=_checkFunction(t)},onOneFail:function(t){_onOneFail=_checkFunction(t)}},Object.defineProperties(Jet.valid,{language:{get:function(){return Jet.valid.__lang},set:function(t){Jet.valid.__lang=t.toUpperCase()}},useJUI:{get:function(){return Jet.valid.__useJUI},set:function(t){"undefined"!=typeof JUI&&(Jet.valid.__useJUI=t)}},useDefaultStyle:{get:function(){return Jet.valid.__default},set:function(t){Jet.valid.__default!==t&&(!0===Jet.valid.__useOnInput&&!0===t?_warn("useOnInput 模式下不可使用默认样式"):(Jet.valid.__default=t,Jet.valid.__lastUseDef=t,!1===t&&_JT.cls("jet-unpass")._JT_each(function(t){_checkIsPw(t),t._JT_removeClass("jet-unpass")._JT_val(t._JT_validValue),t._JT_validValue=void 0})))}},useOnInput:{get:function(){return Jet.valid.__useOnInput},set:function(t){Jet.valid.__useOnInput!==t&&(Jet.valid.__useOnInput=t,!1===t?Jet.valid.__default!==Jet.valid.__lastUseDef&&(Jet.valid.useDefaultStyle=Jet.valid.__lastUseDef):Jet.valid.useDefaultStyle&&(Jet.valid.useDefaultStyle=!1,Jet.valid.__lastUseDef=!0))}},showInPlaceHolder:{get:function(){return Jet.valid.__placeholder},set:function(t){Jet.valid.__placeholder=t,!0===t?_JT.attr(_valid)._JT_each(function(t){t._JT_attr("placeholder",_getValueText(t._JT_attr(_valid)))}):!1===t&&_JT.attr(_valid)._JT_each(function(t){t._JT_removeAttr("placeholder")})}}}),Jet.valid.init();var _onOnePass=null,_onOneFail=null;EleProto._JT_validate=function(t,e){_validateForm({ele:this,pass:t,fail:e})};var _lang="Jlang",_name="Jname",_jl_name="";Jet.lang=function(t){this.type=_lang,this.data=t},Jet.lang.list=[],Jet.lang.used=!1,Jet.lang.use=function(t){"array"!=_JT.type(t)?_throw("Jet.lang.init: 参数是一个数组"):(this.used=!0,this.list=t,_jl_name=t[0]),Jet.lang.init()},Jet.lang.jets=[],Jet.lang.init=function(t){var e;e=void 0==t?_JT.attr(_lang):_getJdomEle(t)._JT_findAttr(_lang),e._JT_each(function(t){void 0===t._jet_langs&&(t._jet_langs={},t._JT_findAttr(_name)._JT_each(function(e){var n=e._JT_attr(_name);t._jet_langs[n]=e._JT_html()}),t._JT_html(t._jet_langs[Jet.lang.type]),Jet.valid.init(t))}),Jet.$.id("__preload_jl")._JT_exist(function(t){t._JT_remove()})},Object.defineProperty(Jet.lang,"type",{configurable:!0,enumerable:!0,get:function(){return _jl_name},set:function(t){t!==_jl_name&&-1!==Jet.lang.list.indexOf(t)&&(_jl_name=t,_refreshLang())}}),window.JL=function(t){return new Jet.lang(t)},Jet.Bind=function(t){Jet.Base.call(this,t,_bind),_initBind.call(this,t)},Jet.Bind.prototype=new Super,Jet.Bind.prototype.refresh=function(t){this._tools._jets._JT_each(function(e){e&&e.refresh(t)}),this._tools._jetTools._JT_each(function(e){e&&e.refresh(t)})},Jet.Bind.prototype.$get=function(){return this.data[this.name]},Jet.Bind.prototype.refreshIndex=function(t,e){this._tools._jets._JT_each(function(t){t.type===_text?t.refreshIndex(e):t.type===_input&&t.setIndex(e)}),this._tools._jetTools._JT_each(function(t){t._hasIndex&&t.refreshIndex(e)})},Jet.For=function(t){Jet.Base.call(this,t,_for),_initFor.call(this,t)},Jet.For.prototype=new Super,Jet.For.prototype.refresh=function(t){},Jet.For.prototype.refreshIndex=function(t){for(var e=t||0;e<this._tools._jets.length;e++)this._tools._jets[e].refreshIndex(null,e);this.$makeChange()},Jet.For.prototype.$get=function(){return this.data[this.name]},Jet.For.prototype.refresh.push=function(){if(this._switch){var t=this._data[this.name]._JT_last()[this._type];t in this._html?this.ele._JT_append(this._html[t]):_throw("swicth:指定属性的值不在swicth枚举内")}else this.ele._JT_append(this._html);var e=this.ele._JT_child()._JT_last(),n=this.data[this.name].length-1,r=_forOpt(this,e,n);"array"==_JT.type(r.data[0])?this._tools._jets.push(new Jet.For(r)):this._tools._jets.push(new Jet.Bind(r)),_initOneForBindTool(this,e,n),_checkForSelectOption.call(this,e),_checkForJUI.call(this),this.$makeChange()},Jet.For.prototype.refresh.prep=function(){if(this._switch){var t=this._data[this.name]._JT_first()[this._type];t in this._html?this.ele._JT_prepend(this._html[t]):_throw("swicth:指定属性的值不在swicth枚举内")}else this.ele._JT_prepend(this._html);var e=this.ele._JT_child(0),n=_forOpt(this,e,0);"array"==_JT.type(n.data[0])?this._tools._jets._JT_prepend(new Jet.For(n)):this._tools._jets._JT_prepend(new Jet.Bind(n)),this.refreshIndex(1),_initOneForBindTool(this,e,0),_checkForSelectOption.call(this,e),_checkForJUI.call(this)},Jet.For.prototype.refresh.insert=function(t){if(this._switch){var e=this._data[this.name][t][this._type];if(!(e in this._html))return void _throw("swicth:指定属性的值不在swicth枚举内");this.ele._JT_append(this._html[e],t)}else this.ele._JT_append(this._html,t);var n=this.ele._JT_child(t),r=_forOpt(this,n,t);"array"==_JT.type(r.data[0])?this._tools._jets._JT_insert(new Jet.For(r),t):this._tools._jets._JT_insert(new Jet.Bind(r),t),this.refreshIndex(t),_initOneForBindTool(this,n,t),_checkForSelectOption.call(this,n),_checkForJUI.call(this)},Jet.For.prototype.refresh.insertArray=function(t,e){var n=this,r=_JT.type(t[0]);t._JT_each(function(t,i){var a=e+i;if(n._switch){var o=n._data[n.name][a][n._type];o in n._html?n.ele._JT_append(n._html[o],a):_throw("swicth:指定属性的值不在swicth枚举内")}else n.ele._JT_append(n._html,a);var _=n.ele._JT_child(a),s=_forOpt(n,_,a);"array"==r?n._tools._jets._JT_insert(new Jet.For(s),a):n._tools._jets._JT_insert(new Jet.Bind(s),a),_initOneForBindTool(n,_,a),_checkForSelectOption.call(n,_)}),this.refreshIndex(e+t.length),_checkForJUI.call(this)},Jet.For.prototype.refresh.remove=function(t,e){for(var n=0;n<e;n++){var r=this.ele._JT_child(t);_checkForSelectOption.call(this,r,!0),r._JT_remove()}this._tools._jets.splice(t,e),this.refreshIndex(t)},Jet.Repeat=function(){},Jet.Text=function(t){Jet.Base.call(this,t,_text),this.isHtml=t.ele._JT_hasAttr(_html),this._parIndex=t._parIndex,t.par=this,_initText.call(this,t)},Jet.Text.prototype=new Super,Jet.Text.prototype.refresh=function(t){if(!t||t==this.name){var e=this.$get();if(!_isUd(e)){var n=this.func?this.func.call(this.jet,e,{data:e,ele:this.ele,jet:this,root:this.jet}):e;this.isHtml?this.ele._JT_html(n):this.ele._JT_txt(n)}}},Jet.Text.prototype.refreshIndex=function(t){this._attrVal._JT_has(_index)&&(this.index=void 0!==t?t:this.par._data.indexOf(this._data),this.refresh())},Jet.Text.prototype.$get=function(){return this._parIndex?__index.call(this,this._parIndex):void 0!=this.index?this.index:this.data[this.name]},Jet.Text.prototype.setIndex=function(t){this.index=t,this.refresh(),this._tools._jetTools._JT_each(function(e){e.name==_index&&e.refresh(t)})},Jet.Text.prototype.setDataIndex=function(t){this.name=t},Jet.Input=function(t){Jet.Base.call(this,t,_input),t.par=this,_initInput.call(this,t)},Jet.Input.prototype=new Super,Jet.Input.prototype.refresh=function(t){if(!t||t==this.name){var e=this.$get();if(!_isUd(e)){var n=this.func?this.func.call(this.jet,e):e;this.isContent?n!==(this.isNum?parseFloat(this.ele.innerHTML):this.ele.innerHTML)&&this.ele._JT_html(n):n!==(this.isNum?parseFloat(this.ele.value):this.ele.value)&&this.ele._JT_val(n)}}},Jet.Input.prototype.$get=function(){return this.data[this.name]},Jet.Input.prototype.setIndex=function(t){"array"===_JT.type(this.data)&&"number"==typeof this.name&&void 0!==t&&(this.name=t)},Jet.If=function(t,e){this.exp=null,this.func_true=null,this.func_false=null,Jet.Base.call(this,t,e?_show:_if),_initIf.call(this);var n=this.ele.__jet;void 0===n||n.type!=_text&&n.type!=_input||(this.needParData=!0)},Jet.If.prototype=new Super,Jet.If.prototype.$get=function(){return this.name==_index?(this.needParData,this.index):this.name==_value||void 0==this.name?this.needParData?this.par.$DOM?this.par:this.par.data[this.par.name]:this.data:this.data[this.name]},Jet.If.prototype.refresh=function(t){void 0!=this.index&&void 0!=t&&this.index!=t&&this.index;var e=this.$get();if(!_isUd(e)){var n={ele:this.ele,data:e,jet:this,root:this.jet};!0===_callFuncForJetTools.call(this,this.exp,e)?this.func_true.call(this.jet,n):this.func_false.call(this.jet,n)}},Jet.If.prototype.refreshIndex=function(t){this._hasIndex&&this.refresh()},Jet.On=function(t){Jet.Base.call(this,t,_on),_initOn.call(this);var e=this.ele.__jet;void 0===e||e.type!=_text&&e.type!=_input?"object"!==_typeof(this.data)&&(this.needParData=!0):this.needParData=!0},Jet.On.prototype=new Super,Jet.On.prototype.$get=function(){return void 0!=this.index?this.index:void 0==this.data?null:void 0==this.name||this.name==_value?this.needParData?this.par.$DOM?this.par:this.par.data[this.par.name]:this.data:this.data[this.name]},Jet.On.prototype.refresh=function(t){void 0!=this.index&&void 0!=t&&this.index!=t&&(this.index=t)},Jet.Run=function(t){Jet.Base.call(this,t,_run),_initRun.call(this,t)},Jet.Run.prototype=new Super,Jet.Run.prototype.$get=function(){return void 0!=this.index?this.index:void 0==this.data?null:void 0==this.name?this.data:this.data[this.name]},Jet.Run.prototype.refresh=function(t){void 0!=this.index&&void 0!=t&&this.index!=t&&this.index,this.run()},Jet.Run.prototype.run=function(){var t=this,e={ele:t.ele,data:t.$get(),jet:t};this.runs._JT_each(function(n){n in t.jet&&"function"==typeof t.jet[n]?t.jet[n].call(t.jet,e):new Function("opt",n).call(t.jet,e)})},Jet.Attr=function(t,e){Jet.Base.call(this,t,e?_style:_attr),this.isStyle=e,this.setFunc=this.isStyle?this.ele._JT_css:this.ele._JT_attr,_initAttr.call(this,t),"undefined"==typeof __jet||__jet.type!=_text&&__jet.type!=_input||(this.needParData=!0)},Jet.Attr.prototype=new Super,Jet.Attr.prototype.$get=function(){return void 0!=this.index?this.index:void 0==this.data?null:void 0==this.name||this.name==_value?(this.needParData&&(this.data=this.par.data[this.par.name]),this.data):this.data[this.name]},Jet.Attr.prototype.refresh=function(t){var e=this.$get();if(!_isUd(e))for(var n in this.attrs)t&&1!=this.attrs[n]._hasIndex||this.setFunc.call(this.ele,n,_callFuncForJetTools.call(this,this.attrs[n],e))},Jet.Attr.prototype.refreshIndex=function(t){this._hasIndex&&this.refresh(!0)},Jet.Style=Jet.Attr,Jet.Show=Jet.If;var _currentModule="",_export="",_modules=_createEmpty(),_m_call=_createEmpty(),_addIntoModCall=function(t,e){void 0===_m_call[t]&&(_m_call[t]=[]),_m_call[t].push(e)},_exeModCall=function(t,e){if(void 0!==_m_call[t]&&_m_call[t].length>0){var n=_m_call[t].length,r=0;_m_call[t].forEach(function(i){i(e),++r==n&&(_m_call[t]=[])})}};Jet.$module=_createEmpty();var _check_is_new=!1,_export_is_new=!1;Jet.$define=function(t,e,n){if(_check_is_new||void 0===Jet.$module[t]){_currentModule=t,_export=t;var r=_check_is_new;3===arguments.length?(e[e.length]=function(e){_export=t,_export_is_new=r,n.call(Jet,e)},Jet.$import.apply(Jet,e)):(_export=t,_export_is_new=r,e.call(Jet))}},Jet.$export=function(t,e){2==arguments.length?(0==_export_is_new&&(Jet.$module[_export]=e),_exeModCall(_export,e),t(e)):(0==_export_is_new&&(Jet.$module[_export]=t),e=t),void 0!==e.$init&&(e.$init(),delete e.$init)},Jet.$get=function(t){if(1==arguments.length)return Jet.$module[t];for(var e={},n=0;n<arguments.length;n++){var r=_getKeyAndMod(arguments[n]);e[r.key]=Jet.$module[r.mod]}return e},Jet.prototype.$get=function(t){return Jet.$get(t)},Jet.$import=function(){var t=arguments.length,e=0,n=null,r=_createEmpty();"function"==typeof arguments[t-1]&&(n=arguments[t-1],t--);for(var i=0;i<t;i++){var a=arguments[i],o=_checkIsNewMod(a);!1!==o&&(a=o);var _=_getKeyAndMod(a),s=_.mod;if(void 0!==_modules[s]&&!1===o){if(null!==n){var l=function(i){var o=Jet.$get(i),s=function(o){e++,r[a._JT_has(" as ")?_.key:i]=o,e===t&&n(r)};void 0!==o?s(o):_addIntoModCall(i,s)};"__loading"===_modules[s]?_modules[s]=l:l(_modules[s])}}else _modules[s]="__loading",_loadOneModule(s,_.key,o,function(i,o){null!==n&&(e++,r[a._JT_has(" as ")?o:_export]=i,e===t&&n(r))})}},Jet.prototype.$import=function(t){var e=this;if("function"==typeof arguments[arguments.length-1]){var n=arguments[arguments.length-1];arguments[arguments.length-1]=function(t){n(t),_addModule(e,t)}}else arguments[arguments.length]=function(t){_addModule(e,t)},arguments.length++;Jet.$import.apply(null,arguments)};var _addModule=function(t,e){if(void 0===t.$module)t.$module=e;else for(var n in e)t.$module[n]=e[n]}}();