(function(){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function t(t){var e={type:t.type||"GET",url:t.url||"",async:t.async||"true",data:t.data||null,dataType:t.dataType||"text",contentType:t.contentType||"application/x-www-form-urlencoded",beforeSend:t.beforeSend||function(){},success:t.success||function(){},error:t.error||function(){}};e.beforeSend();var n;window.ActiveXObject?n=ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest&&(n=new XMLHttpRequest),n.open(e.type,e.url,e.async),n.responseType=e.dataType,n.setRequestHeader("Content-Type",e.contentType),n.send(i(e.data)),n.onreadystatechange=function(){4==n.readyState&&(200==n.status?e.success(n.response):e.error())}}function e(t,e,n){vt.ajax({url:t,async:!0,success:function(t){e(t)},error:function(t){void 0!=n&&n(t),E("加载失败")}})}function n(t){return document.createElement(t)}function i(t){if(void 0==t)return"";if("json"==vt.type(t)){var e="";for(var n in t)e+=n+"="+t[n]+"&";return e=e.substring(0,e.length-1)}return t}function r(t){if(void 0==t)return function(){};var e=vt.type(t);return"function"==e?t:"string"==e?new Function(t):function(){}}function s(t){return null==t||void 0==t?[]:1==t.length?t[0]:t}function o(t,e,n){if(n._JT_has("-=")||n._JT_has("+=")){var i=_(n.substring(n.indexOf("=")+1));n._JT_has("-=")&&(i[0]=-i[0]);var r;return r=_(n._JT_has("%")?t.style[e]:getComputedStyle(t)[e]),i[0]+r[0]+i[1]}return n}function _(t,e){if(""!=t&&void 0!=t||(t="0%"),void 0==e)if(t._JT_has("px"))e="px";else if(t._JT_has("%"))e="%";else{if(!t._JT_has("em"))return[parseFloat(t),"px"];e="em"}return[parseFloat(t.substring(0,t.indexOf(e))),e]}function l(t,e){return void 0==t?e:t}function h(t){if("string"==vt.type(t)){var e=vt.ct("div")._JT_html(t);return 1==e._JT_child().length?e._JT_child(0):e._JT_child()._JT_toArray()}return t}function u(t,e,n){document.addEventListener?t.addEventListener(e.substring(2),r(n),!1):document.attachEvent&&t.attachEvent(e,r(n))}function c(t,e,n){var i=vt.type(t);if("json"==i||"object"==i){var r=0;for(var s in t)"function"!=vt.type(t[s])&&e(t[s],s,r,t),r++}else"number"==i||"boolean"==i||"string"==i||"function"==i?e(t,0,n):t._JT_each(e,n);return t}function p(t){if(0!=arguments.length){var e=void 0===t?"undefined":_typeof(t);if("object"==e){if(null===t)return"null";var n=t.constructor;switch(n){case Object:e="json";break;case Array:e="array";break;case HTMLCollection:e="htmlcollection";break;case NodeList:e="nodelist";break;case FormData:e="formdata";break;case Error:e="error";break;case Date:e="date";break;default:e=n.name._JT_has("HTML")?"htmlelement":"object"}}return e}E("This function need a argument")}function f(){var t="";if(""!=location.search?t=location.search.substring(1):location.hash._JT_has("?")&&(t=location.hash.substring(location.hash.indexOf("?")+1)),""==t)return null;for(var e=decodeURI(t).split("&"),n={},i=0;i<e.length;i++){var r=e[i].split("=");n[r[0]]=r[1]}return n}function J(t,e,n){n._func||(n._func=[]);for(var i in e)v(t,i,e,n)}function d(t,e,n){T(t,e,n)}function T(t,e,n,i){n._func||(n._func=[]);for(var r=i||0;r<e.length;r++)v(t,r,e,n)}function v(t,e,n,i){var r=vt.type(n[e]);if("json"==r){var s={};i[e]||(i[e]={}),y(t,n,e,s,i[e]),J(s,n[e],i[e])}else if("array"==r){var s=[];i[e]||(i[e]=[]),y(t,n,e,s,i[e]),d(s,n[e],i[e])}else i[e]&&i[e]._func||(i[e]={_func:[]}),g(t,n,e,i[e])}function y(t,e,n,i,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){return i},set:function(t){e[n]=t,x(i,t,r),r._func._JT_each(function(e){e(n,t)})}})}function m(t,e,n){var i=null!=t&&"object"==(void 0===t?"undefined":_typeof(t))&&e in t;return 2==arguments.length?i:i&&t[e]===n}function g(t,e,n,i){Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){e[n];return m(e[n],"type",Ft)?e[n].data[Jet.lang.type]:e[n]},set:function(t){m(e[n],"type",Ft)?e[n].data[Jet.lang.type]=t:e[n]=t,i._func._JT_each(function(e){e(n,t)})}})}function x(t,e,n){"json"==w(t,e)?b(t,e,n):j(t,e,n)}function b(t,e,n){for(var i in e)A(t,e,i,n)}function j(t,e,n){for(var i=0;i<e.length;i++)A(t,e,i,n)}function A(t,e,n,i){if(t[n]){var r=vt.type(t[n]);"json"==r?b(t[n],e[n],i[n]):"array"==r?j(t[n],e[n],i[n]):t[n]=e[n]}else v(t,n,e,i)}function w(t,e){var n=vt.type(t);return n!=vt.type(e)&&E("不允许前后设置的值类型不一致"),n}function E(t){throw new Error(t)}function L(t){var e,n=this;e=t.ele?t.ele._JT_findAttr(Ct):vt.attr(Ct),e._JT_each(function(t){n.$dom[t._JT_attr(Ct)]=new Jet.DOM({ele:t,jet:n})})}function O(t,e){"string"==typeof t.ele&&(t.ele=vt.id(t.ele)),t.beforeinit&&t.beforeinit.call(this),L.call(this,t);var n,i,r,s,a,o,_,l=this;t.ele?(n=t.ele._JT_findAttr(yt),i=t.ele._JT_findAttr(gt),r=t.ele._JT_findAttr(wt),s=t.ele._JT_findAttr(xt),a=t.ele._JT_findAttr(bt),o=t.ele._JT_findAttr(jt),_=t.ele._JT_findAttr(At)):(n=vt.attr(yt),i=vt.attr(gt),r=vt.attr(wt),s=vt.attr(xt),a=vt.attr(bt),o=vt.attr(jt),_=vt.attr(At));var h=[],u=document.createDocumentFragment();if(n._JT_each(function(t,e){h.push({par:t._JT_parent(),index:t._JT_index(),item:t})}),n._JT_each(function(n,i){if(!n._hasBind){u.appendChild(n);var r=n._JT_attr(yt);if(void 0==t.data||""==r){var s=C(l,n,r,{_func:[]});n.__isRoot=!0,l._tools._jets.push(new Jet.Bind(s))}else if(r in t.data){var a,o=vt.type(t.data[r]),s=C(l,n,r,e[r]);switch(o){case"json":a=new Jet.Bind(s);break;case"array":a=new Jet.For(s);break;default:a=H(n)?new Jet.Input(s):new Jet.Text(s)}n.__isRoot=!0,l._tools._jets.push(a)}else n.__isRoot=!0}}),i._JT_each(function(t){t._hasIf||l._tools._jetTools.push(new Jet.If(C(l,t)))}),r._JT_each(function(t){t._hasShow||l._tools._jetTools.push(new Jet.Show(C(l,t),!0))}),s._JT_each(function(t){t._hasOn||l._tools._jetTools.push(new Jet.On(C(l,t)))}),a._JT_each(function(t){t._hasRun||l._tools._jetTools.push(new Jet.Run(C(l,t)))}),o._JT_each(function(t){t._hasAttr||l._tools._jetTools.push(new Jet.Attr(C(l,t)))}),_._JT_each(function(t){t._hasStyle||l._tools._jetTools.push(new Jet.Style(C(l,t),!0))}),t.beforemount&&t.beforemount.call(this),h._JT_each(function(t){1==t.item.__isRoot&&1!=t.item._hasRemove&&(t.par._JT_append(t.item,t.index),Jet.valid.init(t.item))}),Jet.$.id("__preload_j")._JT_remove(),t.ondatachange){this.ondatachange=t.ondatachange;for(var c in t.ondatachange)Jet.Base.prototype.regist.call(this,"."+c,function(e,n){t.ondatachange[c].call(l,n,e)})}t.onready&&Nt.ready(t.onready,this),t.onload&&Nt.load(t.onload,this),t.onmounted&&t.onmounted.call(this),t.onroute&&Jet.router.onroute(t.onroute,this),t.onrouted&&Jet.router.onrouted(t.onrouted,this),"undefined"!=typeof JUI&&JUI.useBind(this)}function C(t,e,n,i){return{jet:t,par:t,ele:e,data:t,_data:t._tools._data,name:n,calls:i||t._tools._calls}}function H(t){var e=t.tagName;return"INPUT"==e||"TEXTAREA"==e||"SELECT"==e||t._JT_hasAttr("contenteditable")&&"false"!=t.attr("contenteditable")}function M(t,e){var n=e.match(Mt);if(null==n)return t[e]?t[e]:null;var i=t;return n.forEach(function(n){var r=n.substring(1,n.length-1),s=e.substring(0,e.indexOf("["));if(!t[s][r])return null;i=t[s][r]}),i}function N(t){var e=this._tools._jetTools;this.ele._JT_hasAttr(xt)&&(this.ele._hasOn||e.push(new Jet.On(t))),this.ele._JT_hasAttr(bt)&&(this.ele._hasRun||e.push(new Jet.Run(t)))}function I(t){if("history"in t&&(Jet.router.history=t.history),"base"in t){if(Jet.router.base=t.history?t.base:t.base+"/#","trueBase"in t&&t.trueBase)for(var e in Jet.router.conf)Jet.router.conf[e]=t.base+Jet.router.conf[e]}else Jet.router.base=t.history?"":"/#";t.router["/404"]||(t.router["/404"]="/404");for(var e in t.router)S(e,t.router[e])}function S(t,e){if("string"!=typeof e){var n="";if("params"in e){n="?";for(var i in e.params)n+=i+"="+e.params[i]+"&";n=n.substring(0,n.length-1)}$(t,e.name,n);var r=e.children;for(var i in r)S(t+i,r[i])}else $(t,e)}function $(t,e,n){e._JT_has(".html")||(e._JT_has("?")?e=e.replace("?",".html?"):e+=".html"),void 0!=n&&(e+=n),Jet.router.router[Jet.router.base+t]=e}function B(t){return"/"==t[t.length-1]&&"/"!=t&&(t=t.substring(0,t.length-1)),t=t==Jet.router.base?Jet.router.base+Jet.router.index:"/"!=t[0]?Jet.router.path+"/"+t:Jet.router.base+t}function k(t){vt.id(St)._JT_exist()&&vt.id(St)._JT_remove();for(var e=vt.ct("script")._JT_attr({id:St,type:"text/javascript"}),n=["//# sourceURL=__dynamic.js\r\n"],i=t._JT_findTag("script"),r=-1,s=i.length-1;s>=0;s--)if(i[s]._JT_hasAttr("src")){r=s;break}i._JT_each(function(t,i){t._JT_hasAttr("src")?vt.load(Jet.router.conf.js+t._JT_attr("src"),function(t){n[i+1]=t,i==r&&(e._JT_html(n.join("")),vt.body()._JT_append(e))}):n[i+1]=t._JT_html(),t._JT_remove()}),-1==r&&(e._JT_html(n.join("")),vt.body()._JT_append(e))}function R(t){var e=vt.id($t);e._JT_exist()||(e=vt.ct("style")._JT_attr({id:$t,type:"text/css"}),vt.tag("head")._JT_append(e)),e._JT_empty();for(var n=[],i=t._JT_findTag("style"),r=-1,s=i.length-1;s>=0;s--)if(i[s]._JT_hasAttr("src")){r=s;break}i._JT_each(function(t,i){t._JT_hasAttr("src")?vt.load(Jet.router.conf.css+t._JT_attr("src"),function(t){n[i]=t,i==r&&e._JT_html(n.join(""))}):n[i]=t._JT_html(),t._JT_remove()}),-1==r&&e._JT_html(n.join(""))}function X(t,e){var n=vt.attr('load-script="'+e+'"');if(n._JT_exist()){var i=n._JT_html();n._JT_remove(),vt.body()._JT_append(vt.ct("script")._JT_attr({"load-script":e,type:"text/javascript"})._JT_html(i))}else{n=vt.ct("script")._JT_attr({"load-script":e,type:"text/javascript"});for(var i=["//# sourceURL="+e+".js\r\n"],r=t._JT_findTag("script"),s=-1,a=r.length-1;a>=0;a--)if(r[a]._JT_hasAttr("src")){s=a;break}r._JT_each(function(t,e){t._JT_hasAttr("src")?vt.load(Jet.router.conf.js+t._JT_attr("src"),function(t){i[e+1]=t,e==s&&(n._JT_html(i.join(";")),vt.body()._JT_append(n))}):i[e+1]=t._JT_html(),t._JT_remove()}),-1==s&&(n._JT_html(i.join(";")),vt.body()._JT_append(n))}}function F(t,e){if(!vt.attr('load-style="'+e+'"')._JT_exist()){var n=vt.ct("style")._JT_attr({"load-style":e,type:"text/css"});vt.tag("head")._JT_append(n),n._JT_empty();for(var i=[],r=t._JT_findTag("style"),s=-1,a=r.length-1;a>=0;a--)if(r[a]._JT_hasAttr("src")){s=a;break}r._JT_each(function(t,e){t._JT_hasAttr("src")?vt.load(Jet.router.conf.css+t._JT_attr("src"),function(t){i[e]=t,e==s&&n._JT_html(i.join(""))}):i[e]=t._JT_html(),t._JT_remove()}),-1==s&&n._JT_html(i.join(""))}}function P(t){return void 0===t?t:("string"==typeof t?t=vt.attr(Ct+"="+t):"htmlelement"!=vt.type(t)&&(t=t.ele),t)}function V(t){!0===t._JT_ispw&&t._JT_attr("type","password")}function U(t,e,n){t=P(t);var i=t._JT_attr(kt),r="";if(null!=i){if(-1!=i.indexOf("lengthOfAny")){var s=i.substring(12,i.length-1).split(",");void 0===s[1]&&(s[1]=s[0]);var a=t._JT_content();r=a.length>=parseInt(s[0])&&a.length<=parseInt(s[1])?"true":G("lengthOfAny",s)}else r=Q(i,t._JT_content());"true"==r?(Jet.valid.__default&&(t._JT_removeClass("jet-unpass"),t._JT_validValue=void 0,V(t)),void 0!=Rt&&Rt(t)):(void 0!=Xt&&Xt(t,r),Jet.valid.__default&&(!0===n&&(t._JT_validValue=t._JT_content()),t._JT_content(r)._JT_addClass("jet-unpass"),"password"==t._JT_attr("type")&&(t._JT_ispw=!0,t._JT_attr("type","text"))),Jet.valid.useAlert&&!1!==e&&alert(r))}return r}function D(t){return t._JT_hasClass("jet-unpass")?(void 0!=Xt&&Xt(t,t._JT_val()),t._JT_val()):U(t,!1)}function q(t){t._JT_hasClass("jet-unpass")&&(t._JT_content(t._JT_validValue),V(t))}function z(t){"string"==typeof t&&(t={ele:t});var e=t.ele;"string"==typeof e&&(e=vt.attr(Bt+"="+e),e._JT_exist()||(e=P(t.ele)));var n=[],i=!0;void 0==t.fail&&(i=!1);var s=!0;if(e._JT_findAttr(kt)._JT_each(function(t){var e=D(t);"true"!=e&&(s=!1,i&&(n[n.length]={obj:t,error:e}))}),s)void 0!=t.pass&&r(t.pass)(e);else{i&&r(t.fail)(n,e);var a="CHINESE"==Jet.valid.__lang?"输入有误，请按提示改正。":"Values is not expected";Jet.valid.useAlert&&alert(a)}}function Z(t){var e=0;if(-1!=t.indexOf("range")?e=6:-1!=t.indexOf("letterStart")?e=12:-1!=t.indexOf("length")?e=7:t._JT_has("number")&&"number"!=t&&(e=7),0!=e){var n=t.substring(e,t.length-1).split(",");return void 0===n[1]&&(n[1]=n[0]),G(t.substring(0,e-1),n)}return G(t)}function G(t,e){if("CHINESE"==Jet.valid.__lang){if(void 0==e)return t._JT_has("express")?Jet.valid.validText.CN.express:Jet.valid.validText.CN[t];var n="";return t._JT_has("number")&&(n=" 且长度为"),e[0]==e[1]?Jet.valid.validText.CN[t]+n+e[0]:Jet.valid.validText.CN[t]+n+"["+e[0]+","+e[1]+"]"}if(void 0==e)return t._JT_has("express")?Jet.valid.validText.EN.express:Jet.valid.validText.EN[t];var n="";return t._JT_has("number")&&(n=" and length between"),e[0]==e[1]?Jet.valid.validText.EN[t]+n+e[0]:Jet.valid.validText.EN[t]+n+"["+e[0]+","+e[1]+"]"}function K(t){var e=-1,n=-1;if(-1!=t.indexOf("length")){var i=t.substring(7,t.length-1).split(",");t="length",e=i[0],void 0==i[1]&&(i[1]=i[0]),n=i[1]}else if(-1!=t.indexOf("letterStart")){var i=t.substring(12,t.length-1).split(",");t="letterStart",e=i[0],void 0==i[1]&&(i[1]=i[0]),n=i[1]}else if(t._JT_has("number")&&"number"!=t){var i=t.substring(7,t.length-1).split(",");t="number",e=i[0],void 0==i[1]&&(i[1]=i[0]),n=i[1]}else t._JT_has("express")&&(e=t.substring(8,t.length-1),t="express");if(t in Jet.valid.regExp)return Jet.valid.regExp[t];switch(t){case"number":return e>=0?new RegExp("^-?(\\d{"+e+","+n+"})$"):/^-?(\d+)$/;case"letterStart":return new RegExp("^([a-zA-Z]([a-zA-Z\\d]){"+(parseInt(e)-1)+","+(parseInt(n)-1)+"})$");case"length":return new RegExp("^(([a-zA-Z\\d]){"+e+","+n+"})$");case"express":return new RegExp(e);default:return"null"}}function Q(t,e){if(-1!=t.indexOf("notnull")){if(0==e.length)return Z("notnull")}else if(-1!=t.indexOf("null")){var n=t.split(" "),i="null"==n[0]?n[1]:n[0];if(-1!=i.indexOf("range")){var r=W(t,e);if("true"!=r&&""!=e)return r}if(!K(i).test(e)&&""!=e)return Z(i)}else if(-1!=t.indexOf("range")){var r=W(t,e);if("true"!=r)return r}else if(!K(t).test(e))return Z(t);return"true"}function W(t,e){var n=t.substring(6,t.length-1).split(",");return t="number",K(t).test(e)?parseInt(e)<parseInt(n[0])||parseInt(e)>parseInt(n[1])?G("range",n):"true":G("number")}function Y(){Jet.lang.used&&(vt.attr(Ft)._JT_each(function(t){t._JT_html(t._jet_langs[Jet.lang.type]),Jet.valid.init(t)}),Jet.lang.jets._JT_each(function(t){t.refresh()}))}function tt(t){"json"==vt.type(t._data)&&t.name in t._data&&m(t._data[t.name],"type",Ft)&&Jet.lang.jets.push(this)}function et(t){var e=this,n=(t.data[t.name],this.ele._JT_findAttr(yt)),i=this.ele._JT_findAttr(gt),r=this.ele._JT_findAttr(wt),s=this.ele._JT_findAttr(xt),a=this.ele._JT_findAttr(bt),o=this.ele._JT_findAttr(jt),_=this.ele._JT_findAttr(At);n._JT_each(function(t,n){if(!t._hasBind){var i,r=t._JT_attr(yt);if(r==Lt){var s=nt(e,t,e.name,e.par._tools._calls[e.name]);s.data=e.data,s._data=e._data,i=H(t)?new Jet.Input(s):new Jet.Text(s)}else if(r==Ot||r._JT_has("$.$p")){var s=nt(e,t,r,e.par._tools._calls);s.index=e.name,H(t)?E("input:不允许将index绑定到输入项中"):(r._JT_has("$.$p")&&(r._JT_has("(")?s._parIndex=parseInt(r.substring(r.indexOf("(")+1,r.indexOf(")"))):s._parIndex=r.split("$p").length-1),i=new Jet.Text(s))}else{var s;if(s=t._JT_hasAttr(Et)?it(e.jet,t,r):nt(e,t,r,e._tools._calls[r]),r in s._data){var a=vt.type(s._data[r]);switch(a){case"json":i=new Jet.Bind(s);break;case"array":i=new Jet.For(s);break;default:i=H(t)?new Jet.Input(s):new Jet.Text(s)}}}e._tools._jets.push(i)}}),i._JT_each(function(t){t._hasIf||(t._JT_hasAttr(Et)?e._tools._jetTools.push(new Jet.If(it(e.jet,t))):e._tools._jetTools.push(new Jet.If(nt(e,t))))}),r._JT_each(function(t){t._hasShow||(t._JT_hasAttr(Et)?e._tools._jetTools.push(new Jet.Show(it(e.jet,t),!0)):e._tools._jetTools.push(new Jet.Show(nt(e,t),!0)))}),s._JT_each(function(t){t._hasOn||(t._JT_hasAttr(Et)?e._tools._jetTools.push(new Jet.On(it(e.jet,t))):e._tools._jetTools.push(new Jet.On(nt(e,t))))}),a._JT_each(function(t){t._hasRun||(t._JT_hasAttr(Et)?e._tools._jetTools.push(new Jet.Run(it(e.jet,t))):e._tools._jetTools.push(new Jet.Run(nt(e,t))))}),o._JT_each(function(t){t._hasAttr||(t._JT_hasAttr(Et)?e._tools._jetTools.push(new Jet.Attr(it(e.jet,t))):e._tools._jetTools.push(new Jet.Attr(nt(e,t))))}),_._JT_each(function(t){t._hasStyle||(t._JT_hasAttr(Et)?e._tools._jetTools.push(new Jet.Style(it(e.jet,t),!0)):e._tools._jetTools.push(new Jet.Style(nt(e,t),!0)))}),N.call(this,t),this.regist(function(t,n){e.refresh()})}function nt(t,e,n,i){return{jet:t.jet,par:t,ele:e,data:t.data[t.name],_data:void 0==t._data?null:t._data[t.name],name:n,calls:i||t._tools._calls}}function it(t,e,n){return{jet:t,par:t,ele:e,data:t,_data:t._tools._data,name:n,calls:t._tools._calls}}function rt(t){for(var e=t;e<this._tools._jets.length;e++)this._tools._jets[e]._tools._jets._JT_each(function(t){t.name==Ot?t.setIndex(e):t.type==mt&&t.refreshParIndex()})}function st(t){if(this.ele._JT_child(0)._JT_hasAttr(yt)&&this.ele._JT_child(0)._JT_attr(yt)._JT_has("=")){this._switch=!0,this._html={},this._type=null;var e=this,n={};this.ele._JT_child()._JT_each(function(t){var i=t._JT_attr(yt);null==e._type&&(e._type=i.substring(i.indexOf(".")+1,i.indexOf("="))),i._JT_has("=")||E("swicth:html格式有误"),i=i.substring(i.indexOf("=")+1),e._html[i]=t._JT_allHtml(),n[i]=vt.ct("div")._JT_append(t)});for(var i=0;i<this.data[this.name].length;i++){var r=this.data[this.name][i][this._type];r in this._html?r in n?(this.ele._JT_append(n[r]._JT_child(0)),delete n[r]):this.ele._JT_append(this._html[r]):E("swicth:指定属性的值不在swicth枚举内")}}else if(this.ele._JT_findAttr(yt+'="'+c+'"')._JT_exist())if(1!=this.ele._JT_child().length||this.ele._JT_child(0)._JT_attr(yt)!=c)E("循环元素绑定格式错误！");else{var s=this.ele._JT_html();this._html=s;for(var i=0;i<this.data[this.name].length-1;i++)this.ele._JT_append(s)}else{var s=this.ele._JT_html(),a="div";this.ele._JT_hasAttr("jfor-inline")&&(a="span",this.ele._JT_removeAttr("jfor-inline")),this._html="<"+a+" "+yt+'="'+c+'">'+s+"</"+a+">";for(var i=0;i<this.data[this.name].length;i++){var o=vt.ct(a)._JT_attr(yt,c);0==i?this.ele.childNodes._JT_each(function(t){o._JT_append(t)}):o._JT_html(s),this.ele._JT_append(o)}}0==this.data[this.name].length&&(this.ele._JT_findAttr(yt)._JT_each(function(t){t._hasRemove=!0}),this.ele._JT_empty())}function at(t){var e=this;this.data[this.name]._jet=this,st.call(this),this.ele._JT_child()._JT_each(function(t,n){if(!t._hasBind){var i,r=ot(e,t,n);i="array"==vt.type(r.data[0])?new Jet.For(r):new Jet.Bind(r),e._tools._jets.push(i)}}),N.call(this,t),this.regist(function(t,n){e.refresh()})}function ot(t,e,n){return{jet:t.jet,par:t,ele:e,data:t.data[t.name],_data:t._data[t.name],name:n,calls:t._tools._calls[n]}}function _t(t,e){for(var n=t.par;e>0;)n=n.par,"array"!=p(n._data)&&(n=n.par),e--;return n.ele._JT_index()}function lt(t){tt.call(this,t);var e=this;""!=this.ele._JT_html().trim()&&(this.func=new Function("$","return "+this.ele._JT_html())),N.call(this,t),this.regist(function(t,n){e.refresh()}),this.refresh()}function ht(t){tt.call(this,t);var e=this;this.ele._JT_hasAttr("contenteditable")?(this.isContent=!0,""!=this.ele._JT_html().trim()&&(this.func=new Function("$","return "+this.ele._JT_html()))):"SELECT"!=this.ele.tagName&&""!=this.ele._JT_val().trim()&&(this.func=new Function("$","return "+this.ele._JT_val())),this.ele._attrVal==Ot&&E("输入框不能绑定数组的索引"),this.regist(function(t,n){e.refresh()}),this.isNum="number"==vt.type(this.get()),"SELECT"==this.ele.tagName||"INPUT"==this.ele.tagName&&"text"!=this.ele._JT_attr("type").toLowerCase()?this.ele._JT_on("change",function(){ut.call(this,e)},!0):(this.inputLock=!1,this.ele.addEventListener("compositionstart",function(){e.inputLock=!0}),this.ele.addEventListener("compositionend",function(){e.inputLock=!1,ut.call(e.ele,e)}),this.ele._JT_on("input",function(){e.inputLock||ut.call(this,e)},!0)),N.call(this,t),this.refresh()}function ut(t){var e=t.isContent?this._JT_html():this._JT_val();if(t.isNum){var n=parseFloat(e);e==n.toString()&&(e=n)}t.data[t.name]=e}function ct(t,e){var n=e.match(Ht);if(null==n)e in t._data||e.has("$."),t.regist(e,function(e,n){t.refresh()});else{var i=[];n.forEach(function(e){-1==i.indexOf(e)&&(i.push(e),"{{$}}"==e?t.regist(function(e,n){t.refresh()}):t.regist(e.substring(2,e.length-2),function(e,n){t.refresh()}))})}}function pt(){var t=this,e=this._attrVal;if(this.type==wt)ct(this,e),this.func_true=function(){t.ele.style.display=""},this.func_false=function(){t.ele.style.display="none"},e=e in this._data?"d."+e:e._JT_replaceAll("\\$","d").replaceAll("{{","").replaceAll("}}",""),this.exp=new Function("d","return ("+e+")");else{var n=e.substring(0,e.indexOf(":"));ct(this,n),n=n in this._data?"d."+n:n._JT_replaceAll("\\$","d").replaceAll("{{","").replaceAll("}}",""),this.exp=new Function("d","return ("+n+")"),e=e.substring(e.indexOf(":")+1);var i="",r="";e.split(";")._JT_each(function(e){if(e._JT_has("class[")){var n=e.substring(e.indexOf("[")+1,e.length-1);if(n._JT_has("|")){var s=n.split("|")[0].split(",").join(" "),a=n.split("|")[1].split(",").join(" ");i+="opt.ele._JT_removeClass('"+a+"')._JT_addClass('"+s+"');",r+="opt.ele._JT_removeClass('"+s+"')._JT_addClass('"+a+"');"}else n=n.split(",").join(" "),i+="opt.ele._JT_addClass('"+n+"');",r+="opt.ele._JT_removeClass('"+n+"');"}else if(e._JT_has("attr[")){var o=e.substring(e.indexOf("[")+1,e.length-1);if(o._JT_has("|")){var _=o.split("|")[0].split(","),l=[];_._JT_each(function(t){l.push(t.split("=")[0])});var h=o.split("|")[1].split(","),u=[];h._JT_each(function(t){u.push(t.split("=")[0])}),_._JT_each(function(t){var e=t.split("=");1==e.length&&(e[1]=""),i+="opt.ele._JT_attr('"+e[0]+"','"+e[1]+"');",-1==u.indexOf(e[0])&&(r+="opt.ele._JT_removeAttr('"+e[0]+"');")}),h._JT_each(function(t){var e=t.split("=");1==e.length&&(e[1]=""),r+="opt.ele._JT_attr('"+e[0]+"','"+e[1]+"');",-1==l.indexOf(e[0])&&(i+="opt.ele._JT_removeAttr('"+e[0]+"');")})}else o.split(",")._JT_each(function(t){var e=t.split("=");1==e.length&&(e[1]=""),i+="opt.ele._JT_attr('"+e[0]+"','"+e[1]+"');",r+="opt.ele._JT_removeAttr('"+e[0]+"');"})}else if(e._JT_has("text[")){var c=e.substring(e.indexOf("[")+1,e.length-1);c._JT_has("|")?(i+="opt.ele._JT_txt('"+c.split("|")[0]+"');",r+="opt.ele._JT_txt('"+c.split("|")[1]+"');"):(i+="opt.ele._JT_txt('"+c+"');",r+="opt.ele._JT_txt('');")}else if(e._JT_has("html[")){var p=e.substring(e.indexOf("[")+1,e.length-1);p._JT_has("|")?(i+="opt.ele._JT_html('"+p.split("|")[0]+"');",r+="opt.ele._JT_html('"+p.split("|")[1]+"');"):(i+="opt.ele._JT_html('"+p+"');",r+="opt.ele._JT_html('');")}else if(e._JT_has("css[")){var o=e.substring(e.indexOf("[")+1,e.length-1);o._JT_has("|")?(i+="opt.ele._JT_removeAttr('style');",o.split("|")[0].split(",")._JT_each(function(t){var e=t.split("=");1==e.length&&(e[1]=""),i+="opt.ele._JT_css('"+e[0]+"','"+e[1]+"');"}),r+="opt.ele._JT_removeAttr('style');",o.split("|")[1].split(",")._JT_each(function(t){var e=t.split("=");1==e.length&&(e[1]=""),r+="opt.ele._JT_css('"+e[0]+"','"+e[1]+"');"})):(i+="opt.ele._JT_removeAttr('style');",o.split(",")._JT_each(function(t){var e=t.split("=");1==e.length&&(e[1]=""),i+="opt.ele._JT_css('"+e[0]+"','"+e[1]+"');"}),r+="opt.ele._JT_removeAttr('style');")}else e._JT_has("|")?(e=e.split("|"),e[0]in t.jet?i+="this."+e[0]+".call(this,opt);":i+=e[0],e[1]in t.jet?r+="this."+e[1]+".call(this,opt);":r+=e[1]):e in t.jet?i+="this."+e+".call(this,opt);":i+=e}),this.func_true=new Function("opt",i),this.func_false=new Function("opt",r)}this.refresh()}function ft(){var t=this;this._attrVal.split(";;")._JT_each(function(e){e._JT_has(":")||(e="click:"+e);var n,i=e.substring(0,e.indexOf(":")),r=e.substring(e.indexOf(":")+1),s="",a=null,o=[],_=!1,l=[];if(r._JT_has("$valid"))if(r._JT_has("=>")){if(_=!0,n=Jet.valid.findValidPar(t.ele),s=r.substring(r.indexOf("=>")+2).trim(),s._JT_has("|")){var h=s.split("|");s=h[0],a=h[1]}}else E('valid:"'+r+'" 格式有误，操作符为 =>');else s=r;s in t.jet||s.substring(0,s.indexOf(","))in t.jet?s.split(",").forEach(function(e){"function"!=typeof t.jet[e]?E(e+" 不是一个方法"):l.push(t.jet[e])}):l=[new Function("opt",s)],_&&null!=a&&(a in t.jet||a.substring(0,a.indexOf(","))in t.jet?a.split(",").forEach(function(e){"function"!=typeof t.jet[e]?E(e+" 不是一个方法"):o.push(t.jet[e])}):o=[new Function("opt",a)]),t.ele._JT_on(i,function(e){var i={ele:this,data:t.get(),event:e,jet:t};_?n._JT_validate(function(){l.forEach(function(e){e.call(t.jet,i)})},function(){o.forEach(function(e){e.call(t.jet,i)})}):l.forEach(function(e){e.call(t.jet,i)})})})}function Jt(t){this.runs=this._attrVal.split(","),this.runs[0]in this.jet&&"function"==typeof this.jet[this.runs[0]]||(this.runs=[this._attrVal]),this.run()}function dt(t){var e=this._attrVal;this.attrs={};var n=this;e._JT_has(";")?e.split(";").forEach(function(t){Tt.call(n,t)}):Tt.call(n,e),this.refresh()}function Tt(t){if(t._JT_has(":")){var e=t.indexOf(":"),n=t.substring(e+1);n._JT_has("{{")?(ct(this,n),n=n._JT_replaceAll("\\$","d")._JT_replaceAll("{{","")._JT_replaceAll("}}",""),this.attrs[t.substring(0,e)]=new Function("d","return ("+n+")")):this.attrs[t.substring(0,e)]=new Function("return '"+n+"'")}else E(this.isStyle?"JStyle":"JAttr:必须指定属性的值")}var vt={cls:function(t){return s(document.getElementsByClassName(t))},id:function(t){return s(document.getElementById(t))},tag:function(t){return s(document.getElementsByTagName(t))},attr:function(t){return s(document.querySelectorAll("["+t+"]"))},name:function(t){return s(document.getElementsByName(t))},select:function(t){return s(document.querySelectorAll(t))},body:function(){return document.body},type:p,ct:n,ajax:t,load:e,html5:function(){return!!window.applicationCache},urlParam:f};HTMLElement.prototype._JT_css=function(t,e){if(void 0==e){if("json"==vt.type(t)){for(var n in t)t[n]._JT_has("!important")?this.style.setProperty(n,o(this,n,t[n].substring(0,t[n].indexOf("!important"))),"important"):this.style.setProperty(n,o(this,n,t[n]));return this}return getComputedStyle(this)[t]}return e._JT_has("!important")?this.style.setProperty(t,o(this,t,e.substring(0,e.indexOf("!important"))),"important"):this.style.setProperty(t,o(this,t,e)),this},HTMLElement.prototype._JT_attr=function(t,e){if(void 0==e){if("json"==vt.type(t)){for(var n in t)this.setAttribute(n,t[n]);return this}return this.getAttribute(t)}return this.setAttribute(t,e),this},HTMLCollection.prototype._JT_attr=NodeList.prototype._JT_attr=function(t,e){if(void 0==e&&"json"!=vt.type(t)){var n=[];return this._JT_each(function(e){n._JT_append(e._JT_attr(t))}),n}return this._JT_each(function(n){n._JT_attr(t,e)}),this},HTMLElement.prototype._JT_hasAttr=function(t){return this.hasAttribute(t)},HTMLElement.prototype._JT_removeAttr=function(t){var e=t.split(" ");if(e.length>1){var n=this;e._JT_each(function(t){n.removeAttribute(t)})}else this.removeAttribute(t);return this},HTMLCollection.prototype._JT_removeAttr=NodeList.prototype._JT_removeAttr=function(t){return this._JT_each(function(e){e._JT_removeAttr(t)}),this},HTMLElement.prototype._JT_findTag=function(t){return s(this.getElementsByTagName(t))},HTMLElement.prototype._JT_findAttr=function(t){return s(this.querySelectorAll("["+t+"]"))},HTMLElement.prototype._JT_findClass=function(t){return s(this.getElementsByClassName(t))},HTMLElement.prototype._JT_select=function(t){return s(this.querySelectorAll(t))},HTMLElement.prototype._JT_addClass=function(t){if(t._JT_has(" ")){var e=this;t.split(" ")._JT_each(function(t){e._JT_addClass(t)})}else vt.html5()?this.classList.add(t):this._JT_hasClass(t)||(this.className+=" "+t);return this},HTMLCollection.prototype._JT_addClass=NodeList.prototype._JT_addClass=function(t){return this._JT_each(function(e){e._JT_addClass(t)}),this},HTMLElement.prototype._JT_removeClass=function(t){if(void 0==t)this.className="";else if(t._JT_has(" ")){var e=t.split(" "),n=this;e._JT_each(function(t){n._JT_removeClass(t)})}else if(vt.html5())this.classList.remove(t);else if(this._JT_hasClass(t)){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");this.className=this.className.replace(i," ").trim()}return this},HTMLCollection.prototype._JT_removeClass=NodeList.prototype._JT_removeClass=function(t){return this._JT_each(function(e){e._JT_removeClass(t)}),this},HTMLElement.prototype._JT_val=function(t){return void 0==t&&0==arguments.length?this.value:("INPUT"!=this.tagName&&"TEXTAREA"!=this.tagName&&"SELECT"!=this.tagName||(this.value=l(t,"")),this)},HTMLCollection.prototype._JT_val=NodeList.prototype._JT_val=function(t){if(void 0==t){var e=[];return this._JT_each(function(t){e._JT_append(t._JT_val())}),e}return this._JT_each(function(e){e._JT_val(t)}),this},HTMLElement.prototype._JT_txt=function(t){return void 0==t&&0==arguments.length?this.innerText:(this.innerText=l(t,""),this)},HTMLCollection.prototype._JT_txt=NodeList.prototype._JT_txt=function(t){if(void 0==t&&0==arguments.length){var e=[];return this._JT_each(function(t){e._JT_append(t._JT_txt())}),e}return this._JT_each(function(e){e._JT_txt(t)}),this},HTMLElement.prototype._JT_html=function(t){return void 0==t?this.innerHTML:(this.innerHTML=t,this)},HTMLCollection.prototype._JT_html=NodeList.prototype._JT_html=function(t){if(void 0==t){var e=[];return this._JT_each(function(t){e._JT_append(t._JT_html())}),e}return this._JT_each(function(e){e._JT_html(t)}),this},HTMLElement.prototype._JT_allHtml=function(t){return void 0==t?this.outerHTML:(this.outerHTML=t,this)},HTMLCollection.prototype._JT_allHtml=NodeList.prototype._JT_allHtml=function(t){var e=[];return this._JT_each(function(n){e._JT_append(n._JT_allHtml(t))}),e},HTMLElement.prototype._JT_hasClass=function(t){return vt.html5()?this.classList.contains(t):new RegExp("(\\s|^)"+t+"(\\s|$)").test(this.className)},HTMLElement.prototype._JT_next=function(t){return void 0!=t?this._JT_parent()._JT_child(this._JT_index()+t):this._JT_parent()._JT_child(this._JT_index()+1)},HTMLElement.prototype._JT_prev=function(t){return void 0!=t?this._JT_parent()._JT_child(this._JT_index()-t):this._JT_parent()._JT_child(this._JT_index()-1)},HTMLElement.prototype._JT_child=function(t){return void 0==t?this.children:this.children[t]},HTMLElement.prototype._JT_clone=function(){return this.cloneNode()._JT_html(this._JT_html())},HTMLElement.prototype._JT_parent=function(t){if(void 0==t)return this.parentElement;for(var e=this,n=0;n<t;n++)e=e.parentElement;return e},HTMLElement.prototype._JT_prepend=function(t){var e=vt.type(t);if("array"==e||"htmlcollection"==e||"nodelist"==e){var n=this;t._JT_each(function(t){n.insertBefore(h(t),n.children[0])})}else this.insertBefore(h(t),this.children[0]);return this},HTMLCollection.prototype._JT_prepend=NodeList.prototype._JT_prepend=function(t){return this._JT_each(function(e){e._JT_prepend(t)}),this},HTMLElement.prototype._JT_append=function(t,e){if(void 0==e){var n=vt.type(t);if("array"==n||"htmlcollection"==n||"nodelist"==n)for(var i=0;i<t.length;i++)this._JT_append(t[i]);else"string"==n?this._JT_append(h(t)):this.appendChild(h(t))}else this.insertBefore(h(t),this.children[e]);return this},HTMLElement.prototype._JT_toArray=function(){return[this]},HTMLCollection.prototype._JT_toArray=NodeList.prototype._JT_toArray=function(t){if(0!=t){for(var e=[],n=0;n<this.length;n++)e.push(this[n]);return e}return this},HTMLCollection.prototype._JT_append=NodeList.prototype._JT_append=function(t,e){return this._JT_each(function(n){n._JT_append(t,e)}),this},HTMLElement.prototype._JT_index=function(){for(var t=this._JT_parent()._JT_child(),e=0;e<t.length;e++)if(t[e]==this)return e;return-1},HTMLElement.prototype._JT_on=function(t,e,n){if("string"==vt.type(t))return this._JT_event("on"+t,e,n);for(var i in t)t["on"+i]=t[i],delete t[i];return this._JT_event(t,e)},HTMLCollection.prototype._JT_on=NodeList.prototype._JT_on=function(t,e,n){return this._JT_each(function(i){i._JT_on(vt.clone(t),e,n)}),this},HTMLElement.prototype._JT_clk=function(t,e){return this._JT_event("onclick",t,e)},HTMLCollection.prototype._JT_clk=NodeList.prototype._JT_clk=function(t,e){return this._JT_each(function(n){n._JT_clk(t,e)}),this},HTMLElement.prototype._JT_event=function(t,e,n){if("string"==vt.type(t))1==n?u(this,t,e):this[t]=r(e);else for(var i in t)void 0!=t[i]&&(1==e?u(this,i,t[i]):this[i]=r(t[i]));return this},HTMLCollection.prototype._JT_event=NodeList.prototype._JT_event=function(t,e,n){return this._JT_each(function(i){i._JT_event(t,e,n)}),this},HTMLElement.prototype._JT_empty=function(){return this._JT_html("")},HTMLCollection.prototype._JT_empty=NodeList.prototype._JT_empty=function(){return this._JT_each(function(t){t._JT_empty()}),this},HTMLElement.prototype._JT_remove=function(){this.parentNode.removeChild(this)},HTMLCollection.prototype._JT_remove=NodeList.prototype._JT_remove=function(t){if(void 0==t)for(var e=0;e<this.length;)this[e]._JT_remove();else if("number"==vt.type(t)){for(var e=0;e<this.length;e++)if(e==t)return this[e]._JT_remove(),this}else for(var e=0;e<this.length;e++)if(this[e]==t)return this[e]._JT_remove(),this},HTMLElement.prototype._JT_each=function(t,e){return t(this,0,e),this},HTMLCollection.prototype._JT_each=NodeList.prototype._JT_each=function(t,e){for(var n=this._JT_toArray(),i=0;i<n.length;i++)t(n[i],i,e);return this},Array.prototype._JT_each=function(t,e){for(var n=0;n<this.length;n++)t(this[n],n,e);return this},Array.prototype._JT_empty=function(t){return this.length=0,this},HTMLElement.prototype._JT_last=function(){return this._JT_child()._JT_last()},HTMLElement.prototype._JT_first=function(){return this._JT_child()._JT_first()},HTMLCollection.prototype._JT_last=NodeList.prototype._JT_last=Array.prototype._JT_last=function(t){return this[this.length-1]},HTMLCollection.prototype._JT_first=NodeList.prototype._JT_first=Array.prototype._JT_first=function(t){return this[0]},Array.prototype._JT_remove=function(t,e){var n=this.indexOf(t);return 0==e?this[a]=this[this.length--]:this._JT_removeByIndex(n),this},Array.prototype._JT_removeByIndex=function(t){return this.splice(t,1),this},Array.prototype._JT_insert=function(t,e){return this.splice(e,0,t),this},Array.prototype._JT_insertArray=function(t,e){for(var n=e,i=t.length,r=this.length-1;r>=n;r--)this[r+i]=this[r];for(var s=0;s<i;s++)this[n+s]=t[s];return this},Array.prototype._JT_append=function(){return Array.prototype.push.apply(this,arguments),this},Array.prototype._JT_prepend=function(t){return 1==arguments.length?this._JT_insert(t,0):this._JT_insertArray(arguments,0)},String.prototype._JT_has=function(t){return"string"==vt.type(t)?void 0==this.includes?-1!=this.indexOf(t):this.includes(t):null!=this.match(t)},String.prototype._JT_replaceAll=function(t,e){if("array"==vt.type(e)){if("string"==vt.type(t)){var n=this.split(t),i=n[0];return n._JT_each(function(t,n){n>0&&(i+=e[n-1]+t)}),i}var r="",s=this,a=this.match(t);return null!=a?(a._JT_each(function(t,n){s.split(t);r+=s.substring(0,s.indexOf(t))+e[n],s=s.substring(s.indexOf(t)+t.length)}),r+=s):this}return"string"==vt.type(t)?this.replace(new RegExp(t,"g"),e):this.replace(t,e)},HTMLElement.prototype._JT_exist=function(t,e){return void 0!=t&&r(t)(this),!0},HTMLCollection.prototype._JT_exist=NodeList.prototype._JT_exist=Array.prototype._JT_exist=function(t,e){return this.length>0?(1==this.length?r(t)(this[0]):r(t)(this),!0):(r(e)(),!1)},HTMLElement.prototype._JT_content=function(t){if("INPUT"==this.tagName||"TEXTAREA"==this.tagName||"SELECT"==this.tagName){if(void 0==t&&0==arguments.length)return this.value;try{this.value=l(t,"")}catch(t){}}else{if(void 0==t&&0==arguments.length)return this.innerText;this.innerText=l(t,"")}return this},vt.tag("head")._JT_append(vt.ct("style")._JT_txt(".jet-hide{display:none!important}.jet-unpass{border-color:#f20!important;border-style:solid!important;background-color:rgba(255,0,0,.1)!important;color:red!important}"));var yt="J",mt="Jfor",gt="Jif",xt="Jon",bt="Jrun",jt="Jattr",At="Jstyle",wt="Jshow",Et="Jroot",c="$each",Lt="$value",Ot="$index",Ct="jdom",Ht=new RegExp("({{)((.|\\n)*?)(}})","g"),Mt=new RegExp("(\\[)((.|\\n)*?)(\\])","g");window.Jet=function(t){void 0===t&&(t={}),this._tools={_jets:[],_jetTools:[],_calls:{},_data:t.data},this.$dom={};var e=this;if(this.$=function(t){return new Jet.DOM({ele:t,jet:e})},J(this,t.data,this._tools._calls),t.func)for(var n in t.func)this[n]?E("data 不能与 func 有重名属性"):this[n]=t.func[n];var e=this;Jet.load.init(function(){O.call(e,t,e._tools._calls)})},Jet.prototype.get=function(){return this},Jet.prototype.makeChange=function(t){new Function("call","return call."+t+"._func")(this._tools._calls).forEach(function(t){t()})},Jet.prototype.$ajax=t,Jet.prototype.$jui=function(t){return P(t).$jui},Jet.$ajax=t,Jet.$=vt,Jet.DOM=function(t){this.jet=t.jet,this.ele=t.ele,this.name=t.ele._JT_attr(Ct);var e=this;Object.defineProperty(this,"html",{get:function(){return e.ele.innerHTML},set:function(t){e.ele.innerHTML=t}}),Object.defineProperty(this,"text",{get:function(){return e.ele.innerText},set:function(t){e.ele.innerText=t}}),Object.defineProperty(this,"value",{get:function(){return e.ele.value},set:function(t){e.ele.value=t}}),Object.defineProperty(this,"class",{get:function(){return e.ele._JT_attr("class")},set:function(t){if("+"!=t[0]&&"-"!=t[0])e.ele._JT_attr("class",t);else{t.split(";").forEach(function(t){"+"!=t[0]&&"-"!=t[0]&&E("添加或删除类 第一个字符必须是+或者-"),"+"==t[0]?e.ele._JT_addClass(t.substring(1)):e.ele._JT_removeClass(t.substring(1))})}}}),Object.defineProperty(this,"outerHtml",{get:function(){return e.ele.outerHTML},set:function(t){console.error("outerHtml 不允许赋值")}}),Object.defineProperty(this,"attr",{get:function(){for(var t={},n=0;n<e.ele.attributes.length;n++)t[e.ele.attributes[n].name]=e.ele.attributes[n].textContent;return t},set:function(t){t.split(";").forEach(function(t){if("-"==t[0])e.ele._JT_removeAttr(t.substring(1));else{var n=t.split("=");0==n.length&&(n[1]=""),"+"==n[0]?e.ele._JT_attr(n[0].substring(1),n[1]):e.ele._JT_attr(n[0],n[1])}})}}),Object.defineProperty(this,"css",{get:function(){return e.ele.style},set:function(t){t.split(";").forEach(function(t){var n=t.split("=");e.ele._JT_css(n[0],n[1])})}})};var Nt={ready:function(){function t(t){if(!n&&("onreadystatechange"!==t.type||"complete"===document.readyState)){for(var r=0;r<e.length;r++)e[r].call(i);n=!0,e=null}}var e=[],n=!1,i=null;return document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),document.addEventListener("readystatechange",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",t),window.attachEvent("onload",t)),function(t,r){i=r,n?t.call(i):e.push(t)}}(),load:function(t,e){document.addEventListener?document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments,!1),t.call(e)},!1):document.attachEvent&&document.attachEvent("onreadystatechange",function(){"complete"==document.readyState&&(document.detachEvent("onreadystatechange",arguments),t.call(e))})}};Jet.Base=function(t,e){switch(this.jet=t.jet,this.par=t.par,this.ele=t.ele,this._data=t._data,this.data=t.data,this.type=e,this.name=t.name,this.index=t.index,e!=mt&&"Jinput"!=e&&"Jtext"!=e||(e=yt),this._tools={_jets:[],_jetTools:[],_calls:t.calls},this._attrVal=this.ele._JT_attr(e),this.ele._JT_removeAttr(e),this.type){case gt:this.ele._hasIf=!0;break;case xt:this.ele._hasOn=!0;break;case bt:this.ele._hasRun=!0;break;case jt:this.ele._hasAttr=!0;break;case At:this.ele._hasStyle=!0;break;case wt:this.ele._hasShow=!0;break;default:this.ele._hasBind=!0}this.ele._JT_hasAttr(Et)&&(this.par=this.jet,this.data=this.jet,this.name?this._tools._calls=this.jet._tools._calls[this.name]:this._tools._calls=this.jet._tools._calls),this.type!=yt&&this.type!=mt&&"Jtext"!=this.type&&"Jinput"!=this.type||(this.ele.__jet=this)},Jet.Base.prototype.makeChange=function(t){var e;e=void 0==t?this._tools._calls._func:new Function("$","return "+t+"._func")(this._tools._calls),e.forEach(function(t){t()})},Jet.Base.prototype.disable=function(){switch(console.warn("忽略了一个元素"),this.disable=!0,this.ele._JT_attr(this.type,this._attrVal),this.type){case gt:this.ele._hasIf=!1;break;case xt:this.ele._hasOn=!1;break;case bt:this.ele._hasRun=!1;break;case jt:this.ele._hasAttr=!1;break;case At:this.ele._hasStyle=!1;break;case wt:this.ele._hasShow=!1;break;default:this.ele._hasBind=!1}this.type==yt?this.par._tools._jets._JT_remove(this):this.par._tools._jetTools._JT_remove(this),this.ele.__jet=null},Jet.Base.prototype.regist=function(t,e){var n=!1;if(2==arguments.length)if(t._JT_has(".")){for(var i=t.split("."),r=this._tools._calls,s=1;s<i.length;s++)if(null==(r=M(r,i[s]))){n=!0,this.disable();break}n||r._func.push(e)}else{"function"!=vt.type(e)&&E("call参数必须为函数");var r=M(this._tools._calls,t);null==r?(n=!0,this.disable()):r._func.push(e)}else"function"!=vt.type(t)&&E("call参数必须为函数"),this._tools._calls._func.push(t)};var It=function(){};It.prototype=Jet.Base.prototype,Array.prototype.$push=function(t){var e=this._jet,n=e.data[e.name],i=e._data[e.name];i.push(t),v(n,n.length,i,e._tools._calls),e.refresh.push.call(e)},Array.prototype.$pushArray=function(t){var e=this;t._JT_each(function(t){e.$push(t)})},Array.prototype.$prep=function(t){var e=this._jet,n=e.data[e.name],i=e._data[e.name];i._JT_prepend(t),e._tools._calls._JT_prepend({}),d(n,i,e._tools._calls),e.refresh.prep.call(e)},Array.prototype.$prepArray=function(t){this.$insertArray(t,0)},Array.prototype.$insert=function(t,e){var n=this._jet,i=n.data[n.name],r=n._data[n.name];r._JT_insert(t,e),n._tools._calls._JT_insert({},e),T(i,r,n._tools._calls,e),n.refresh.insert.call(n,e)},Array.prototype.$insertArray=function(t,e){var n=this._jet,i=n.data[n.name],r=n._data[n.name];r._JT_insertArray(t,e);var s=[];t._JT_each(function(){s.push({})}),n._tools._calls._JT_insertArray(s,e),T(i,r,n._tools._calls,e),n.refresh.insertArray.call(n,t,e)},Array.prototype.$remove=function(t,e){void 0==e&&(e=1);var n=this._jet,i=n.data[n.name],r=n._data[n.name];r.length<t+e&&(r.length<t+1?E("$remove 方法索引超过数组长度"):(e=r.length-t,console.warn("$remove 方法删除的个数超过数组长度，只删除"+e+"个元素"))),r.splice(t,e),n._tools._calls.splice(t,e),T(i,r,n._tools._calls,t),i.length-=e,n.refresh.remove.call(n,t,e)},Array.prototype.$clear=function(){this.$remove(0,this.length)},Array.prototype.$replace=function(t){this.$clear(),this.$pushArray(t),this._jet.makeChange()},Jet.$=vt;var St="JrouteScript",$t="JrouteStyle";Jet.router={base:"",trueBase:!1,history:!1,path:"/",params:null,router:{},use:function(t){I(t),Jet.router.index="index"in t?t.index:"/index";var e=Jet.router.index;location.pathname._JT_has("index.html")||(Jet.router.history?location.pathname.length-Jet.router.base.length>1&&(e=location.pathname.substring(Jet.router.base.length)+location.search+location.hash):location.hash.length>2&&(e=location.pathname+location.hash,e=e.substring(Jet.router.base.length)+location.search)),Jet.router.init(),Jet.router.route(e)},conf:{html:"/src/html",js:"/src/js",css:"/src/css",image:"/src/image"},init:function(t){var e;e=void 0==t?vt.attr("Jrouter"):t._JT_findAttr("Jrouter"),e._JT_each(function(t){t._JT_clk(function(){Jet.router.route(this._JT_attr("Jrouter"))})})},__onroute:[],onroute:function(t,e){"function"==typeof t?(t._jet=e,Jet.router.__onroute.push(t)):E("onroute:参数必须是函数")},__onrouted:[],onrouted:function(t,e){"function"==typeof t?(t._jet=e,Jet.router.__onrouted.push(t)):E("onroute:参数必须是函数")},route:function(t,e,n){var i="";if(-1!=t.indexOf("#")){var r=t.indexOf("?"),s=t.indexOf("#");-1!=r?r>s?(Jet.router.hash=t.substring(s,r),i=t.substring(r+1),t=t.substring(0,s),r=s):(Jet.router.hash=t.substring(s),i=t.substring(r+1,s),t=t.substring(0,r)):(Jet.router.hash=t.substring(s),r=s,t=t.substring(0,s))}else t._JT_has("?")&&(i=t.substring(t.indexOf("?")+1),t=t.substring(0,t.indexOf("?"))),Jet.router.hash="";var a=vt.attr('Jrouter="'+t+'"');a._JT_exist()&&(vt.attr("jrouter-active")._JT_removeAttr("jrouter-active"),a._JT_attr("jrouter-active","")),t=B(t);var o=!1;t in Jet.router.router||(t=Jet.router.base+"/404",o=!0);var _=Jet.router.router[t];if(void 0!=_){if(_._JT_has("?")){if(""==i)i=_.substring(_.indexOf("?")+1);else{var l=_.substring(_.indexOf("?")+1).split("&"),h=i.split("&");l.forEach(function(t){-1==h.indexOf(t)&&(i+="&"+t)})}_=_.substring(0,_.indexOf("?")),o=!0}""!=i&&(i="?"+i),Jet.router.path=t;var u={},c=t,p=t+i+Jet.router.hash;void 0==e&&history.pushState(u,c,p),o&&history.replaceState(u,c,p),Jet.router.params=vt.urlParam(),Jet.router.__onroute.forEach(function(t){t._jet?t.call(t._jet,Jet.router):t.call(Jet.router)}),vt.load(Jet.router.conf.html+_,function(t){var e=vt.attr("Jout")._JT_html(t);"undefined"!=typeof JUI&&(JUI._jui_mounted=[]),n&&n(),R(e),k(e),Jet.valid.init(e),Jet.lang.init(e),Jet.router.init(e),"undefined"!=typeof JUI&&JUI.init(e),Jet.load.init(e),Jet.router.__onrouted.forEach(function(t){t._jet?t.call(t._jet,Jet.router):t.call(Jet.router)})})}}},window.onpopstate=function(t){Jet.router.history?Jet.router.route(location.pathname.substring(Jet.router.base.length)+location.search+location.hash,!1):Jet.router.route(location.hash.substring(1),!1)};var e="Jload";Jet.load={init:function(t,n){var i;void 0==t||"function"==typeof t?(i=vt.attr(e)._JT_toArray(!1),n=t):i=t._JT_findAttr(e)._JT_toArray(!1);var r=i.length;0==r&&void 0!=n&&n(),i._JT_each(function(t,i){var s=t._JT_attr(e);t._JT_removeAttr(e),vt.load(Jet.router.conf.html+s,function(e){t._JT_html(e),i==r-1&&void 0!=n&&n(),F(t,s),X(t,s),Jet.valid.init(t),Jet.lang.init(t),"undefined"!=typeof JUI&&JUI.init(t),Jet.load.init(t)})})}};var Bt="Jform",kt="Jvalid";Jet.valid={init:function(t){var e;t=P(t),e=void 0==t?vt.attr(kt):t._JT_findAttr(kt),e._JT_each(function(t){t.__valided||(t._JT_on({blur:"Jet.valid.validInput(this,true,true)",focus:"Jet.valid.addValidValue(this)"},!0).__valided=!0,Jet.valid.__placeholder&&t._JT_attr("placeholder",Z(t._JT_attr(kt))))})},findValidPar:function(t){for(var e=t._JT_parent();!e._JT_hasAttr(Bt)&&null!=e._JT_parent();)e=e._JT_parent();return e},regExp:{null:/^\S{0}$/,date:/^(([12]\d{3}-((0[1-9])|(1[0-2]))-((0[1-9])|([1-2]\d)|3(0|1))))$/,email:/^((\w*@\w*\.[A-Za-z.]+(\.)?[A-Za-z]+))$/,decimal:/^-?[1-9]\d*.\d*|0.\d*[1-9]\d*$/,idcard:/^(\d{17}(X|\d))$/,url:/^((https|http|ftp|rtsp|mms)?:\/\/)[^\s]+$/,phone:/^([1]\d{10})$/},validText:{CN:{nul:"*可以为空",notnull:"*必填",date:"*格式为XXXX-XX-XX",email:"*格式为XXX@XX.XX",number:"*须为纯数字",idcard:"*17位数字加一位数字或X",length:"*输入长度为",url:"*请输入正确的网址",decimal:"*请正确的小数",lengthOfAny:"*输入长度为",phone:"*须为11位纯数字",letterStart:"*字母开头且长度为",range:"*数字不在范围内",express:"*自定义错误"},EN:{nul:"*null is allowed",notnull:"*Required",date:"*format:XXXX-XX-XX",email:"*format:XXX@XX.XX",number:"*expect a number",idcard:"*17 numbers plus a number or X",length:"*length between",url:"*Expect an url name",decimal:"*Expect a float number",lengthOfAny:"*length between",phone:"*must be 11 digits",letterStart:"*letter start and length",range:"*not in range",express:"*wrong express"}},__lang:"CHINESE",__default:!0,__placeholder:!1,useAlert:!1,validate:z,addValidText:function(t,e){if("json"==vt.type(t)&&void 0==e)for(var n in t)Jet.valid.addValidText(n,t[n]);else"CHINESE"==Jet.valid.__lang?Jet.valid.validText.CN[t]=e:Jet.valid.validText.EN[t]=e},addRegExp:function(t,e,n){"string"==typeof e&&(e=new RegExp(e)),Jet.valid.regExp[t]=e,void 0!==n&&Jet.valid.addValidText(t,n)},validInput:U,addValidValue:q,onOnePass:function(t){Rt=r(t)},onOneFail:function(t){Xt=r(t)}},Object.defineProperty(Jet.valid,"language",{get:function(){return Jet.valid.__lang},set:function(t){Jet.valid.__lang=t.toUpperCase()}}),Object.defineProperty(Jet.valid,"useDefaultStyle",{get:function(){return Jet.valid.__default},set:function(t){Jet.valid.__default=t,!1===t&&vt.cls("jet-unpass").each(function(t){V(t),t.removeClass("jet-unpass").val(t._JT_validValue),t._JT_validValue=void 0})}}),Object.defineProperty(Jet.valid,"showInPlaceHolder",{get:function(){return Jet.valid.__placeholder},set:function(t){Jet.valid.__placeholder=t,!0===t?vt.attr(kt).each(function(t){t._JT_attr("placeholder",Z(t._JT_attr(kt)))}):!1===t&&vt.attr(kt).each(function(t){t._JT_removeAttr("placeholder")})}}),Jet.valid.init();var Rt=null,Xt=null;HTMLElement.prototype._JT_validate=function(t,e){z({ele:this,pass:t,fail:e})};var Ft="Jlang",Pt="";Jet.lang=function(t){this.type=Ft,this.data=t},Jet.lang.list=[],Jet.lang.used=!1,Jet.lang.use=function(t){"array"!=vt.type(t)?E("Jet.lang.init: 参数是一个数组"):(this.used=!0,this.list=t,Pt=t[0]),Jet.lang.init()},Jet.lang.jets=[],Jet.lang.init=function(t){var e;void 0==t?e=vt.attr(Ft):(t=P(t),e=t._JT_findAttr(Ft)),e._JT_each(function(t){t._jet_langs={},t._JT_findAttr("Jname")._JT_each(function(e){var n=e._JT_attr("Jname");t._jet_langs[n]=e._JT_html()}),t._JT_html(t._jet_langs[Jet.lang.type]),Jet.valid.init(t)}),Jet.$.id("__preload_jl")._JT_remove()},Object.defineProperty(Jet.lang,"type",{configurable:!0,enumerable:!0,get:function(){return Pt},set:function(t){Pt=t,Y()}}),window.JL=function(t){return new Jet.lang(t)},Jet.Bind=function(t){Jet.Base.call(this,t,yt),et.call(this,t)},Jet.Bind.prototype=new It,Jet.Bind.prototype.refresh=function(t){this._tools._jets._JT_each(function(e){e.refresh(t)}),this._tools._jetTools._JT_each(function(e){e.refresh(t)})},Jet.Bind.prototype.get=function(){return this.data[this.name]},Jet.For=function(t){Jet.Base.call(this,t,mt),at.call(this,t)},Jet.For.prototype=new It,Jet.For.prototype.refresh=function(t){t&&t!=this.name||(this._tools._jets._JT_each(function(e){e.refresh(t)}),this._tools._jetTools._JT_each(function(e){e.refresh(t)}))},Jet.For.prototype.get=function(){return this.data[this.name]},Jet.For.prototype.refreshParIndex=function(){this._tools._jets._JT_each(function(t){t._tools._jets._JT_each(function(t){t._parIndex&&"Jtext"==t.type?t.refresh():t.type==mt&&t.refreshParIndex()})})},Jet.For.prototype.refresh.push=function(){if(this._switch){var t=this._data[this.name]._JT_last()[this._type];t in this._html?this.ele._JT_append(this._html[t]):E("swicth:指定属性的值不在swicth枚举内")}else this.ele._JT_append(this._html);var e=ot(this,this.ele._JT_child()._JT_last(),this.data[this.name].length-1);"array"==vt.type(e.data[0])?this._tools._jets.push(new Jet.For(e)):this._tools._jets.push(new Jet.Bind(e))},Jet.For.prototype.refresh.prep=function(){if(this._switch){var t=this._data[this.name]._JT_first()[this._type];t in this._html?this.ele._JT_prepend(this._html[t]):E("swicth:指定属性的值不在swicth枚举内")}else this.ele._JT_prepend(this._html);var e=ot(this,this.ele._JT_child()._JT_first(),0);"array"==vt.type(e.data[0])?this._tools._jets._JT_prepend(new Jet.For(e)):this._tools._jets._JT_prepend(new Jet.Bind(e)),rt.call(this,0)},Jet.For.prototype.refresh.insert=function(t){if(this._switch){var e=this._data[this.name][t][this._type];if(!(e in this._html))return void E("swicth:指定属性的值不在swicth枚举内");this.ele._JT_append(this._html[e],t)}else this.ele._JT_append(this._html,t);var n=ot(this,this.ele._JT_child(t),t);"array"==vt.type(n.data[0])?this._tools._jets._JT_insert(new Jet.For(n),t):this._tools._jets._JT_insert(new Jet.Bind(n),t),rt.call(this,t+1)},Jet.For.prototype.refresh.insertArray=function(t,e){var n=this,i=vt.type(t[0]);t._JT_each(function(t,r){var s=e+r;if(n._switch){var a=n._data[n.name][s][n._type];a in n._html?n.ele._JT_append(n._html[a],s):E("swicth:指定属性的值不在swicth枚举内")}else n.ele._JT_append(n._html,s);var o=ot(n,n.ele._JT_child(s),s);"array"==i?n._tools._jets._JT_insert(new Jet.For(o),s):n._tools._jets._JT_insert(new Jet.Bind(o),s)}),rt.call(this,e+t.length)},Jet.For.prototype.refresh.remove=function(t,e){for(var n=0;n<e;n++)this.ele._JT_child(t)._JT_remove();this._tools._jets.splice(t,e),rt.call(this,t)},Jet.Repeat=function(){},Jet.Text=function(t){Jet.Base.call(this,t,"Jtext"),this.isHtml=t.ele._JT_hasAttr("jhtml"),this._parIndex=t._parIndex,t.par=this,lt.call(this,t)},Jet.Text.prototype=new It,Jet.Text.prototype.refresh=function(t){if(!t||t==this.name){var e=this.func?this.func.call(this.jet,this.get()):this.get();this.isHtml?this.ele._JT_html(e):this.ele._JT_txt(e)}},Jet.Text.prototype.get=function(){return this._parIndex?_t(this,this._parIndex):void 0!=this.index?this.index:this.data[this.name]},Jet.Text.prototype.setIndex=function(t){this.index=t,this.refresh(),this._tools._jetTools._JT_each(function(e){e.name==Ot&&e.refresh(t)})},Jet.Input=function(t){Jet.Base.call(this,t,"Jinput"),t.par=this,ht.call(this,t)},Jet.Input.prototype=new It,Jet.Input.prototype.refresh=function(t){if(!t||t==this.name){var e=this.func?this.func.call(this.jet,this.get()):this.get();this.isContent?this.ele._JT_html(e):this.ele._JT_val(e)}},Jet.Input.prototype.get=function(){return this.data[this.name]},Jet.If=function(t,e){this.exp=null,this.func_true=null,this.func_false=null,Jet.Base.call(this,t,e?wt:gt),pt.call(this)},Jet.If.prototype=new It,Jet.If.prototype.get=function(){return this.name==Ot?this.index:this.name==Lt?this.data:void 0==this.name?this.data:this.data[this.name]},Jet.If.prototype.refresh=function(t){void 0!=this.index&&void 0!=t&&this.index!=t&&this.index;var e=this.get(),n={ele:this.ele,data:e,jet:this};!0===this.exp(e)?this.func_true.call(this.jet,n):this.func_false.call(this.jet,n)},Jet.On=function(t){Jet.Base.call(this,t,xt),ft.call(this)},Jet.On.prototype=new It,Jet.On.prototype.get=function(){return void 0!=this.index?this.index:void 0==this.data?null:void 0==this.name?this.data:this.data[this.name]},Jet.On.prototype.refresh=function(t){void 0!=this.index&&void 0!=t&&this.index!=t&&(this.index=t)},Jet.Run=function(t){Jet.Base.call(this,t,bt),Jt.call(this,t)},Jet.Run.prototype=new It,Jet.Run.prototype.get=function(){return void 0!=this.index?this.index:void 0==this.data?null:void 0==this.name?this.data:this.data[this.name]},Jet.Run.prototype.refresh=function(t){void 0!=this.index&&void 0!=t&&this.index!=t&&this.index,this.run()},Jet.Run.prototype.run=function(){var t=this,e={ele:t.ele,data:t.get(),jet:t};this.runs._JT_each(function(n){n in t.jet&&"function"==typeof t.jet[n]?t.jet[n].call(t.jet,e):new Function("opt",n).call(t.jet,e)})},Jet.Attr=function(t,e){Jet.Base.call(this,t,e?At:jt),this.isStyle=e,this.setFunc=this.isStyle?this.ele._JT_css:this.ele._JT_attr,dt.call(this,t)},Jet.Attr.prototype=new It,Jet.Attr.prototype.get=function(){return void 0!=this.index?this.index:void 0==this.data?null:void 0==this.name?this.data:this.data[this.name]},Jet.Attr.prototype.refresh=function(t){var e=this.get();for(var n in this.attrs)this.setFunc.call(this.ele,n,this.attrs[n](e))},Jet.Style=Jet.Attr,Jet.Show=Jet.If}();})();